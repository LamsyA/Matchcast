{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/node_modules/satori/src/yoga/yoga-prebuilt.wasm.ts","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/negateValue.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/corePluginList.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/configurePlugins.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/stubs/defaultConfig.stub.js","/turbopack/[project]/node_modules/satori/src/vendor/twrnc/log.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/public/colors.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/defaults.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/toPath.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/normalizeConfig.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/isPlainObject.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/cloneDeep.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/util/unesc.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/util/getProp.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/util/ensureObject.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/util/stripComments.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/util/index.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/node.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/types.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/container.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/root.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/selector.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/cssesc@3.0.0/node_modules/cssesc/cssesc.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/className.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/comment.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/id.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/namespace.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/tag.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/string.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/pseudo.js","/turbopack/[project]/node_modules/satori/src/vendor/twrnc/deprecate.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/attribute.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/universal.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/combinator.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/nesting.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/sortAscending.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/tokenTypes.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/tokenize.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/parser.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/processor.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/constructors.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/guards.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/selectors/index.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/postcss-selector-parser@6.0.10/node_modules/postcss-selector-parser/dist/index.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/escapeCommas.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/color-name@1.1.4/node_modules/color-name/index.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/color.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/withAlphaVariable.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/lib/regex.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/splitAtTopLevelOnly.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/parseBoxShadowValue.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/dataTypes.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/pluginUtils.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/toColorValue.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/resolveConfig.js","/turbopack/[project]/node_modules/satori/src/vendor/twrnc/picocolors.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/featureFlags.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/util/getAllConfigs.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/lib/public/resolve-config.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/tailwindcss@3.1.8_postcss@8.4.21/node_modules/tailwindcss/resolveConfig.js","/turbopack/[project]/node_modules/satori/src/yoga/index.ts","/turbopack/[project]/node_modules/satori/src/vendor/parse-css-dimension/index.js","/turbopack/[project]/node_modules/satori/src/utils.ts","/turbopack/[project]/node_modules/satori/src/handler/image.ts","/turbopack/[project]/node_modules/satori/src/handler/preprocess.ts","/turbopack/[project]/node_modules/satori/src/handler/presets.ts","/turbopack/[project]/node_modules/satori/src/handler/inheritable.ts","/turbopack/[project]/node_modules/satori/src/handler/expand.ts","/turbopack/[project]/node_modules/satori/src/transform-origin.ts","/turbopack/[project]/node_modules/satori/src/parser/mask.ts","/turbopack/[project]/node_modules/satori/src/handler/compute.ts","/turbopack/[project]/node_modules/satori/src/builder/text.ts","/turbopack/[project]/node_modules/satori/src/builder/transform.ts","/turbopack/[project]/node_modules/satori/src/builder/shadow.ts","/turbopack/[project]/node_modules/satori/src/builder/text-decoration.ts","/turbopack/[project]/node_modules/satori/src/text/characters.ts","/turbopack/[project]/node_modules/satori/src/text/measurer.ts","/turbopack/[project]/node_modules/satori/src/text/processor.ts","/turbopack/[project]/node_modules/satori/src/text/index.ts","/turbopack/[project]/node_modules/satori/src/builder/background-image.ts","/turbopack/[project]/node_modules/satori/src/vendor/gradient-parser/index.js","/turbopack/[project]/node_modules/satori/src/builder/border-radius.ts","/turbopack/[project]/node_modules/satori/src/builder/border.ts","/turbopack/[project]/node_modules/satori/src/builder/content-mask.ts","/turbopack/[project]/node_modules/satori/src/parser/shape.ts","/turbopack/[project]/node_modules/satori/src/builder/clip-path.ts","/turbopack/[project]/node_modules/satori/src/builder/overflow.ts","/turbopack/[project]/node_modules/satori/src/builder/mask-image.ts","/turbopack/[project]/node_modules/satori/src/builder/rect.ts","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/emoji-regex@10.2.1/node_modules/emoji-regex/index.mjs","/turbopack/[project]/node_modules/satori/src/language.ts","/turbopack/[project]/node_modules/satori/src/layout.ts","/turbopack/[project]/node_modules/satori/src/font.ts","/turbopack/[project]/node_modules/satori/src/builder/svg.ts","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/create.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/types.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/helpers.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/styles.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/cache.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/font-size.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/line-height.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/spacing.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/screens.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/font-family.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/color.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/borders.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/inset.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/flex.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/width-height.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/letter-spacing.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/opacity.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/resolve/shadow.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/ClassParser.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/parse-inputs.js","/turbopack/[project]/node_modules/satori/node_modules/.pnpm/twrnc@3.4.0_postcss@8.4.21_react-native@0.72.4/node_modules/twrnc/dist/esm/plugin.js","/turbopack/[project]/node_modules/satori/src/handler/tailwind.ts","/turbopack/[project]/node_modules/satori/src/satori.ts"],"sourcesContent":["// For WASM build, we don't include the prebuilt version of Yoga but let the\n// user specify the module manually with e.g.:\n// https://github.com/shuding/yoga-wasm-web.\nexport async function getYogaModule() {\n  return {}\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>_default\n});\nfunction _default(value) {\n    value = `${value}`;\n    if (value === \"0\") {\n        return \"0\";\n    }\n    // Flip sign of numbers\n    if (/^[+-]?(\\d+|\\d*\\.\\d+)(e[+-]?\\d+)?(%|\\w+)?$/.test(value)) {\n        return value.replace(/^[+-]?/, (sign)=>sign === \"-\" ? \"\" : \"-\");\n    }\n    if (value.includes(\"var(\") || value.includes(\"calc(\")) {\n        return `calc(${value} * -1)`;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>_default\n});\nconst _default = [\n    \"preflight\",\n    \"container\",\n    \"accessibility\",\n    \"pointerEvents\",\n    \"visibility\",\n    \"position\",\n    \"inset\",\n    \"isolation\",\n    \"zIndex\",\n    \"order\",\n    \"gridColumn\",\n    \"gridColumnStart\",\n    \"gridColumnEnd\",\n    \"gridRow\",\n    \"gridRowStart\",\n    \"gridRowEnd\",\n    \"float\",\n    \"clear\",\n    \"margin\",\n    \"boxSizing\",\n    \"display\",\n    \"aspectRatio\",\n    \"height\",\n    \"maxHeight\",\n    \"minHeight\",\n    \"width\",\n    \"minWidth\",\n    \"maxWidth\",\n    \"flex\",\n    \"flexShrink\",\n    \"flexGrow\",\n    \"flexBasis\",\n    \"tableLayout\",\n    \"borderCollapse\",\n    \"borderSpacing\",\n    \"transformOrigin\",\n    \"translate\",\n    \"rotate\",\n    \"skew\",\n    \"scale\",\n    \"transform\",\n    \"animation\",\n    \"cursor\",\n    \"touchAction\",\n    \"userSelect\",\n    \"resize\",\n    \"scrollSnapType\",\n    \"scrollSnapAlign\",\n    \"scrollSnapStop\",\n    \"scrollMargin\",\n    \"scrollPadding\",\n    \"listStylePosition\",\n    \"listStyleType\",\n    \"appearance\",\n    \"columns\",\n    \"breakBefore\",\n    \"breakInside\",\n    \"breakAfter\",\n    \"gridAutoColumns\",\n    \"gridAutoFlow\",\n    \"gridAutoRows\",\n    \"gridTemplateColumns\",\n    \"gridTemplateRows\",\n    \"flexDirection\",\n    \"flexWrap\",\n    \"placeContent\",\n    \"placeItems\",\n    \"alignContent\",\n    \"alignItems\",\n    \"justifyContent\",\n    \"justifyItems\",\n    \"gap\",\n    \"space\",\n    \"divideWidth\",\n    \"divideStyle\",\n    \"divideColor\",\n    \"divideOpacity\",\n    \"placeSelf\",\n    \"alignSelf\",\n    \"justifySelf\",\n    \"overflow\",\n    \"overscrollBehavior\",\n    \"scrollBehavior\",\n    \"textOverflow\",\n    \"whitespace\",\n    \"wordBreak\",\n    \"borderRadius\",\n    \"borderWidth\",\n    \"borderStyle\",\n    \"borderColor\",\n    \"borderOpacity\",\n    \"backgroundColor\",\n    \"backgroundOpacity\",\n    \"backgroundImage\",\n    \"gradientColorStops\",\n    \"boxDecorationBreak\",\n    \"backgroundSize\",\n    \"backgroundAttachment\",\n    \"backgroundClip\",\n    \"backgroundPosition\",\n    \"backgroundRepeat\",\n    \"backgroundOrigin\",\n    \"fill\",\n    \"stroke\",\n    \"strokeWidth\",\n    \"objectFit\",\n    \"objectPosition\",\n    \"padding\",\n    \"textAlign\",\n    \"textIndent\",\n    \"verticalAlign\",\n    \"fontFamily\",\n    \"fontSize\",\n    \"fontWeight\",\n    \"textTransform\",\n    \"fontStyle\",\n    \"fontVariantNumeric\",\n    \"lineHeight\",\n    \"letterSpacing\",\n    \"textColor\",\n    \"textOpacity\",\n    \"textDecoration\",\n    \"textDecorationColor\",\n    \"textDecorationStyle\",\n    \"textDecorationThickness\",\n    \"textUnderlineOffset\",\n    \"fontSmoothing\",\n    \"placeholderColor\",\n    \"placeholderOpacity\",\n    \"caretColor\",\n    \"accentColor\",\n    \"opacity\",\n    \"backgroundBlendMode\",\n    \"mixBlendMode\",\n    \"boxShadow\",\n    \"boxShadowColor\",\n    \"outlineStyle\",\n    \"outlineWidth\",\n    \"outlineOffset\",\n    \"outlineColor\",\n    \"ringWidth\",\n    \"ringColor\",\n    \"ringOpacity\",\n    \"ringOffsetWidth\",\n    \"ringOffsetColor\",\n    \"blur\",\n    \"brightness\",\n    \"contrast\",\n    \"dropShadow\",\n    \"grayscale\",\n    \"hueRotate\",\n    \"invert\",\n    \"saturate\",\n    \"sepia\",\n    \"filter\",\n    \"backdropBlur\",\n    \"backdropBrightness\",\n    \"backdropContrast\",\n    \"backdropGrayscale\",\n    \"backdropHueRotate\",\n    \"backdropInvert\",\n    \"backdropOpacity\",\n    \"backdropSaturate\",\n    \"backdropSepia\",\n    \"backdropFilter\",\n    \"transitionProperty\",\n    \"transitionDelay\",\n    \"transitionDuration\",\n    \"transitionTimingFunction\",\n    \"willChange\",\n    \"content\"\n];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>_default\n});\nfunction _default(pluginConfig, plugins) {\n    if (pluginConfig === undefined) {\n        return plugins;\n    }\n    const pluginNames = Array.isArray(pluginConfig) ? pluginConfig : [\n        ...new Set(plugins.filter((pluginName)=>{\n            return pluginConfig !== false && pluginConfig[pluginName] !== false;\n        }).concat(Object.keys(pluginConfig).filter((pluginName)=>{\n            return pluginConfig[pluginName] !== false;\n        }))), \n    ];\n    return pluginNames;\n}\n","/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [],\n  presets: [],\n  darkMode: 'media', // or 'class'\n  theme: {\n    screens: {\n      sm: '640px',\n      md: '768px',\n      lg: '1024px',\n      xl: '1280px',\n      '2xl': '1536px',\n    },\n    colors: ({ colors }) => ({\n      inherit: colors.inherit,\n      current: colors.current,\n      transparent: colors.transparent,\n      black: colors.black,\n      white: colors.white,\n      slate: colors.slate,\n      gray: colors.gray,\n      zinc: colors.zinc,\n      neutral: colors.neutral,\n      stone: colors.stone,\n      red: colors.red,\n      orange: colors.orange,\n      amber: colors.amber,\n      yellow: colors.yellow,\n      lime: colors.lime,\n      green: colors.green,\n      emerald: colors.emerald,\n      teal: colors.teal,\n      cyan: colors.cyan,\n      sky: colors.sky,\n      blue: colors.blue,\n      indigo: colors.indigo,\n      violet: colors.violet,\n      purple: colors.purple,\n      fuchsia: colors.fuchsia,\n      pink: colors.pink,\n      rose: colors.rose,\n    }),\n    columns: {\n      auto: 'auto',\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n      8: '8',\n      9: '9',\n      10: '10',\n      11: '11',\n      12: '12',\n      '3xs': '16rem',\n      '2xs': '18rem',\n      xs: '20rem',\n      sm: '24rem',\n      md: '28rem',\n      lg: '32rem',\n      xl: '36rem',\n      '2xl': '42rem',\n      '3xl': '48rem',\n      '4xl': '56rem',\n      '5xl': '64rem',\n      '6xl': '72rem',\n      '7xl': '80rem',\n    },\n    spacing: {\n      px: '1px',\n      0: '0px',\n      0.5: '0.125rem',\n      1: '0.25rem',\n      1.5: '0.375rem',\n      2: '0.5rem',\n      2.5: '0.625rem',\n      3: '0.75rem',\n      3.5: '0.875rem',\n      4: '1rem',\n      5: '1.25rem',\n      6: '1.5rem',\n      7: '1.75rem',\n      8: '2rem',\n      9: '2.25rem',\n      10: '2.5rem',\n      11: '2.75rem',\n      12: '3rem',\n      14: '3.5rem',\n      16: '4rem',\n      20: '5rem',\n      24: '6rem',\n      28: '7rem',\n      32: '8rem',\n      36: '9rem',\n      40: '10rem',\n      44: '11rem',\n      48: '12rem',\n      52: '13rem',\n      56: '14rem',\n      60: '15rem',\n      64: '16rem',\n      72: '18rem',\n      80: '20rem',\n      96: '24rem',\n    },\n    animation: {\n      none: 'none',\n      spin: 'spin 1s linear infinite',\n      ping: 'ping 1s cubic-bezier(0, 0, 0.2, 1) infinite',\n      pulse: 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',\n      bounce: 'bounce 1s infinite',\n    },\n    aspectRatio: {\n      auto: 'auto',\n      square: '1 / 1',\n      video: '16 / 9',\n    },\n    backdropBlur: ({ theme }) => theme('blur'),\n    backdropBrightness: ({ theme }) => theme('brightness'),\n    backdropContrast: ({ theme }) => theme('contrast'),\n    backdropGrayscale: ({ theme }) => theme('grayscale'),\n    backdropHueRotate: ({ theme }) => theme('hueRotate'),\n    backdropInvert: ({ theme }) => theme('invert'),\n    backdropOpacity: ({ theme }) => theme('opacity'),\n    backdropSaturate: ({ theme }) => theme('saturate'),\n    backdropSepia: ({ theme }) => theme('sepia'),\n    backgroundColor: ({ theme }) => theme('colors'),\n    backgroundImage: {\n      none: 'none',\n      'gradient-to-t': 'linear-gradient(to top, var(--tw-gradient-stops))',\n      'gradient-to-tr': 'linear-gradient(to top right, var(--tw-gradient-stops))',\n      'gradient-to-r': 'linear-gradient(to right, var(--tw-gradient-stops))',\n      'gradient-to-br': 'linear-gradient(to bottom right, var(--tw-gradient-stops))',\n      'gradient-to-b': 'linear-gradient(to bottom, var(--tw-gradient-stops))',\n      'gradient-to-bl': 'linear-gradient(to bottom left, var(--tw-gradient-stops))',\n      'gradient-to-l': 'linear-gradient(to left, var(--tw-gradient-stops))',\n      'gradient-to-tl': 'linear-gradient(to top left, var(--tw-gradient-stops))',\n    },\n    backgroundOpacity: ({ theme }) => theme('opacity'),\n    backgroundPosition: {\n      bottom: 'bottom',\n      center: 'center',\n      left: 'left',\n      'left-bottom': 'left bottom',\n      'left-top': 'left top',\n      right: 'right',\n      'right-bottom': 'right bottom',\n      'right-top': 'right top',\n      top: 'top',\n    },\n    backgroundSize: {\n      auto: 'auto',\n      cover: 'cover',\n      contain: 'contain',\n    },\n    blur: {\n      0: '0',\n      none: '0',\n      sm: '4px',\n      DEFAULT: '8px',\n      md: '12px',\n      lg: '16px',\n      xl: '24px',\n      '2xl': '40px',\n      '3xl': '64px',\n    },\n    brightness: {\n      0: '0',\n      50: '.5',\n      75: '.75',\n      90: '.9',\n      95: '.95',\n      100: '1',\n      105: '1.05',\n      110: '1.1',\n      125: '1.25',\n      150: '1.5',\n      200: '2',\n    },\n    borderColor: ({ theme }) => ({\n      ...theme('colors'),\n      DEFAULT: theme('colors.gray.200', 'currentColor'),\n    }),\n    borderOpacity: ({ theme }) => theme('opacity'),\n    borderRadius: {\n      none: '0px',\n      sm: '0.125rem',\n      DEFAULT: '0.25rem',\n      md: '0.375rem',\n      lg: '0.5rem',\n      xl: '0.75rem',\n      '2xl': '1rem',\n      '3xl': '1.5rem',\n      full: '9999px',\n    },\n    borderSpacing: ({ theme }) => ({\n      ...theme('spacing'),\n    }),\n    borderWidth: {\n      DEFAULT: '1px',\n      0: '0px',\n      2: '2px',\n      4: '4px',\n      8: '8px',\n    },\n    boxShadow: {\n      sm: '0 1px 2px 0 rgb(0 0 0 / 0.05)',\n      DEFAULT: '0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)',\n      md: '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',\n      lg: '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)',\n      xl: '0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)',\n      '2xl': '0 25px 50px -12px rgb(0 0 0 / 0.25)',\n      inner: 'inset 0 2px 4px 0 rgb(0 0 0 / 0.05)',\n      none: 'none',\n    },\n    boxShadowColor: ({ theme }) => theme('colors'),\n    caretColor: ({ theme }) => theme('colors'),\n    accentColor: ({ theme }) => ({\n      ...theme('colors'),\n      auto: 'auto',\n    }),\n    contrast: {\n      0: '0',\n      50: '.5',\n      75: '.75',\n      100: '1',\n      125: '1.25',\n      150: '1.5',\n      200: '2',\n    },\n    container: {},\n    content: {\n      none: 'none',\n    },\n    cursor: {\n      auto: 'auto',\n      default: 'default',\n      pointer: 'pointer',\n      wait: 'wait',\n      text: 'text',\n      move: 'move',\n      help: 'help',\n      'not-allowed': 'not-allowed',\n      none: 'none',\n      'context-menu': 'context-menu',\n      progress: 'progress',\n      cell: 'cell',\n      crosshair: 'crosshair',\n      'vertical-text': 'vertical-text',\n      alias: 'alias',\n      copy: 'copy',\n      'no-drop': 'no-drop',\n      grab: 'grab',\n      grabbing: 'grabbing',\n      'all-scroll': 'all-scroll',\n      'col-resize': 'col-resize',\n      'row-resize': 'row-resize',\n      'n-resize': 'n-resize',\n      'e-resize': 'e-resize',\n      's-resize': 's-resize',\n      'w-resize': 'w-resize',\n      'ne-resize': 'ne-resize',\n      'nw-resize': 'nw-resize',\n      'se-resize': 'se-resize',\n      'sw-resize': 'sw-resize',\n      'ew-resize': 'ew-resize',\n      'ns-resize': 'ns-resize',\n      'nesw-resize': 'nesw-resize',\n      'nwse-resize': 'nwse-resize',\n      'zoom-in': 'zoom-in',\n      'zoom-out': 'zoom-out',\n    },\n    divideColor: ({ theme }) => theme('borderColor'),\n    divideOpacity: ({ theme }) => theme('borderOpacity'),\n    divideWidth: ({ theme }) => theme('borderWidth'),\n    dropShadow: {\n      sm: '0 1px 1px rgb(0 0 0 / 0.05)',\n      DEFAULT: ['0 1px 2px rgb(0 0 0 / 0.1)', '0 1px 1px rgb(0 0 0 / 0.06)'],\n      md: ['0 4px 3px rgb(0 0 0 / 0.07)', '0 2px 2px rgb(0 0 0 / 0.06)'],\n      lg: ['0 10px 8px rgb(0 0 0 / 0.04)', '0 4px 3px rgb(0 0 0 / 0.1)'],\n      xl: ['0 20px 13px rgb(0 0 0 / 0.03)', '0 8px 5px rgb(0 0 0 / 0.08)'],\n      '2xl': '0 25px 25px rgb(0 0 0 / 0.15)',\n      none: '0 0 #0000',\n    },\n    fill: ({ theme }) => theme('colors'),\n    grayscale: {\n      0: '0',\n      DEFAULT: '100%',\n    },\n    hueRotate: {\n      0: '0deg',\n      15: '15deg',\n      30: '30deg',\n      60: '60deg',\n      90: '90deg',\n      180: '180deg',\n    },\n    invert: {\n      0: '0',\n      DEFAULT: '100%',\n    },\n    flex: {\n      1: '1 1 0%',\n      auto: '1 1 auto',\n      initial: '0 1 auto',\n      none: 'none',\n    },\n    flexBasis: ({ theme }) => ({\n      auto: 'auto',\n      ...theme('spacing'),\n      '1/2': '50%',\n      '1/3': '33.333333%',\n      '2/3': '66.666667%',\n      '1/4': '25%',\n      '2/4': '50%',\n      '3/4': '75%',\n      '1/5': '20%',\n      '2/5': '40%',\n      '3/5': '60%',\n      '4/5': '80%',\n      '1/6': '16.666667%',\n      '2/6': '33.333333%',\n      '3/6': '50%',\n      '4/6': '66.666667%',\n      '5/6': '83.333333%',\n      '1/12': '8.333333%',\n      '2/12': '16.666667%',\n      '3/12': '25%',\n      '4/12': '33.333333%',\n      '5/12': '41.666667%',\n      '6/12': '50%',\n      '7/12': '58.333333%',\n      '8/12': '66.666667%',\n      '9/12': '75%',\n      '10/12': '83.333333%',\n      '11/12': '91.666667%',\n      full: '100%',\n    }),\n    flexGrow: {\n      0: '0',\n      DEFAULT: '1',\n    },\n    flexShrink: {\n      0: '0',\n      DEFAULT: '1',\n    },\n    fontFamily: {\n      sans: [\n        'ui-sans-serif',\n        'system-ui',\n        '-apple-system',\n        'BlinkMacSystemFont',\n        '\"Segoe UI\"',\n        'Roboto',\n        '\"Helvetica Neue\"',\n        'Arial',\n        '\"Noto Sans\"',\n        'sans-serif',\n        '\"Apple Color Emoji\"',\n        '\"Segoe UI Emoji\"',\n        '\"Segoe UI Symbol\"',\n        '\"Noto Color Emoji\"',\n      ],\n      serif: ['ui-serif', 'Georgia', 'Cambria', '\"Times New Roman\"', 'Times', 'serif'],\n      mono: [\n        'ui-monospace',\n        'SFMono-Regular',\n        'Menlo',\n        'Monaco',\n        'Consolas',\n        '\"Liberation Mono\"',\n        '\"Courier New\"',\n        'monospace',\n      ],\n    },\n    fontSize: {\n      xs: ['0.75rem', { lineHeight: '1rem' }],\n      sm: ['0.875rem', { lineHeight: '1.25rem' }],\n      base: ['1rem', { lineHeight: '1.5rem' }],\n      lg: ['1.125rem', { lineHeight: '1.75rem' }],\n      xl: ['1.25rem', { lineHeight: '1.75rem' }],\n      '2xl': ['1.5rem', { lineHeight: '2rem' }],\n      '3xl': ['1.875rem', { lineHeight: '2.25rem' }],\n      '4xl': ['2.25rem', { lineHeight: '2.5rem' }],\n      '5xl': ['3rem', { lineHeight: '1' }],\n      '6xl': ['3.75rem', { lineHeight: '1' }],\n      '7xl': ['4.5rem', { lineHeight: '1' }],\n      '8xl': ['6rem', { lineHeight: '1' }],\n      '9xl': ['8rem', { lineHeight: '1' }],\n    },\n    fontWeight: {\n      thin: '100',\n      extralight: '200',\n      light: '300',\n      normal: '400',\n      medium: '500',\n      semibold: '600',\n      bold: '700',\n      extrabold: '800',\n      black: '900',\n    },\n    gap: ({ theme }) => theme('spacing'),\n    gradientColorStops: ({ theme }) => theme('colors'),\n    gridAutoColumns: {\n      auto: 'auto',\n      min: 'min-content',\n      max: 'max-content',\n      fr: 'minmax(0, 1fr)',\n    },\n    gridAutoRows: {\n      auto: 'auto',\n      min: 'min-content',\n      max: 'max-content',\n      fr: 'minmax(0, 1fr)',\n    },\n    gridColumn: {\n      auto: 'auto',\n      'span-1': 'span 1 / span 1',\n      'span-2': 'span 2 / span 2',\n      'span-3': 'span 3 / span 3',\n      'span-4': 'span 4 / span 4',\n      'span-5': 'span 5 / span 5',\n      'span-6': 'span 6 / span 6',\n      'span-7': 'span 7 / span 7',\n      'span-8': 'span 8 / span 8',\n      'span-9': 'span 9 / span 9',\n      'span-10': 'span 10 / span 10',\n      'span-11': 'span 11 / span 11',\n      'span-12': 'span 12 / span 12',\n      'span-full': '1 / -1',\n    },\n    gridColumnEnd: {\n      auto: 'auto',\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n      8: '8',\n      9: '9',\n      10: '10',\n      11: '11',\n      12: '12',\n      13: '13',\n    },\n    gridColumnStart: {\n      auto: 'auto',\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n      8: '8',\n      9: '9',\n      10: '10',\n      11: '11',\n      12: '12',\n      13: '13',\n    },\n    gridRow: {\n      auto: 'auto',\n      'span-1': 'span 1 / span 1',\n      'span-2': 'span 2 / span 2',\n      'span-3': 'span 3 / span 3',\n      'span-4': 'span 4 / span 4',\n      'span-5': 'span 5 / span 5',\n      'span-6': 'span 6 / span 6',\n      'span-full': '1 / -1',\n    },\n    gridRowStart: {\n      auto: 'auto',\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n    },\n    gridRowEnd: {\n      auto: 'auto',\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n    },\n    gridTemplateColumns: {\n      none: 'none',\n      1: 'repeat(1, minmax(0, 1fr))',\n      2: 'repeat(2, minmax(0, 1fr))',\n      3: 'repeat(3, minmax(0, 1fr))',\n      4: 'repeat(4, minmax(0, 1fr))',\n      5: 'repeat(5, minmax(0, 1fr))',\n      6: 'repeat(6, minmax(0, 1fr))',\n      7: 'repeat(7, minmax(0, 1fr))',\n      8: 'repeat(8, minmax(0, 1fr))',\n      9: 'repeat(9, minmax(0, 1fr))',\n      10: 'repeat(10, minmax(0, 1fr))',\n      11: 'repeat(11, minmax(0, 1fr))',\n      12: 'repeat(12, minmax(0, 1fr))',\n    },\n    gridTemplateRows: {\n      none: 'none',\n      1: 'repeat(1, minmax(0, 1fr))',\n      2: 'repeat(2, minmax(0, 1fr))',\n      3: 'repeat(3, minmax(0, 1fr))',\n      4: 'repeat(4, minmax(0, 1fr))',\n      5: 'repeat(5, minmax(0, 1fr))',\n      6: 'repeat(6, minmax(0, 1fr))',\n    },\n    height: ({ theme }) => ({\n      auto: 'auto',\n      ...theme('spacing'),\n      '1/2': '50%',\n      '1/3': '33.333333%',\n      '2/3': '66.666667%',\n      '1/4': '25%',\n      '2/4': '50%',\n      '3/4': '75%',\n      '1/5': '20%',\n      '2/5': '40%',\n      '3/5': '60%',\n      '4/5': '80%',\n      '1/6': '16.666667%',\n      '2/6': '33.333333%',\n      '3/6': '50%',\n      '4/6': '66.666667%',\n      '5/6': '83.333333%',\n      full: '100%',\n      screen: '100vh',\n      min: 'min-content',\n      max: 'max-content',\n      fit: 'fit-content',\n    }),\n    inset: ({ theme }) => ({\n      auto: 'auto',\n      ...theme('spacing'),\n      '1/2': '50%',\n      '1/3': '33.333333%',\n      '2/3': '66.666667%',\n      '1/4': '25%',\n      '2/4': '50%',\n      '3/4': '75%',\n      full: '100%',\n    }),\n    keyframes: {\n      spin: {\n        to: {\n          transform: 'rotate(360deg)',\n        },\n      },\n      ping: {\n        '75%, 100%': {\n          transform: 'scale(2)',\n          opacity: '0',\n        },\n      },\n      pulse: {\n        '50%': {\n          opacity: '.5',\n        },\n      },\n      bounce: {\n        '0%, 100%': {\n          transform: 'translateY(-25%)',\n          animationTimingFunction: 'cubic-bezier(0.8,0,1,1)',\n        },\n        '50%': {\n          transform: 'none',\n          animationTimingFunction: 'cubic-bezier(0,0,0.2,1)',\n        },\n      },\n    },\n    letterSpacing: {\n      tighter: '-0.05em',\n      tight: '-0.025em',\n      normal: '0em',\n      wide: '0.025em',\n      wider: '0.05em',\n      widest: '0.1em',\n    },\n    lineHeight: {\n      none: '1',\n      tight: '1.25',\n      snug: '1.375',\n      normal: '1.5',\n      relaxed: '1.625',\n      loose: '2',\n      3: '.75rem',\n      4: '1rem',\n      5: '1.25rem',\n      6: '1.5rem',\n      7: '1.75rem',\n      8: '2rem',\n      9: '2.25rem',\n      10: '2.5rem',\n    },\n    listStyleType: {\n      none: 'none',\n      disc: 'disc',\n      decimal: 'decimal',\n    },\n    margin: ({ theme }) => ({\n      auto: 'auto',\n      ...theme('spacing'),\n    }),\n    maxHeight: ({ theme }) => ({\n      ...theme('spacing'),\n      full: '100%',\n      screen: '100vh',\n      min: 'min-content',\n      max: 'max-content',\n      fit: 'fit-content',\n    }),\n    maxWidth: ({ theme, breakpoints }) => ({\n      none: 'none',\n      0: '0rem',\n      xs: '20rem',\n      sm: '24rem',\n      md: '28rem',\n      lg: '32rem',\n      xl: '36rem',\n      '2xl': '42rem',\n      '3xl': '48rem',\n      '4xl': '56rem',\n      '5xl': '64rem',\n      '6xl': '72rem',\n      '7xl': '80rem',\n      full: '100%',\n      min: 'min-content',\n      max: 'max-content',\n      fit: 'fit-content',\n      prose: '65ch',\n      ...breakpoints(theme('screens')),\n    }),\n    minHeight: {\n      0: '0px',\n      full: '100%',\n      screen: '100vh',\n      min: 'min-content',\n      max: 'max-content',\n      fit: 'fit-content',\n    },\n    minWidth: {\n      0: '0px',\n      full: '100%',\n      min: 'min-content',\n      max: 'max-content',\n      fit: 'fit-content',\n    },\n    objectPosition: {\n      bottom: 'bottom',\n      center: 'center',\n      left: 'left',\n      'left-bottom': 'left bottom',\n      'left-top': 'left top',\n      right: 'right',\n      'right-bottom': 'right bottom',\n      'right-top': 'right top',\n      top: 'top',\n    },\n    opacity: {\n      0: '0',\n      5: '0.05',\n      10: '0.1',\n      20: '0.2',\n      25: '0.25',\n      30: '0.3',\n      40: '0.4',\n      50: '0.5',\n      60: '0.6',\n      70: '0.7',\n      75: '0.75',\n      80: '0.8',\n      90: '0.9',\n      95: '0.95',\n      100: '1',\n    },\n    order: {\n      first: '-9999',\n      last: '9999',\n      none: '0',\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n      8: '8',\n      9: '9',\n      10: '10',\n      11: '11',\n      12: '12',\n    },\n    padding: ({ theme }) => theme('spacing'),\n    placeholderColor: ({ theme }) => theme('colors'),\n    placeholderOpacity: ({ theme }) => theme('opacity'),\n    outlineColor: ({ theme }) => theme('colors'),\n    outlineOffset: {\n      0: '0px',\n      1: '1px',\n      2: '2px',\n      4: '4px',\n      8: '8px',\n    },\n    outlineWidth: {\n      0: '0px',\n      1: '1px',\n      2: '2px',\n      4: '4px',\n      8: '8px',\n    },\n    ringColor: ({ theme }) => ({\n      DEFAULT: theme(`colors.blue.500`, '#3b82f6'),\n      ...theme('colors'),\n    }),\n    ringOffsetColor: ({ theme }) => theme('colors'),\n    ringOffsetWidth: {\n      0: '0px',\n      1: '1px',\n      2: '2px',\n      4: '4px',\n      8: '8px',\n    },\n    ringOpacity: ({ theme }) => ({\n      DEFAULT: '0.5',\n      ...theme('opacity'),\n    }),\n    ringWidth: {\n      DEFAULT: '3px',\n      0: '0px',\n      1: '1px',\n      2: '2px',\n      4: '4px',\n      8: '8px',\n    },\n    rotate: {\n      0: '0deg',\n      1: '1deg',\n      2: '2deg',\n      3: '3deg',\n      6: '6deg',\n      12: '12deg',\n      45: '45deg',\n      90: '90deg',\n      180: '180deg',\n    },\n    saturate: {\n      0: '0',\n      50: '.5',\n      100: '1',\n      150: '1.5',\n      200: '2',\n    },\n    scale: {\n      0: '0',\n      50: '.5',\n      75: '.75',\n      90: '.9',\n      95: '.95',\n      100: '1',\n      105: '1.05',\n      110: '1.1',\n      125: '1.25',\n      150: '1.5',\n    },\n    scrollMargin: ({ theme }) => ({\n      ...theme('spacing'),\n    }),\n    scrollPadding: ({ theme }) => theme('spacing'),\n    sepia: {\n      0: '0',\n      DEFAULT: '100%',\n    },\n    skew: {\n      0: '0deg',\n      1: '1deg',\n      2: '2deg',\n      3: '3deg',\n      6: '6deg',\n      12: '12deg',\n    },\n    space: ({ theme }) => ({\n      ...theme('spacing'),\n    }),\n    stroke: ({ theme }) => theme('colors'),\n    strokeWidth: {\n      0: '0',\n      1: '1',\n      2: '2',\n    },\n    textColor: ({ theme }) => theme('colors'),\n    textDecorationColor: ({ theme }) => theme('colors'),\n    textDecorationThickness: {\n      auto: 'auto',\n      'from-font': 'from-font',\n      0: '0px',\n      1: '1px',\n      2: '2px',\n      4: '4px',\n      8: '8px',\n    },\n    textUnderlineOffset: {\n      auto: 'auto',\n      0: '0px',\n      1: '1px',\n      2: '2px',\n      4: '4px',\n      8: '8px',\n    },\n    textIndent: ({ theme }) => ({\n      ...theme('spacing'),\n    }),\n    textOpacity: ({ theme }) => theme('opacity'),\n    transformOrigin: {\n      center: 'center',\n      top: 'top',\n      'top-right': 'top right',\n      right: 'right',\n      'bottom-right': 'bottom right',\n      bottom: 'bottom',\n      'bottom-left': 'bottom left',\n      left: 'left',\n      'top-left': 'top left',\n    },\n    transitionDelay: {\n      75: '75ms',\n      100: '100ms',\n      150: '150ms',\n      200: '200ms',\n      300: '300ms',\n      500: '500ms',\n      700: '700ms',\n      1000: '1000ms',\n    },\n    transitionDuration: {\n      DEFAULT: '150ms',\n      75: '75ms',\n      100: '100ms',\n      150: '150ms',\n      200: '200ms',\n      300: '300ms',\n      500: '500ms',\n      700: '700ms',\n      1000: '1000ms',\n    },\n    transitionProperty: {\n      none: 'none',\n      all: 'all',\n      DEFAULT:\n        'color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter',\n      colors: 'color, background-color, border-color, text-decoration-color, fill, stroke',\n      opacity: 'opacity',\n      shadow: 'box-shadow',\n      transform: 'transform',\n    },\n    transitionTimingFunction: {\n      DEFAULT: 'cubic-bezier(0.4, 0, 0.2, 1)',\n      linear: 'linear',\n      in: 'cubic-bezier(0.4, 0, 1, 1)',\n      out: 'cubic-bezier(0, 0, 0.2, 1)',\n      'in-out': 'cubic-bezier(0.4, 0, 0.2, 1)',\n    },\n    translate: ({ theme }) => ({\n      ...theme('spacing'),\n      '1/2': '50%',\n      '1/3': '33.333333%',\n      '2/3': '66.666667%',\n      '1/4': '25%',\n      '2/4': '50%',\n      '3/4': '75%',\n      full: '100%',\n    }),\n    width: ({ theme }) => ({\n      auto: 'auto',\n      ...theme('spacing'),\n      '1/2': '50%',\n      '1/3': '33.333333%',\n      '2/3': '66.666667%',\n      '1/4': '25%',\n      '2/4': '50%',\n      '3/4': '75%',\n      '1/5': '20%',\n      '2/5': '40%',\n      '3/5': '60%',\n      '4/5': '80%',\n      '1/6': '16.666667%',\n      '2/6': '33.333333%',\n      '3/6': '50%',\n      '4/6': '66.666667%',\n      '5/6': '83.333333%',\n      '1/12': '8.333333%',\n      '2/12': '16.666667%',\n      '3/12': '25%',\n      '4/12': '33.333333%',\n      '5/12': '41.666667%',\n      '6/12': '50%',\n      '7/12': '58.333333%',\n      '8/12': '66.666667%',\n      '9/12': '75%',\n      '10/12': '83.333333%',\n      '11/12': '91.666667%',\n      full: '100%',\n      screen: '100vw',\n      min: 'min-content',\n      max: 'max-content',\n      fit: 'fit-content',\n    }),\n    willChange: {\n      auto: 'auto',\n      scroll: 'scroll-position',\n      contents: 'contents',\n      transform: 'transform',\n    },\n    zIndex: {\n      auto: 'auto',\n      0: '0',\n      10: '10',\n      20: '20',\n      30: '30',\n      40: '40',\n      50: '50',\n    },\n  },\n  variantOrder: [\n    'first',\n    'last',\n    'odd',\n    'even',\n    'visited',\n    'checked',\n    'empty',\n    'read-only',\n    'group-hover',\n    'group-focus',\n    'focus-within',\n    'hover',\n    'focus',\n    'focus-visible',\n    'active',\n    'disabled',\n  ],\n  plugins: [],\n}\n","export default {\n  info(key, messages) {\n    console.info(...(Array.isArray(key) ? [key] : [messages, key]))\n  },\n  warn(key, messages) {\n    console.warn(...(Array.isArray(key) ? [key] : [messages, key]))\n  },\n  risk(key, messages) {\n    console.error(...(Array.isArray(key) ? [key] : [messages, key]))\n  },\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>_default\n});\nconst _log = /*#__PURE__*/ _interopRequireDefault(require(\"../util/log\"));\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction warn({ version , from , to  }) {\n    _log.default.warn(`${from}-color-renamed`, [\n        `As of Tailwind CSS ${version}, \\`${from}\\` has been renamed to \\`${to}\\`.`,\n        \"Update your configuration file to silence this warning.\", \n    ]);\n}\nconst _default = {\n    inherit: \"inherit\",\n    current: \"currentColor\",\n    transparent: \"transparent\",\n    black: \"#000\",\n    white: \"#fff\",\n    slate: {\n        50: \"#f8fafc\",\n        100: \"#f1f5f9\",\n        200: \"#e2e8f0\",\n        300: \"#cbd5e1\",\n        400: \"#94a3b8\",\n        500: \"#64748b\",\n        600: \"#475569\",\n        700: \"#334155\",\n        800: \"#1e293b\",\n        900: \"#0f172a\"\n    },\n    gray: {\n        50: \"#f9fafb\",\n        100: \"#f3f4f6\",\n        200: \"#e5e7eb\",\n        300: \"#d1d5db\",\n        400: \"#9ca3af\",\n        500: \"#6b7280\",\n        600: \"#4b5563\",\n        700: \"#374151\",\n        800: \"#1f2937\",\n        900: \"#111827\"\n    },\n    zinc: {\n        50: \"#fafafa\",\n        100: \"#f4f4f5\",\n        200: \"#e4e4e7\",\n        300: \"#d4d4d8\",\n        400: \"#a1a1aa\",\n        500: \"#71717a\",\n        600: \"#52525b\",\n        700: \"#3f3f46\",\n        800: \"#27272a\",\n        900: \"#18181b\"\n    },\n    neutral: {\n        50: \"#fafafa\",\n        100: \"#f5f5f5\",\n        200: \"#e5e5e5\",\n        300: \"#d4d4d4\",\n        400: \"#a3a3a3\",\n        500: \"#737373\",\n        600: \"#525252\",\n        700: \"#404040\",\n        800: \"#262626\",\n        900: \"#171717\"\n    },\n    stone: {\n        50: \"#fafaf9\",\n        100: \"#f5f5f4\",\n        200: \"#e7e5e4\",\n        300: \"#d6d3d1\",\n        400: \"#a8a29e\",\n        500: \"#78716c\",\n        600: \"#57534e\",\n        700: \"#44403c\",\n        800: \"#292524\",\n        900: \"#1c1917\"\n    },\n    red: {\n        50: \"#fef2f2\",\n        100: \"#fee2e2\",\n        200: \"#fecaca\",\n        300: \"#fca5a5\",\n        400: \"#f87171\",\n        500: \"#ef4444\",\n        600: \"#dc2626\",\n        700: \"#b91c1c\",\n        800: \"#991b1b\",\n        900: \"#7f1d1d\"\n    },\n    orange: {\n        50: \"#fff7ed\",\n        100: \"#ffedd5\",\n        200: \"#fed7aa\",\n        300: \"#fdba74\",\n        400: \"#fb923c\",\n        500: \"#f97316\",\n        600: \"#ea580c\",\n        700: \"#c2410c\",\n        800: \"#9a3412\",\n        900: \"#7c2d12\"\n    },\n    amber: {\n        50: \"#fffbeb\",\n        100: \"#fef3c7\",\n        200: \"#fde68a\",\n        300: \"#fcd34d\",\n        400: \"#fbbf24\",\n        500: \"#f59e0b\",\n        600: \"#d97706\",\n        700: \"#b45309\",\n        800: \"#92400e\",\n        900: \"#78350f\"\n    },\n    yellow: {\n        50: \"#fefce8\",\n        100: \"#fef9c3\",\n        200: \"#fef08a\",\n        300: \"#fde047\",\n        400: \"#facc15\",\n        500: \"#eab308\",\n        600: \"#ca8a04\",\n        700: \"#a16207\",\n        800: \"#854d0e\",\n        900: \"#713f12\"\n    },\n    lime: {\n        50: \"#f7fee7\",\n        100: \"#ecfccb\",\n        200: \"#d9f99d\",\n        300: \"#bef264\",\n        400: \"#a3e635\",\n        500: \"#84cc16\",\n        600: \"#65a30d\",\n        700: \"#4d7c0f\",\n        800: \"#3f6212\",\n        900: \"#365314\"\n    },\n    green: {\n        50: \"#f0fdf4\",\n        100: \"#dcfce7\",\n        200: \"#bbf7d0\",\n        300: \"#86efac\",\n        400: \"#4ade80\",\n        500: \"#22c55e\",\n        600: \"#16a34a\",\n        700: \"#15803d\",\n        800: \"#166534\",\n        900: \"#14532d\"\n    },\n    emerald: {\n        50: \"#ecfdf5\",\n        100: \"#d1fae5\",\n        200: \"#a7f3d0\",\n        300: \"#6ee7b7\",\n        400: \"#34d399\",\n        500: \"#10b981\",\n        600: \"#059669\",\n        700: \"#047857\",\n        800: \"#065f46\",\n        900: \"#064e3b\"\n    },\n    teal: {\n        50: \"#f0fdfa\",\n        100: \"#ccfbf1\",\n        200: \"#99f6e4\",\n        300: \"#5eead4\",\n        400: \"#2dd4bf\",\n        500: \"#14b8a6\",\n        600: \"#0d9488\",\n        700: \"#0f766e\",\n        800: \"#115e59\",\n        900: \"#134e4a\"\n    },\n    cyan: {\n        50: \"#ecfeff\",\n        100: \"#cffafe\",\n        200: \"#a5f3fc\",\n        300: \"#67e8f9\",\n        400: \"#22d3ee\",\n        500: \"#06b6d4\",\n        600: \"#0891b2\",\n        700: \"#0e7490\",\n        800: \"#155e75\",\n        900: \"#164e63\"\n    },\n    sky: {\n        50: \"#f0f9ff\",\n        100: \"#e0f2fe\",\n        200: \"#bae6fd\",\n        300: \"#7dd3fc\",\n        400: \"#38bdf8\",\n        500: \"#0ea5e9\",\n        600: \"#0284c7\",\n        700: \"#0369a1\",\n        800: \"#075985\",\n        900: \"#0c4a6e\"\n    },\n    blue: {\n        50: \"#eff6ff\",\n        100: \"#dbeafe\",\n        200: \"#bfdbfe\",\n        300: \"#93c5fd\",\n        400: \"#60a5fa\",\n        500: \"#3b82f6\",\n        600: \"#2563eb\",\n        700: \"#1d4ed8\",\n        800: \"#1e40af\",\n        900: \"#1e3a8a\"\n    },\n    indigo: {\n        50: \"#eef2ff\",\n        100: \"#e0e7ff\",\n        200: \"#c7d2fe\",\n        300: \"#a5b4fc\",\n        400: \"#818cf8\",\n        500: \"#6366f1\",\n        600: \"#4f46e5\",\n        700: \"#4338ca\",\n        800: \"#3730a3\",\n        900: \"#312e81\"\n    },\n    violet: {\n        50: \"#f5f3ff\",\n        100: \"#ede9fe\",\n        200: \"#ddd6fe\",\n        300: \"#c4b5fd\",\n        400: \"#a78bfa\",\n        500: \"#8b5cf6\",\n        600: \"#7c3aed\",\n        700: \"#6d28d9\",\n        800: \"#5b21b6\",\n        900: \"#4c1d95\"\n    },\n    purple: {\n        50: \"#faf5ff\",\n        100: \"#f3e8ff\",\n        200: \"#e9d5ff\",\n        300: \"#d8b4fe\",\n        400: \"#c084fc\",\n        500: \"#a855f7\",\n        600: \"#9333ea\",\n        700: \"#7e22ce\",\n        800: \"#6b21a8\",\n        900: \"#581c87\"\n    },\n    fuchsia: {\n        50: \"#fdf4ff\",\n        100: \"#fae8ff\",\n        200: \"#f5d0fe\",\n        300: \"#f0abfc\",\n        400: \"#e879f9\",\n        500: \"#d946ef\",\n        600: \"#c026d3\",\n        700: \"#a21caf\",\n        800: \"#86198f\",\n        900: \"#701a75\"\n    },\n    pink: {\n        50: \"#fdf2f8\",\n        100: \"#fce7f3\",\n        200: \"#fbcfe8\",\n        300: \"#f9a8d4\",\n        400: \"#f472b6\",\n        500: \"#ec4899\",\n        600: \"#db2777\",\n        700: \"#be185d\",\n        800: \"#9d174d\",\n        900: \"#831843\"\n    },\n    rose: {\n        50: \"#fff1f2\",\n        100: \"#ffe4e6\",\n        200: \"#fecdd3\",\n        300: \"#fda4af\",\n        400: \"#fb7185\",\n        500: \"#f43f5e\",\n        600: \"#e11d48\",\n        700: \"#be123c\",\n        800: \"#9f1239\",\n        900: \"#881337\"\n    },\n    get lightBlue () {\n        warn({\n            version: \"v2.2\",\n            from: \"lightBlue\",\n            to: \"sky\"\n        });\n        return this.sky;\n    },\n    get warmGray () {\n        warn({\n            version: \"v3.0\",\n            from: \"warmGray\",\n            to: \"stone\"\n        });\n        return this.stone;\n    },\n    get trueGray () {\n        warn({\n            version: \"v3.0\",\n            from: \"trueGray\",\n            to: \"neutral\"\n        });\n        return this.neutral;\n    },\n    get coolGray () {\n        warn({\n            version: \"v3.0\",\n            from: \"coolGray\",\n            to: \"gray\"\n        });\n        return this.gray;\n    },\n    get blueGray () {\n        warn({\n            version: \"v3.0\",\n            from: \"blueGray\",\n            to: \"slate\"\n        });\n        return this.slate;\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"defaults\", {\n    enumerable: true,\n    get: ()=>defaults\n});\nfunction defaults(target, ...sources) {\n    for (let source of sources){\n        for(let k in source){\n            var ref;\n            if (!(target === null || target === void 0 ? void 0 : (ref = target.hasOwnProperty) === null || ref === void 0 ? void 0 : ref.call(target, k))) {\n                target[k] = source[k];\n            }\n        }\n        for (let k1 of Object.getOwnPropertySymbols(source)){\n            var ref1;\n            if (!(target === null || target === void 0 ? void 0 : (ref1 = target.hasOwnProperty) === null || ref1 === void 0 ? void 0 : ref1.call(target, k1))) {\n                target[k1] = source[k1];\n            }\n        }\n    }\n    return target;\n}\n","/**\n * Parse a path string into an array of path segments.\n *\n * Square bracket notation `a[b]` may be used to \"escape\" dots that would otherwise be interpreted as path separators.\n *\n * Example:\n * a -> ['a']\n * a.b.c -> ['a', 'b', 'c']\n * a[b].c -> ['a', 'b', 'c']\n * a[b.c].e.f -> ['a', 'b.c', 'e', 'f']\n * a[b][c][d] -> ['a', 'b', 'c', 'd']\n *\n * @param {string|string[]} path\n **/ \"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"toPath\", {\n    enumerable: true,\n    get: ()=>toPath\n});\nfunction toPath(path) {\n    if (Array.isArray(path)) return path;\n    let openBrackets = path.split(\"[\").length - 1;\n    let closedBrackets = path.split(\"]\").length - 1;\n    if (openBrackets !== closedBrackets) {\n        throw new Error(`Path is invalid. Has unbalanced brackets: ${path}`);\n    }\n    return path.split(/\\.(?![^\\[]*\\])|[\\[\\]]/g).filter(Boolean);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"normalizeConfig\", {\n    enumerable: true,\n    get: ()=>normalizeConfig\n});\nconst _log = /*#__PURE__*/ _interopRequireWildcard(require(\"./log\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) {\n        return obj;\n    }\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n        return {\n            default: obj\n        };\n    }\n    var cache = _getRequireWildcardCache(nodeInterop);\n    if (cache && cache.has(obj)) {\n        return cache.get(obj);\n    }\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for(var key in obj){\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) {\n                Object.defineProperty(newObj, key, desc);\n            } else {\n                newObj[key] = obj[key];\n            }\n        }\n    }\n    newObj.default = obj;\n    if (cache) {\n        cache.set(obj, newObj);\n    }\n    return newObj;\n}\nfunction normalizeConfig(config) {\n    // Quick structure validation\n    /**\n   * type FilePath = string\n   * type RawFile = { raw: string, extension?: string }\n   * type ExtractorFn = (content: string) => Array<string>\n   * type TransformerFn = (content: string) => string\n   *\n   * type Content =\n   *   | Array<FilePath | RawFile>\n   *   | {\n   *       files: Array<FilePath | RawFile>,\n   *       extract?: ExtractorFn | { [extension: string]: ExtractorFn }\n   *       transform?: TransformerFn | { [extension: string]: TransformerFn }\n   *   }\n   */ let valid = (()=>{\n        // `config.purge` should not exist anymore\n        if (config.purge) {\n            return false;\n        }\n        // `config.content` should exist\n        if (!config.content) {\n            return false;\n        }\n        // `config.content` should be an object or an array\n        if (!Array.isArray(config.content) && !(typeof config.content === \"object\" && config.content !== null)) {\n            return false;\n        }\n        // When `config.content` is an array, it should consist of FilePaths or RawFiles\n        if (Array.isArray(config.content)) {\n            return config.content.every((path)=>{\n                // `path` can be a string\n                if (typeof path === \"string\") return true;\n                // `path` can be an object { raw: string, extension?: string }\n                // `raw` must be a string\n                if (typeof (path === null || path === void 0 ? void 0 : path.raw) !== \"string\") return false;\n                // `extension` (if provided) should also be a string\n                if ((path === null || path === void 0 ? void 0 : path.extension) && typeof (path === null || path === void 0 ? void 0 : path.extension) !== \"string\") {\n                    return false;\n                }\n                return true;\n            });\n        }\n        // When `config.content` is an object\n        if (typeof config.content === \"object\" && config.content !== null) {\n            // Only `files`, `extract` and `transform` can exist in `config.content`\n            if (Object.keys(config.content).some((key)=>![\n                    \"files\",\n                    \"extract\",\n                    \"transform\"\n                ].includes(key))) {\n                return false;\n            }\n            // `config.content.files` should exist of FilePaths or RawFiles\n            if (Array.isArray(config.content.files)) {\n                if (!config.content.files.every((path)=>{\n                    // `path` can be a string\n                    if (typeof path === \"string\") return true;\n                    // `path` can be an object { raw: string, extension?: string }\n                    // `raw` must be a string\n                    if (typeof (path === null || path === void 0 ? void 0 : path.raw) !== \"string\") return false;\n                    // `extension` (if provided) should also be a string\n                    if ((path === null || path === void 0 ? void 0 : path.extension) && typeof (path === null || path === void 0 ? void 0 : path.extension) !== \"string\") {\n                        return false;\n                    }\n                    return true;\n                })) {\n                    return false;\n                }\n                // `config.content.extract` is optional, and can be a Function or a Record<String, Function>\n                if (typeof config.content.extract === \"object\") {\n                    for (let value of Object.values(config.content.extract)){\n                        if (typeof value !== \"function\") {\n                            return false;\n                        }\n                    }\n                } else if (!(config.content.extract === undefined || typeof config.content.extract === \"function\")) {\n                    return false;\n                }\n                // `config.content.transform` is optional, and can be a Function or a Record<String, Function>\n                if (typeof config.content.transform === \"object\") {\n                    for (let value1 of Object.values(config.content.transform)){\n                        if (typeof value1 !== \"function\") {\n                            return false;\n                        }\n                    }\n                } else if (!(config.content.transform === undefined || typeof config.content.transform === \"function\")) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    })();\n    if (!valid) {\n        _log.default.warn(\"purge-deprecation\", [\n            \"The `purge`/`content` options have changed in Tailwind CSS v3.0.\",\n            \"Update your configuration file to eliminate this warning.\",\n            \"https://tailwindcss.com/docs/upgrade-guide#configure-content-sources\", \n        ]);\n    }\n    // Normalize the `safelist`\n    config.safelist = (()=>{\n        var ref;\n        let { content , purge , safelist  } = config;\n        if (Array.isArray(safelist)) return safelist;\n        if (Array.isArray(content === null || content === void 0 ? void 0 : content.safelist)) return content.safelist;\n        if (Array.isArray(purge === null || purge === void 0 ? void 0 : purge.safelist)) return purge.safelist;\n        if (Array.isArray(purge === null || purge === void 0 ? void 0 : (ref = purge.options) === null || ref === void 0 ? void 0 : ref.safelist)) return purge.options.safelist;\n        return [];\n    })();\n    // Normalize prefix option\n    if (typeof config.prefix === \"function\") {\n        _log.default.warn(\"prefix-function\", [\n            \"As of Tailwind CSS v3.0, `prefix` cannot be a function.\",\n            \"Update `prefix` in your configuration to be a string to eliminate this warning.\",\n            \"https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function\", \n        ]);\n        config.prefix = \"\";\n    } else {\n        var _prefix;\n        config.prefix = (_prefix = config.prefix) !== null && _prefix !== void 0 ? _prefix : \"\";\n    }\n    // Normalize the `content`\n    config.content = {\n        files: (()=>{\n            let { content , purge  } = config;\n            if (Array.isArray(purge)) return purge;\n            if (Array.isArray(purge === null || purge === void 0 ? void 0 : purge.content)) return purge.content;\n            if (Array.isArray(content)) return content;\n            if (Array.isArray(content === null || content === void 0 ? void 0 : content.content)) return content.content;\n            if (Array.isArray(content === null || content === void 0 ? void 0 : content.files)) return content.files;\n            return [];\n        })(),\n        extract: (()=>{\n            let extract = (()=>{\n                var ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9;\n                if ((ref = config.purge) === null || ref === void 0 ? void 0 : ref.extract) return config.purge.extract;\n                if ((ref1 = config.content) === null || ref1 === void 0 ? void 0 : ref1.extract) return config.content.extract;\n                if ((ref2 = config.purge) === null || ref2 === void 0 ? void 0 : (ref3 = ref2.extract) === null || ref3 === void 0 ? void 0 : ref3.DEFAULT) return config.purge.extract.DEFAULT;\n                if ((ref4 = config.content) === null || ref4 === void 0 ? void 0 : (ref5 = ref4.extract) === null || ref5 === void 0 ? void 0 : ref5.DEFAULT) return config.content.extract.DEFAULT;\n                if ((ref6 = config.purge) === null || ref6 === void 0 ? void 0 : (ref7 = ref6.options) === null || ref7 === void 0 ? void 0 : ref7.extractors) return config.purge.options.extractors;\n                if ((ref8 = config.content) === null || ref8 === void 0 ? void 0 : (ref9 = ref8.options) === null || ref9 === void 0 ? void 0 : ref9.extractors) return config.content.options.extractors;\n                return {};\n            })();\n            let extractors = {};\n            let defaultExtractor = (()=>{\n                var ref, ref1, ref2, ref3;\n                if ((ref = config.purge) === null || ref === void 0 ? void 0 : (ref1 = ref.options) === null || ref1 === void 0 ? void 0 : ref1.defaultExtractor) {\n                    return config.purge.options.defaultExtractor;\n                }\n                if ((ref2 = config.content) === null || ref2 === void 0 ? void 0 : (ref3 = ref2.options) === null || ref3 === void 0 ? void 0 : ref3.defaultExtractor) {\n                    return config.content.options.defaultExtractor;\n                }\n                return undefined;\n            })();\n            if (defaultExtractor !== undefined) {\n                extractors.DEFAULT = defaultExtractor;\n            }\n            // Functions\n            if (typeof extract === \"function\") {\n                extractors.DEFAULT = extract;\n            } else if (Array.isArray(extract)) {\n                for (let { extensions , extractor  } of extract !== null && extract !== void 0 ? extract : []){\n                    for (let extension of extensions){\n                        extractors[extension] = extractor;\n                    }\n                }\n            } else if (typeof extract === \"object\" && extract !== null) {\n                Object.assign(extractors, extract);\n            }\n            return extractors;\n        })(),\n        transform: (()=>{\n            let transform = (()=>{\n                var ref, ref1, ref2, ref3, ref4, ref5;\n                if ((ref = config.purge) === null || ref === void 0 ? void 0 : ref.transform) return config.purge.transform;\n                if ((ref1 = config.content) === null || ref1 === void 0 ? void 0 : ref1.transform) return config.content.transform;\n                if ((ref2 = config.purge) === null || ref2 === void 0 ? void 0 : (ref3 = ref2.transform) === null || ref3 === void 0 ? void 0 : ref3.DEFAULT) return config.purge.transform.DEFAULT;\n                if ((ref4 = config.content) === null || ref4 === void 0 ? void 0 : (ref5 = ref4.transform) === null || ref5 === void 0 ? void 0 : ref5.DEFAULT) return config.content.transform.DEFAULT;\n                return {};\n            })();\n            let transformers = {};\n            if (typeof transform === \"function\") {\n                transformers.DEFAULT = transform;\n            }\n            if (typeof transform === \"object\" && transform !== null) {\n                Object.assign(transformers, transform);\n            }\n            return transformers;\n        })()\n    };\n    // Validate globs to prevent bogus globs.\n    // E.g.: `./src/*.{html}` is invalid, the `{html}` should just be `html`\n    for (let file of config.content.files){\n        if (typeof file === \"string\" && /{([^,]*?)}/g.test(file)) {\n            _log.default.warn(\"invalid-glob-braces\", [\n                `The glob pattern ${(0, _log.dim)(file)} in your Tailwind CSS configuration is invalid.`,\n                `Update it to ${(0, _log.dim)(file.replace(/{([^,]*?)}/g, \"$1\"))} to silence this warning.`\n            ]);\n            break;\n        }\n    }\n    return config;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>isPlainObject\n});\nfunction isPlainObject(value) {\n    if (Object.prototype.toString.call(value) !== \"[object Object]\") {\n        return false;\n    }\n    const prototype = Object.getPrototypeOf(value);\n    return prototype === null || prototype === Object.prototype;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"cloneDeep\", {\n    enumerable: true,\n    get: ()=>cloneDeep\n});\nfunction cloneDeep(value) {\n    if (Array.isArray(value)) {\n        return value.map((child)=>cloneDeep(child));\n    }\n    if (typeof value === \"object\" && value !== null) {\n        return Object.fromEntries(Object.entries(value).map(([k, v])=>[\n                k,\n                cloneDeep(v)\n            ]));\n    }\n    return value;\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = unesc;\n\n// Many thanks for this post which made this migration much easier.\n// https://mathiasbynens.be/notes/css-escapes\n\n/**\n * \n * @param {string} str \n * @returns {[string, number]|undefined}\n */\nfunction gobbleHex(str) {\n  var lower = str.toLowerCase();\n  var hex = '';\n  var spaceTerminated = false;\n\n  for (var i = 0; i < 6 && lower[i] !== undefined; i++) {\n    var code = lower.charCodeAt(i); // check to see if we are dealing with a valid hex char [a-f|0-9]\n\n    var valid = code >= 97 && code <= 102 || code >= 48 && code <= 57; // https://drafts.csswg.org/css-syntax/#consume-escaped-code-point\n\n    spaceTerminated = code === 32;\n\n    if (!valid) {\n      break;\n    }\n\n    hex += lower[i];\n  }\n\n  if (hex.length === 0) {\n    return undefined;\n  }\n\n  var codePoint = parseInt(hex, 16);\n  var isSurrogate = codePoint >= 0xD800 && codePoint <= 0xDFFF; // Add special case for\n  // \"If this number is zero, or is for a surrogate, or is greater than the maximum allowed code point\"\n  // https://drafts.csswg.org/css-syntax/#maximum-allowed-code-point\n\n  if (isSurrogate || codePoint === 0x0000 || codePoint > 0x10FFFF) {\n    return [\"\\uFFFD\", hex.length + (spaceTerminated ? 1 : 0)];\n  }\n\n  return [String.fromCodePoint(codePoint), hex.length + (spaceTerminated ? 1 : 0)];\n}\n\nvar CONTAINS_ESCAPE = /\\\\/;\n\nfunction unesc(str) {\n  var needToProcess = CONTAINS_ESCAPE.test(str);\n\n  if (!needToProcess) {\n    return str;\n  }\n\n  var ret = \"\";\n\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === \"\\\\\") {\n      var gobbled = gobbleHex(str.slice(i + 1, i + 7));\n\n      if (gobbled !== undefined) {\n        ret += gobbled[0];\n        i += gobbled[1];\n        continue;\n      } // Retain a pair of \\\\ if double escaped `\\\\\\\\`\n      // https://github.com/postcss/postcss-selector-parser/commit/268c9a7656fb53f543dc620aa5b73a30ec3ff20e\n\n\n      if (str[i + 1] === \"\\\\\") {\n        ret += \"\\\\\";\n        i++;\n        continue;\n      } // if \\\\ is at the end of the string retain it\n      // https://github.com/postcss/postcss-selector-parser/commit/01a6b346e3612ce1ab20219acc26abdc259ccefb\n\n\n      if (str.length === i + 1) {\n        ret += str[i];\n      }\n\n      continue;\n    }\n\n    ret += str[i];\n  }\n\n  return ret;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = getProp;\n\nfunction getProp(obj) {\n  for (var _len = arguments.length, props = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    props[_key - 1] = arguments[_key];\n  }\n\n  while (props.length > 0) {\n    var prop = props.shift();\n\n    if (!obj[prop]) {\n      return undefined;\n    }\n\n    obj = obj[prop];\n  }\n\n  return obj;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = ensureObject;\n\nfunction ensureObject(obj) {\n  for (var _len = arguments.length, props = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    props[_key - 1] = arguments[_key];\n  }\n\n  while (props.length > 0) {\n    var prop = props.shift();\n\n    if (!obj[prop]) {\n      obj[prop] = {};\n    }\n\n    obj = obj[prop];\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stripComments;\n\nfunction stripComments(str) {\n  var s = \"\";\n  var commentStart = str.indexOf(\"/*\");\n  var lastEnd = 0;\n\n  while (commentStart >= 0) {\n    s = s + str.slice(lastEnd, commentStart);\n    var commentEnd = str.indexOf(\"*/\", commentStart + 2);\n\n    if (commentEnd < 0) {\n      return s;\n    }\n\n    lastEnd = commentEnd + 2;\n    commentStart = str.indexOf(\"/*\", lastEnd);\n  }\n\n  s = s + str.slice(lastEnd);\n  return s;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.stripComments = exports.ensureObject = exports.getProp = exports.unesc = void 0;\n\nvar _unesc = _interopRequireDefault(require(\"./unesc\"));\n\nexports.unesc = _unesc[\"default\"];\n\nvar _getProp = _interopRequireDefault(require(\"./getProp\"));\n\nexports.getProp = _getProp[\"default\"];\n\nvar _ensureObject = _interopRequireDefault(require(\"./ensureObject\"));\n\nexports.ensureObject = _ensureObject[\"default\"];\n\nvar _stripComments = _interopRequireDefault(require(\"./stripComments\"));\n\nexports.stripComments = _stripComments[\"default\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _util = require(\"../util\");\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar cloneNode = function cloneNode(obj, parent) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var cloned = new obj.constructor();\n\n  for (var i in obj) {\n    if (!obj.hasOwnProperty(i)) {\n      continue;\n    }\n\n    var value = obj[i];\n    var type = typeof value;\n\n    if (i === 'parent' && type === 'object') {\n      if (parent) {\n        cloned[i] = parent;\n      }\n    } else if (value instanceof Array) {\n      cloned[i] = value.map(function (j) {\n        return cloneNode(j, cloned);\n      });\n    } else {\n      cloned[i] = cloneNode(value, cloned);\n    }\n  }\n\n  return cloned;\n};\n\nvar Node = /*#__PURE__*/function () {\n  function Node(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    Object.assign(this, opts);\n    this.spaces = this.spaces || {};\n    this.spaces.before = this.spaces.before || '';\n    this.spaces.after = this.spaces.after || '';\n  }\n\n  var _proto = Node.prototype;\n\n  _proto.remove = function remove() {\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n\n    this.parent = undefined;\n    return this;\n  };\n\n  _proto.replaceWith = function replaceWith() {\n    if (this.parent) {\n      for (var index in arguments) {\n        this.parent.insertBefore(this, arguments[index]);\n      }\n\n      this.remove();\n    }\n\n    return this;\n  };\n\n  _proto.next = function next() {\n    return this.parent.at(this.parent.index(this) + 1);\n  };\n\n  _proto.prev = function prev() {\n    return this.parent.at(this.parent.index(this) - 1);\n  };\n\n  _proto.clone = function clone(overrides) {\n    if (overrides === void 0) {\n      overrides = {};\n    }\n\n    var cloned = cloneNode(this);\n\n    for (var name in overrides) {\n      cloned[name] = overrides[name];\n    }\n\n    return cloned;\n  }\n  /**\n   * Some non-standard syntax doesn't follow normal escaping rules for css.\n   * This allows non standard syntax to be appended to an existing property\n   * by specifying the escaped value. By specifying the escaped value,\n   * illegal characters are allowed to be directly inserted into css output.\n   * @param {string} name the property to set\n   * @param {any} value the unescaped value of the property\n   * @param {string} valueEscaped optional. the escaped value of the property.\n   */\n  ;\n\n  _proto.appendToPropertyAndEscape = function appendToPropertyAndEscape(name, value, valueEscaped) {\n    if (!this.raws) {\n      this.raws = {};\n    }\n\n    var originalValue = this[name];\n    var originalEscaped = this.raws[name];\n    this[name] = originalValue + value; // this may trigger a setter that updates raws, so it has to be set first.\n\n    if (originalEscaped || valueEscaped !== value) {\n      this.raws[name] = (originalEscaped || originalValue) + valueEscaped;\n    } else {\n      delete this.raws[name]; // delete any escaped value that was created by the setter.\n    }\n  }\n  /**\n   * Some non-standard syntax doesn't follow normal escaping rules for css.\n   * This allows the escaped value to be specified directly, allowing illegal\n   * characters to be directly inserted into css output.\n   * @param {string} name the property to set\n   * @param {any} value the unescaped value of the property\n   * @param {string} valueEscaped the escaped value of the property.\n   */\n  ;\n\n  _proto.setPropertyAndEscape = function setPropertyAndEscape(name, value, valueEscaped) {\n    if (!this.raws) {\n      this.raws = {};\n    }\n\n    this[name] = value; // this may trigger a setter that updates raws, so it has to be set first.\n\n    this.raws[name] = valueEscaped;\n  }\n  /**\n   * When you want a value to passed through to CSS directly. This method\n   * deletes the corresponding raw value causing the stringifier to fallback\n   * to the unescaped value.\n   * @param {string} name the property to set.\n   * @param {any} value The value that is both escaped and unescaped.\n   */\n  ;\n\n  _proto.setPropertyWithoutEscape = function setPropertyWithoutEscape(name, value) {\n    this[name] = value; // this may trigger a setter that updates raws, so it has to be set first.\n\n    if (this.raws) {\n      delete this.raws[name];\n    }\n  }\n  /**\n   *\n   * @param {number} line The number (starting with 1)\n   * @param {number} column The column number (starting with 1)\n   */\n  ;\n\n  _proto.isAtPosition = function isAtPosition(line, column) {\n    if (this.source && this.source.start && this.source.end) {\n      if (this.source.start.line > line) {\n        return false;\n      }\n\n      if (this.source.end.line < line) {\n        return false;\n      }\n\n      if (this.source.start.line === line && this.source.start.column > column) {\n        return false;\n      }\n\n      if (this.source.end.line === line && this.source.end.column < column) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return undefined;\n  };\n\n  _proto.stringifyProperty = function stringifyProperty(name) {\n    return this.raws && this.raws[name] || this[name];\n  };\n\n  _proto.valueToString = function valueToString() {\n    return String(this.stringifyProperty(\"value\"));\n  };\n\n  _proto.toString = function toString() {\n    return [this.rawSpaceBefore, this.valueToString(), this.rawSpaceAfter].join('');\n  };\n\n  _createClass(Node, [{\n    key: \"rawSpaceBefore\",\n    get: function get() {\n      var rawSpace = this.raws && this.raws.spaces && this.raws.spaces.before;\n\n      if (rawSpace === undefined) {\n        rawSpace = this.spaces && this.spaces.before;\n      }\n\n      return rawSpace || \"\";\n    },\n    set: function set(raw) {\n      (0, _util.ensureObject)(this, \"raws\", \"spaces\");\n      this.raws.spaces.before = raw;\n    }\n  }, {\n    key: \"rawSpaceAfter\",\n    get: function get() {\n      var rawSpace = this.raws && this.raws.spaces && this.raws.spaces.after;\n\n      if (rawSpace === undefined) {\n        rawSpace = this.spaces.after;\n      }\n\n      return rawSpace || \"\";\n    },\n    set: function set(raw) {\n      (0, _util.ensureObject)(this, \"raws\", \"spaces\");\n      this.raws.spaces.after = raw;\n    }\n  }]);\n\n  return Node;\n}();\n\nexports[\"default\"] = Node;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.UNIVERSAL = exports.ATTRIBUTE = exports.CLASS = exports.COMBINATOR = exports.COMMENT = exports.ID = exports.NESTING = exports.PSEUDO = exports.ROOT = exports.SELECTOR = exports.STRING = exports.TAG = void 0;\nvar TAG = 'tag';\nexports.TAG = TAG;\nvar STRING = 'string';\nexports.STRING = STRING;\nvar SELECTOR = 'selector';\nexports.SELECTOR = SELECTOR;\nvar ROOT = 'root';\nexports.ROOT = ROOT;\nvar PSEUDO = 'pseudo';\nexports.PSEUDO = PSEUDO;\nvar NESTING = 'nesting';\nexports.NESTING = NESTING;\nvar ID = 'id';\nexports.ID = ID;\nvar COMMENT = 'comment';\nexports.COMMENT = COMMENT;\nvar COMBINATOR = 'combinator';\nexports.COMBINATOR = COMBINATOR;\nvar CLASS = 'class';\nexports.CLASS = CLASS;\nvar ATTRIBUTE = 'attribute';\nexports.ATTRIBUTE = ATTRIBUTE;\nvar UNIVERSAL = 'universal';\nexports.UNIVERSAL = UNIVERSAL;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar types = _interopRequireWildcard(require(\"./types\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Container = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Container, _Node);\n\n  function Container(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n\n    if (!_this.nodes) {\n      _this.nodes = [];\n    }\n\n    return _this;\n  }\n\n  var _proto = Container.prototype;\n\n  _proto.append = function append(selector) {\n    selector.parent = this;\n    this.nodes.push(selector);\n    return this;\n  };\n\n  _proto.prepend = function prepend(selector) {\n    selector.parent = this;\n    this.nodes.unshift(selector);\n    return this;\n  };\n\n  _proto.at = function at(index) {\n    return this.nodes[index];\n  };\n\n  _proto.index = function index(child) {\n    if (typeof child === 'number') {\n      return child;\n    }\n\n    return this.nodes.indexOf(child);\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    child = this.index(child);\n    this.at(child).parent = undefined;\n    this.nodes.splice(child, 1);\n    var index;\n\n    for (var id in this.indexes) {\n      index = this.indexes[id];\n\n      if (index >= child) {\n        this.indexes[id] = index - 1;\n      }\n    }\n\n    return this;\n  };\n\n  _proto.removeAll = function removeAll() {\n    for (var _iterator = _createForOfIteratorHelperLoose(this.nodes), _step; !(_step = _iterator()).done;) {\n      var node = _step.value;\n      node.parent = undefined;\n    }\n\n    this.nodes = [];\n    return this;\n  };\n\n  _proto.empty = function empty() {\n    return this.removeAll();\n  };\n\n  _proto.insertAfter = function insertAfter(oldNode, newNode) {\n    newNode.parent = this;\n    var oldIndex = this.index(oldNode);\n    this.nodes.splice(oldIndex + 1, 0, newNode);\n    newNode.parent = this;\n    var index;\n\n    for (var id in this.indexes) {\n      index = this.indexes[id];\n\n      if (oldIndex <= index) {\n        this.indexes[id] = index + 1;\n      }\n    }\n\n    return this;\n  };\n\n  _proto.insertBefore = function insertBefore(oldNode, newNode) {\n    newNode.parent = this;\n    var oldIndex = this.index(oldNode);\n    this.nodes.splice(oldIndex, 0, newNode);\n    newNode.parent = this;\n    var index;\n\n    for (var id in this.indexes) {\n      index = this.indexes[id];\n\n      if (index <= oldIndex) {\n        this.indexes[id] = index + 1;\n      }\n    }\n\n    return this;\n  };\n\n  _proto._findChildAtPosition = function _findChildAtPosition(line, col) {\n    var found = undefined;\n    this.each(function (node) {\n      if (node.atPosition) {\n        var foundChild = node.atPosition(line, col);\n\n        if (foundChild) {\n          found = foundChild;\n          return false;\n        }\n      } else if (node.isAtPosition(line, col)) {\n        found = node;\n        return false;\n      }\n    });\n    return found;\n  }\n  /**\n   * Return the most specific node at the line and column number given.\n   * The source location is based on the original parsed location, locations aren't\n   * updated as selector nodes are mutated.\n   * \n   * Note that this location is relative to the location of the first character\n   * of the selector, and not the location of the selector in the overall document\n   * when used in conjunction with postcss.\n   *\n   * If not found, returns undefined.\n   * @param {number} line The line number of the node to find. (1-based index)\n   * @param {number} col  The column number of the node to find. (1-based index)\n   */\n  ;\n\n  _proto.atPosition = function atPosition(line, col) {\n    if (this.isAtPosition(line, col)) {\n      return this._findChildAtPosition(line, col) || this;\n    } else {\n      return undefined;\n    }\n  };\n\n  _proto._inferEndPosition = function _inferEndPosition() {\n    if (this.last && this.last.source && this.last.source.end) {\n      this.source = this.source || {};\n      this.source.end = this.source.end || {};\n      Object.assign(this.source.end, this.last.source.end);\n    }\n  };\n\n  _proto.each = function each(callback) {\n    if (!this.lastEach) {\n      this.lastEach = 0;\n    }\n\n    if (!this.indexes) {\n      this.indexes = {};\n    }\n\n    this.lastEach++;\n    var id = this.lastEach;\n    this.indexes[id] = 0;\n\n    if (!this.length) {\n      return undefined;\n    }\n\n    var index, result;\n\n    while (this.indexes[id] < this.length) {\n      index = this.indexes[id];\n      result = callback(this.at(index), index);\n\n      if (result === false) {\n        break;\n      }\n\n      this.indexes[id] += 1;\n    }\n\n    delete this.indexes[id];\n\n    if (result === false) {\n      return false;\n    }\n  };\n\n  _proto.walk = function walk(callback) {\n    return this.each(function (node, i) {\n      var result = callback(node, i);\n\n      if (result !== false && node.length) {\n        result = node.walk(callback);\n      }\n\n      if (result === false) {\n        return false;\n      }\n    });\n  };\n\n  _proto.walkAttributes = function walkAttributes(callback) {\n    var _this2 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.ATTRIBUTE) {\n        return callback.call(_this2, selector);\n      }\n    });\n  };\n\n  _proto.walkClasses = function walkClasses(callback) {\n    var _this3 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.CLASS) {\n        return callback.call(_this3, selector);\n      }\n    });\n  };\n\n  _proto.walkCombinators = function walkCombinators(callback) {\n    var _this4 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.COMBINATOR) {\n        return callback.call(_this4, selector);\n      }\n    });\n  };\n\n  _proto.walkComments = function walkComments(callback) {\n    var _this5 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.COMMENT) {\n        return callback.call(_this5, selector);\n      }\n    });\n  };\n\n  _proto.walkIds = function walkIds(callback) {\n    var _this6 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.ID) {\n        return callback.call(_this6, selector);\n      }\n    });\n  };\n\n  _proto.walkNesting = function walkNesting(callback) {\n    var _this7 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.NESTING) {\n        return callback.call(_this7, selector);\n      }\n    });\n  };\n\n  _proto.walkPseudos = function walkPseudos(callback) {\n    var _this8 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.PSEUDO) {\n        return callback.call(_this8, selector);\n      }\n    });\n  };\n\n  _proto.walkTags = function walkTags(callback) {\n    var _this9 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.TAG) {\n        return callback.call(_this9, selector);\n      }\n    });\n  };\n\n  _proto.walkUniversals = function walkUniversals(callback) {\n    var _this10 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.UNIVERSAL) {\n        return callback.call(_this10, selector);\n      }\n    });\n  };\n\n  _proto.split = function split(callback) {\n    var _this11 = this;\n\n    var current = [];\n    return this.reduce(function (memo, node, index) {\n      var split = callback.call(_this11, node);\n      current.push(node);\n\n      if (split) {\n        memo.push(current);\n        current = [];\n      } else if (index === _this11.length - 1) {\n        memo.push(current);\n      }\n\n      return memo;\n    }, []);\n  };\n\n  _proto.map = function map(callback) {\n    return this.nodes.map(callback);\n  };\n\n  _proto.reduce = function reduce(callback, memo) {\n    return this.nodes.reduce(callback, memo);\n  };\n\n  _proto.every = function every(callback) {\n    return this.nodes.every(callback);\n  };\n\n  _proto.some = function some(callback) {\n    return this.nodes.some(callback);\n  };\n\n  _proto.filter = function filter(callback) {\n    return this.nodes.filter(callback);\n  };\n\n  _proto.sort = function sort(callback) {\n    return this.nodes.sort(callback);\n  };\n\n  _proto.toString = function toString() {\n    return this.map(String).join('');\n  };\n\n  _createClass(Container, [{\n    key: \"first\",\n    get: function get() {\n      return this.at(0);\n    }\n  }, {\n    key: \"last\",\n    get: function get() {\n      return this.at(this.length - 1);\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.nodes.length;\n    }\n  }]);\n\n  return Container;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Container;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _container = _interopRequireDefault(require(\"./container\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Root = /*#__PURE__*/function (_Container) {\n  _inheritsLoose(Root, _Container);\n\n  function Root(opts) {\n    var _this;\n\n    _this = _Container.call(this, opts) || this;\n    _this.type = _types.ROOT;\n    return _this;\n  }\n\n  var _proto = Root.prototype;\n\n  _proto.toString = function toString() {\n    var str = this.reduce(function (memo, selector) {\n      memo.push(String(selector));\n      return memo;\n    }, []).join(',');\n    return this.trailingComma ? str + ',' : str;\n  };\n\n  _proto.error = function error(message, options) {\n    if (this._error) {\n      return this._error(message, options);\n    } else {\n      return new Error(message);\n    }\n  };\n\n  _createClass(Root, [{\n    key: \"errorGenerator\",\n    set: function set(handler) {\n      this._error = handler;\n    }\n  }]);\n\n  return Root;\n}(_container[\"default\"]);\n\nexports[\"default\"] = Root;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _container = _interopRequireDefault(require(\"./container\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Selector = /*#__PURE__*/function (_Container) {\n  _inheritsLoose(Selector, _Container);\n\n  function Selector(opts) {\n    var _this;\n\n    _this = _Container.call(this, opts) || this;\n    _this.type = _types.SELECTOR;\n    return _this;\n  }\n\n  return Selector;\n}(_container[\"default\"]);\n\nexports[\"default\"] = Selector;\nmodule.exports = exports.default;","/*! https://mths.be/cssesc v3.0.0 by @mathias */\n'use strict';\n\nvar object = {};\nvar hasOwnProperty = object.hasOwnProperty;\nvar merge = function merge(options, defaults) {\n\tif (!options) {\n\t\treturn defaults;\n\t}\n\tvar result = {};\n\tfor (var key in defaults) {\n\t\t// `if (defaults.hasOwnProperty(key) {  }` is not needed here, since\n\t\t// only recognized option names are used.\n\t\tresult[key] = hasOwnProperty.call(options, key) ? options[key] : defaults[key];\n\t}\n\treturn result;\n};\n\nvar regexAnySingleEscape = /[ -,\\.\\/:-@\\[-\\^`\\{-~]/;\nvar regexSingleEscape = /[ -,\\.\\/:-@\\[\\]\\^`\\{-~]/;\nvar regexAlwaysEscape = /['\"\\\\]/;\nvar regexExcessiveSpaces = /(^|\\\\+)?(\\\\[A-F0-9]{1,6})\\x20(?![a-fA-F0-9\\x20])/g;\n\n// https://mathiasbynens.be/notes/css-escapes#css\nvar cssesc = function cssesc(string, options) {\n\toptions = merge(options, cssesc.options);\n\tif (options.quotes != 'single' && options.quotes != 'double') {\n\t\toptions.quotes = 'single';\n\t}\n\tvar quote = options.quotes == 'double' ? '\"' : '\\'';\n\tvar isIdentifier = options.isIdentifier;\n\n\tvar firstChar = string.charAt(0);\n\tvar output = '';\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar character = string.charAt(counter++);\n\t\tvar codePoint = character.charCodeAt();\n\t\tvar value = void 0;\n\t\t// If its not a printable ASCII character\n\t\tif (codePoint < 0x20 || codePoint > 0x7E) {\n\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDBFF && counter < length) {\n\t\t\t\t// Its a high surrogate, and there is a next character.\n\t\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t\t// next character is low surrogate\n\t\t\t\t\tcodePoint = ((codePoint & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000;\n\t\t\t\t} else {\n\t\t\t\t\t// Its an unmatched surrogate; only append this code unit, in case\n\t\t\t\t\t// the next code unit is the high surrogate of a surrogate pair.\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t} else {\n\t\t\tif (options.escapeEverything) {\n\t\t\t\tif (regexAnySingleEscape.test(character)) {\n\t\t\t\t\tvalue = '\\\\' + character;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t\t}\n\t\t\t} else if (/[\\t\\n\\f\\r\\x0B]/.test(character)) {\n\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t} else if (character == '\\\\' || !isIdentifier && (character == '\"' && quote == character || character == '\\'' && quote == character) || isIdentifier && regexSingleEscape.test(character)) {\n\t\t\t\tvalue = '\\\\' + character;\n\t\t\t} else {\n\t\t\t\tvalue = character;\n\t\t\t}\n\t\t}\n\t\toutput += value;\n\t}\n\n\tif (isIdentifier) {\n\t\tif (/^-[-\\d]/.test(output)) {\n\t\t\toutput = '\\\\-' + output.slice(1);\n\t\t} else if (/\\d/.test(firstChar)) {\n\t\t\toutput = '\\\\3' + firstChar + ' ' + output.slice(1);\n\t\t}\n\t}\n\n\t// Remove spaces after `\\HEX` escapes that are not followed by a hex digit,\n\t// since theyre redundant. Note that this is only possible if the escape\n\t// sequence isnt preceded by an odd number of backslashes.\n\toutput = output.replace(regexExcessiveSpaces, function ($0, $1, $2) {\n\t\tif ($1 && $1.length % 2) {\n\t\t\t// Its not safe to remove the space, so dont.\n\t\t\treturn $0;\n\t\t}\n\t\t// Strip the space.\n\t\treturn ($1 || '') + $2;\n\t});\n\n\tif (!isIdentifier && options.wrap) {\n\t\treturn quote + output + quote;\n\t}\n\treturn output;\n};\n\n// Expose default options (so they can be overridden globally).\ncssesc.options = {\n\t'escapeEverything': false,\n\t'isIdentifier': false,\n\t'quotes': 'single',\n\t'wrap': false\n};\n\ncssesc.version = '3.0.0';\n\nmodule.exports = cssesc;\n","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _cssesc = _interopRequireDefault(require(\"cssesc\"));\n\nvar _util = require(\"../util\");\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ClassName = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(ClassName, _Node);\n\n  function ClassName(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.CLASS;\n    _this._constructed = true;\n    return _this;\n  }\n\n  var _proto = ClassName.prototype;\n\n  _proto.valueToString = function valueToString() {\n    return '.' + _Node.prototype.valueToString.call(this);\n  };\n\n  _createClass(ClassName, [{\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(v) {\n      if (this._constructed) {\n        var escaped = (0, _cssesc[\"default\"])(v, {\n          isIdentifier: true\n        });\n\n        if (escaped !== v) {\n          (0, _util.ensureObject)(this, \"raws\");\n          this.raws.value = escaped;\n        } else if (this.raws) {\n          delete this.raws.value;\n        }\n      }\n\n      this._value = v;\n    }\n  }]);\n\n  return ClassName;\n}(_node[\"default\"]);\n\nexports[\"default\"] = ClassName;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Comment = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Comment, _Node);\n\n  function Comment(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.COMMENT;\n    return _this;\n  }\n\n  return Comment;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Comment;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ID = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(ID, _Node);\n\n  function ID(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.ID;\n    return _this;\n  }\n\n  var _proto = ID.prototype;\n\n  _proto.valueToString = function valueToString() {\n    return '#' + _Node.prototype.valueToString.call(this);\n  };\n\n  return ID;\n}(_node[\"default\"]);\n\nexports[\"default\"] = ID;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _cssesc = _interopRequireDefault(require(\"cssesc\"));\n\nvar _util = require(\"../util\");\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Namespace = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Namespace, _Node);\n\n  function Namespace() {\n    return _Node.apply(this, arguments) || this;\n  }\n\n  var _proto = Namespace.prototype;\n\n  _proto.qualifiedName = function qualifiedName(value) {\n    if (this.namespace) {\n      return this.namespaceString + \"|\" + value;\n    } else {\n      return value;\n    }\n  };\n\n  _proto.valueToString = function valueToString() {\n    return this.qualifiedName(_Node.prototype.valueToString.call(this));\n  };\n\n  _createClass(Namespace, [{\n    key: \"namespace\",\n    get: function get() {\n      return this._namespace;\n    },\n    set: function set(namespace) {\n      if (namespace === true || namespace === \"*\" || namespace === \"&\") {\n        this._namespace = namespace;\n\n        if (this.raws) {\n          delete this.raws.namespace;\n        }\n\n        return;\n      }\n\n      var escaped = (0, _cssesc[\"default\"])(namespace, {\n        isIdentifier: true\n      });\n      this._namespace = namespace;\n\n      if (escaped !== namespace) {\n        (0, _util.ensureObject)(this, \"raws\");\n        this.raws.namespace = escaped;\n      } else if (this.raws) {\n        delete this.raws.namespace;\n      }\n    }\n  }, {\n    key: \"ns\",\n    get: function get() {\n      return this._namespace;\n    },\n    set: function set(namespace) {\n      this.namespace = namespace;\n    }\n  }, {\n    key: \"namespaceString\",\n    get: function get() {\n      if (this.namespace) {\n        var ns = this.stringifyProperty(\"namespace\");\n\n        if (ns === true) {\n          return '';\n        } else {\n          return ns;\n        }\n      } else {\n        return '';\n      }\n    }\n  }]);\n\n  return Namespace;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Namespace;\n;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _namespace = _interopRequireDefault(require(\"./namespace\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Tag = /*#__PURE__*/function (_Namespace) {\n  _inheritsLoose(Tag, _Namespace);\n\n  function Tag(opts) {\n    var _this;\n\n    _this = _Namespace.call(this, opts) || this;\n    _this.type = _types.TAG;\n    return _this;\n  }\n\n  return Tag;\n}(_namespace[\"default\"]);\n\nexports[\"default\"] = Tag;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar String = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(String, _Node);\n\n  function String(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.STRING;\n    return _this;\n  }\n\n  return String;\n}(_node[\"default\"]);\n\nexports[\"default\"] = String;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _container = _interopRequireDefault(require(\"./container\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Pseudo = /*#__PURE__*/function (_Container) {\n  _inheritsLoose(Pseudo, _Container);\n\n  function Pseudo(opts) {\n    var _this;\n\n    _this = _Container.call(this, opts) || this;\n    _this.type = _types.PSEUDO;\n    return _this;\n  }\n\n  var _proto = Pseudo.prototype;\n\n  _proto.toString = function toString() {\n    var params = this.length ? '(' + this.map(String).join(',') + ')' : '';\n    return [this.rawSpaceBefore, this.stringifyProperty(\"value\"), params, this.rawSpaceAfter].join('');\n  };\n\n  return Pseudo;\n}(_container[\"default\"]);\n\nexports[\"default\"] = Pseudo;\nmodule.exports = exports.default;","module.exports = function deprecate(fn, message) {\n  return function (...args) {\n    console.warn(message)\n    return fn(...args)\n  }\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports.unescapeValue = unescapeValue;\nexports[\"default\"] = void 0;\n\nvar _cssesc = _interopRequireDefault(require(\"cssesc\"));\n\nvar _unesc = _interopRequireDefault(require(\"../util/unesc\"));\n\nvar _namespace = _interopRequireDefault(require(\"./namespace\"));\n\nvar _types = require(\"./types\");\n\nvar _CSSESC_QUOTE_OPTIONS;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar deprecate = require(\"util-deprecate\");\n\nvar WRAPPED_IN_QUOTES = /^('|\")([^]*)\\1$/;\nvar warnOfDeprecatedValueAssignment = deprecate(function () {}, \"Assigning an attribute a value containing characters that might need to be escaped is deprecated. \" + \"Call attribute.setValue() instead.\");\nvar warnOfDeprecatedQuotedAssignment = deprecate(function () {}, \"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead.\");\nvar warnOfDeprecatedConstructor = deprecate(function () {}, \"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.\");\n\nfunction unescapeValue(value) {\n  var deprecatedUsage = false;\n  var quoteMark = null;\n  var unescaped = value;\n  var m = unescaped.match(WRAPPED_IN_QUOTES);\n\n  if (m) {\n    quoteMark = m[1];\n    unescaped = m[2];\n  }\n\n  unescaped = (0, _unesc[\"default\"])(unescaped);\n\n  if (unescaped !== value) {\n    deprecatedUsage = true;\n  }\n\n  return {\n    deprecatedUsage: deprecatedUsage,\n    unescaped: unescaped,\n    quoteMark: quoteMark\n  };\n}\n\nfunction handleDeprecatedContructorOpts(opts) {\n  if (opts.quoteMark !== undefined) {\n    return opts;\n  }\n\n  if (opts.value === undefined) {\n    return opts;\n  }\n\n  warnOfDeprecatedConstructor();\n\n  var _unescapeValue = unescapeValue(opts.value),\n      quoteMark = _unescapeValue.quoteMark,\n      unescaped = _unescapeValue.unescaped;\n\n  if (!opts.raws) {\n    opts.raws = {};\n  }\n\n  if (opts.raws.value === undefined) {\n    opts.raws.value = opts.value;\n  }\n\n  opts.value = unescaped;\n  opts.quoteMark = quoteMark;\n  return opts;\n}\n\nvar Attribute = /*#__PURE__*/function (_Namespace) {\n  _inheritsLoose(Attribute, _Namespace);\n\n  function Attribute(opts) {\n    var _this;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    _this = _Namespace.call(this, handleDeprecatedContructorOpts(opts)) || this;\n    _this.type = _types.ATTRIBUTE;\n    _this.raws = _this.raws || {};\n    Object.defineProperty(_this.raws, 'unquoted', {\n      get: deprecate(function () {\n        return _this.value;\n      }, \"attr.raws.unquoted is deprecated. Call attr.value instead.\"),\n      set: deprecate(function () {\n        return _this.value;\n      }, \"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.\")\n    });\n    _this._constructed = true;\n    return _this;\n  }\n  /**\n   * Returns the Attribute's value quoted such that it would be legal to use\n   * in the value of a css file. The original value's quotation setting\n   * used for stringification is left unchanged. See `setValue(value, options)`\n   * if you want to control the quote settings of a new value for the attribute.\n   *\n   * You can also change the quotation used for the current value by setting quoteMark.\n   *\n   * Options:\n   *   * quoteMark {'\"' | \"'\" | null} - Use this value to quote the value. If this\n   *     option is not set, the original value for quoteMark will be used. If\n   *     indeterminate, a double quote is used. The legal values are:\n   *     * `null` - the value will be unquoted and characters will be escaped as necessary.\n   *     * `'` - the value will be quoted with a single quote and single quotes are escaped.\n   *     * `\"` - the value will be quoted with a double quote and double quotes are escaped.\n   *   * preferCurrentQuoteMark {boolean} - if true, prefer the source quote mark\n   *     over the quoteMark option value.\n   *   * smart {boolean} - if true, will select a quote mark based on the value\n   *     and the other options specified here. See the `smartQuoteMark()`\n   *     method.\n   **/\n\n\n  var _proto = Attribute.prototype;\n\n  _proto.getQuotedValue = function getQuotedValue(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var quoteMark = this._determineQuoteMark(options);\n\n    var cssescopts = CSSESC_QUOTE_OPTIONS[quoteMark];\n    var escaped = (0, _cssesc[\"default\"])(this._value, cssescopts);\n    return escaped;\n  };\n\n  _proto._determineQuoteMark = function _determineQuoteMark(options) {\n    return options.smart ? this.smartQuoteMark(options) : this.preferredQuoteMark(options);\n  }\n  /**\n   * Set the unescaped value with the specified quotation options. The value\n   * provided must not include any wrapping quote marks -- those quotes will\n   * be interpreted as part of the value and escaped accordingly.\n   */\n  ;\n\n  _proto.setValue = function setValue(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._value = value;\n    this._quoteMark = this._determineQuoteMark(options);\n\n    this._syncRawValue();\n  }\n  /**\n   * Intelligently select a quoteMark value based on the value's contents. If\n   * the value is a legal CSS ident, it will not be quoted. Otherwise a quote\n   * mark will be picked that minimizes the number of escapes.\n   *\n   * If there's no clear winner, the quote mark from these options is used,\n   * then the source quote mark (this is inverted if `preferCurrentQuoteMark` is\n   * true). If the quoteMark is unspecified, a double quote is used.\n   *\n   * @param options This takes the quoteMark and preferCurrentQuoteMark options\n   * from the quoteValue method.\n   */\n  ;\n\n  _proto.smartQuoteMark = function smartQuoteMark(options) {\n    var v = this.value;\n    var numSingleQuotes = v.replace(/[^']/g, '').length;\n    var numDoubleQuotes = v.replace(/[^\"]/g, '').length;\n\n    if (numSingleQuotes + numDoubleQuotes === 0) {\n      var escaped = (0, _cssesc[\"default\"])(v, {\n        isIdentifier: true\n      });\n\n      if (escaped === v) {\n        return Attribute.NO_QUOTE;\n      } else {\n        var pref = this.preferredQuoteMark(options);\n\n        if (pref === Attribute.NO_QUOTE) {\n          // pick a quote mark that isn't none and see if it's smaller\n          var quote = this.quoteMark || options.quoteMark || Attribute.DOUBLE_QUOTE;\n          var opts = CSSESC_QUOTE_OPTIONS[quote];\n          var quoteValue = (0, _cssesc[\"default\"])(v, opts);\n\n          if (quoteValue.length < escaped.length) {\n            return quote;\n          }\n        }\n\n        return pref;\n      }\n    } else if (numDoubleQuotes === numSingleQuotes) {\n      return this.preferredQuoteMark(options);\n    } else if (numDoubleQuotes < numSingleQuotes) {\n      return Attribute.DOUBLE_QUOTE;\n    } else {\n      return Attribute.SINGLE_QUOTE;\n    }\n  }\n  /**\n   * Selects the preferred quote mark based on the options and the current quote mark value.\n   * If you want the quote mark to depend on the attribute value, call `smartQuoteMark(opts)`\n   * instead.\n   */\n  ;\n\n  _proto.preferredQuoteMark = function preferredQuoteMark(options) {\n    var quoteMark = options.preferCurrentQuoteMark ? this.quoteMark : options.quoteMark;\n\n    if (quoteMark === undefined) {\n      quoteMark = options.preferCurrentQuoteMark ? options.quoteMark : this.quoteMark;\n    }\n\n    if (quoteMark === undefined) {\n      quoteMark = Attribute.DOUBLE_QUOTE;\n    }\n\n    return quoteMark;\n  };\n\n  _proto._syncRawValue = function _syncRawValue() {\n    var rawValue = (0, _cssesc[\"default\"])(this._value, CSSESC_QUOTE_OPTIONS[this.quoteMark]);\n\n    if (rawValue === this._value) {\n      if (this.raws) {\n        delete this.raws.value;\n      }\n    } else {\n      this.raws.value = rawValue;\n    }\n  };\n\n  _proto._handleEscapes = function _handleEscapes(prop, value) {\n    if (this._constructed) {\n      var escaped = (0, _cssesc[\"default\"])(value, {\n        isIdentifier: true\n      });\n\n      if (escaped !== value) {\n        this.raws[prop] = escaped;\n      } else {\n        delete this.raws[prop];\n      }\n    }\n  };\n\n  _proto._spacesFor = function _spacesFor(name) {\n    var attrSpaces = {\n      before: '',\n      after: ''\n    };\n    var spaces = this.spaces[name] || {};\n    var rawSpaces = this.raws.spaces && this.raws.spaces[name] || {};\n    return Object.assign(attrSpaces, spaces, rawSpaces);\n  };\n\n  _proto._stringFor = function _stringFor(name, spaceName, concat) {\n    if (spaceName === void 0) {\n      spaceName = name;\n    }\n\n    if (concat === void 0) {\n      concat = defaultAttrConcat;\n    }\n\n    var attrSpaces = this._spacesFor(spaceName);\n\n    return concat(this.stringifyProperty(name), attrSpaces);\n  }\n  /**\n   * returns the offset of the attribute part specified relative to the\n   * start of the node of the output string.\n   *\n   * * \"ns\" - alias for \"namespace\"\n   * * \"namespace\" - the namespace if it exists.\n   * * \"attribute\" - the attribute name\n   * * \"attributeNS\" - the start of the attribute or its namespace\n   * * \"operator\" - the match operator of the attribute\n   * * \"value\" - The value (string or identifier)\n   * * \"insensitive\" - the case insensitivity flag;\n   * @param part One of the possible values inside an attribute.\n   * @returns -1 if the name is invalid or the value doesn't exist in this attribute.\n   */\n  ;\n\n  _proto.offsetOf = function offsetOf(name) {\n    var count = 1;\n\n    var attributeSpaces = this._spacesFor(\"attribute\");\n\n    count += attributeSpaces.before.length;\n\n    if (name === \"namespace\" || name === \"ns\") {\n      return this.namespace ? count : -1;\n    }\n\n    if (name === \"attributeNS\") {\n      return count;\n    }\n\n    count += this.namespaceString.length;\n\n    if (this.namespace) {\n      count += 1;\n    }\n\n    if (name === \"attribute\") {\n      return count;\n    }\n\n    count += this.stringifyProperty(\"attribute\").length;\n    count += attributeSpaces.after.length;\n\n    var operatorSpaces = this._spacesFor(\"operator\");\n\n    count += operatorSpaces.before.length;\n    var operator = this.stringifyProperty(\"operator\");\n\n    if (name === \"operator\") {\n      return operator ? count : -1;\n    }\n\n    count += operator.length;\n    count += operatorSpaces.after.length;\n\n    var valueSpaces = this._spacesFor(\"value\");\n\n    count += valueSpaces.before.length;\n    var value = this.stringifyProperty(\"value\");\n\n    if (name === \"value\") {\n      return value ? count : -1;\n    }\n\n    count += value.length;\n    count += valueSpaces.after.length;\n\n    var insensitiveSpaces = this._spacesFor(\"insensitive\");\n\n    count += insensitiveSpaces.before.length;\n\n    if (name === \"insensitive\") {\n      return this.insensitive ? count : -1;\n    }\n\n    return -1;\n  };\n\n  _proto.toString = function toString() {\n    var _this2 = this;\n\n    var selector = [this.rawSpaceBefore, '['];\n    selector.push(this._stringFor('qualifiedAttribute', 'attribute'));\n\n    if (this.operator && (this.value || this.value === '')) {\n      selector.push(this._stringFor('operator'));\n      selector.push(this._stringFor('value'));\n      selector.push(this._stringFor('insensitiveFlag', 'insensitive', function (attrValue, attrSpaces) {\n        if (attrValue.length > 0 && !_this2.quoted && attrSpaces.before.length === 0 && !(_this2.spaces.value && _this2.spaces.value.after)) {\n          attrSpaces.before = \" \";\n        }\n\n        return defaultAttrConcat(attrValue, attrSpaces);\n      }));\n    }\n\n    selector.push(']');\n    selector.push(this.rawSpaceAfter);\n    return selector.join('');\n  };\n\n  _createClass(Attribute, [{\n    key: \"quoted\",\n    get: function get() {\n      var qm = this.quoteMark;\n      return qm === \"'\" || qm === '\"';\n    },\n    set: function set(value) {\n      warnOfDeprecatedQuotedAssignment();\n    }\n    /**\n     * returns a single (`'`) or double (`\"`) quote character if the value is quoted.\n     * returns `null` if the value is not quoted.\n     * returns `undefined` if the quotation state is unknown (this can happen when\n     * the attribute is constructed without specifying a quote mark.)\n     */\n\n  }, {\n    key: \"quoteMark\",\n    get: function get() {\n      return this._quoteMark;\n    }\n    /**\n     * Set the quote mark to be used by this attribute's value.\n     * If the quote mark changes, the raw (escaped) value at `attr.raws.value` of the attribute\n     * value is updated accordingly.\n     *\n     * @param {\"'\" | '\"' | null} quoteMark The quote mark or `null` if the value should be unquoted.\n     */\n    ,\n    set: function set(quoteMark) {\n      if (!this._constructed) {\n        this._quoteMark = quoteMark;\n        return;\n      }\n\n      if (this._quoteMark !== quoteMark) {\n        this._quoteMark = quoteMark;\n\n        this._syncRawValue();\n      }\n    }\n  }, {\n    key: \"qualifiedAttribute\",\n    get: function get() {\n      return this.qualifiedName(this.raws.attribute || this.attribute);\n    }\n  }, {\n    key: \"insensitiveFlag\",\n    get: function get() {\n      return this.insensitive ? 'i' : '';\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n    /**\n     * Before 3.0, the value had to be set to an escaped value including any wrapped\n     * quote marks. In 3.0, the semantics of `Attribute.value` changed so that the value\n     * is unescaped during parsing and any quote marks are removed.\n     *\n     * Because the ambiguity of this semantic change, if you set `attr.value = newValue`,\n     * a deprecation warning is raised when the new value contains any characters that would\n     * require escaping (including if it contains wrapped quotes).\n     *\n     * Instead, you should call `attr.setValue(newValue, opts)` and pass options that describe\n     * how the new value is quoted.\n     */\n    ,\n    set: function set(v) {\n      if (this._constructed) {\n        var _unescapeValue2 = unescapeValue(v),\n            deprecatedUsage = _unescapeValue2.deprecatedUsage,\n            unescaped = _unescapeValue2.unescaped,\n            quoteMark = _unescapeValue2.quoteMark;\n\n        if (deprecatedUsage) {\n          warnOfDeprecatedValueAssignment();\n        }\n\n        if (unescaped === this._value && quoteMark === this._quoteMark) {\n          return;\n        }\n\n        this._value = unescaped;\n        this._quoteMark = quoteMark;\n\n        this._syncRawValue();\n      } else {\n        this._value = v;\n      }\n    }\n  }, {\n    key: \"attribute\",\n    get: function get() {\n      return this._attribute;\n    },\n    set: function set(name) {\n      this._handleEscapes(\"attribute\", name);\n\n      this._attribute = name;\n    }\n  }]);\n\n  return Attribute;\n}(_namespace[\"default\"]);\n\nexports[\"default\"] = Attribute;\nAttribute.NO_QUOTE = null;\nAttribute.SINGLE_QUOTE = \"'\";\nAttribute.DOUBLE_QUOTE = '\"';\nvar CSSESC_QUOTE_OPTIONS = (_CSSESC_QUOTE_OPTIONS = {\n  \"'\": {\n    quotes: 'single',\n    wrap: true\n  },\n  '\"': {\n    quotes: 'double',\n    wrap: true\n  }\n}, _CSSESC_QUOTE_OPTIONS[null] = {\n  isIdentifier: true\n}, _CSSESC_QUOTE_OPTIONS);\n\nfunction defaultAttrConcat(attrValue, attrSpaces) {\n  return \"\" + attrSpaces.before + attrValue + attrSpaces.after;\n}","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _namespace = _interopRequireDefault(require(\"./namespace\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Universal = /*#__PURE__*/function (_Namespace) {\n  _inheritsLoose(Universal, _Namespace);\n\n  function Universal(opts) {\n    var _this;\n\n    _this = _Namespace.call(this, opts) || this;\n    _this.type = _types.UNIVERSAL;\n    _this.value = '*';\n    return _this;\n  }\n\n  return Universal;\n}(_namespace[\"default\"]);\n\nexports[\"default\"] = Universal;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Combinator = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Combinator, _Node);\n\n  function Combinator(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.COMBINATOR;\n    return _this;\n  }\n\n  return Combinator;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Combinator;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Nesting = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Nesting, _Node);\n\n  function Nesting(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.NESTING;\n    _this.value = '&';\n    return _this;\n  }\n\n  return Nesting;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Nesting;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = sortAscending;\n\nfunction sortAscending(list) {\n  return list.sort(function (a, b) {\n    return a - b;\n  });\n}\n\n;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.combinator = exports.word = exports.comment = exports.str = exports.tab = exports.newline = exports.feed = exports.cr = exports.backslash = exports.bang = exports.slash = exports.doubleQuote = exports.singleQuote = exports.space = exports.greaterThan = exports.pipe = exports.equals = exports.plus = exports.caret = exports.tilde = exports.dollar = exports.closeSquare = exports.openSquare = exports.closeParenthesis = exports.openParenthesis = exports.semicolon = exports.colon = exports.comma = exports.at = exports.asterisk = exports.ampersand = void 0;\nvar ampersand = 38; // `&`.charCodeAt(0);\n\nexports.ampersand = ampersand;\nvar asterisk = 42; // `*`.charCodeAt(0);\n\nexports.asterisk = asterisk;\nvar at = 64; // `@`.charCodeAt(0);\n\nexports.at = at;\nvar comma = 44; // `,`.charCodeAt(0);\n\nexports.comma = comma;\nvar colon = 58; // `:`.charCodeAt(0);\n\nexports.colon = colon;\nvar semicolon = 59; // `;`.charCodeAt(0);\n\nexports.semicolon = semicolon;\nvar openParenthesis = 40; // `(`.charCodeAt(0);\n\nexports.openParenthesis = openParenthesis;\nvar closeParenthesis = 41; // `)`.charCodeAt(0);\n\nexports.closeParenthesis = closeParenthesis;\nvar openSquare = 91; // `[`.charCodeAt(0);\n\nexports.openSquare = openSquare;\nvar closeSquare = 93; // `]`.charCodeAt(0);\n\nexports.closeSquare = closeSquare;\nvar dollar = 36; // `$`.charCodeAt(0);\n\nexports.dollar = dollar;\nvar tilde = 126; // `~`.charCodeAt(0);\n\nexports.tilde = tilde;\nvar caret = 94; // `^`.charCodeAt(0);\n\nexports.caret = caret;\nvar plus = 43; // `+`.charCodeAt(0);\n\nexports.plus = plus;\nvar equals = 61; // `=`.charCodeAt(0);\n\nexports.equals = equals;\nvar pipe = 124; // `|`.charCodeAt(0);\n\nexports.pipe = pipe;\nvar greaterThan = 62; // `>`.charCodeAt(0);\n\nexports.greaterThan = greaterThan;\nvar space = 32; // ` `.charCodeAt(0);\n\nexports.space = space;\nvar singleQuote = 39; // `'`.charCodeAt(0);\n\nexports.singleQuote = singleQuote;\nvar doubleQuote = 34; // `\"`.charCodeAt(0);\n\nexports.doubleQuote = doubleQuote;\nvar slash = 47; // `/`.charCodeAt(0);\n\nexports.slash = slash;\nvar bang = 33; // `!`.charCodeAt(0);\n\nexports.bang = bang;\nvar backslash = 92; // '\\\\'.charCodeAt(0);\n\nexports.backslash = backslash;\nvar cr = 13; // '\\r'.charCodeAt(0);\n\nexports.cr = cr;\nvar feed = 12; // '\\f'.charCodeAt(0);\n\nexports.feed = feed;\nvar newline = 10; // '\\n'.charCodeAt(0);\n\nexports.newline = newline;\nvar tab = 9; // '\\t'.charCodeAt(0);\n// Expose aliases primarily for readability.\n\nexports.tab = tab;\nvar str = singleQuote; // No good single character representation!\n\nexports.str = str;\nvar comment = -1;\nexports.comment = comment;\nvar word = -2;\nexports.word = word;\nvar combinator = -3;\nexports.combinator = combinator;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = tokenize;\nexports.FIELDS = void 0;\n\nvar t = _interopRequireWildcard(require(\"./tokenTypes\"));\n\nvar _unescapable, _wordDelimiters;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar unescapable = (_unescapable = {}, _unescapable[t.tab] = true, _unescapable[t.newline] = true, _unescapable[t.cr] = true, _unescapable[t.feed] = true, _unescapable);\nvar wordDelimiters = (_wordDelimiters = {}, _wordDelimiters[t.space] = true, _wordDelimiters[t.tab] = true, _wordDelimiters[t.newline] = true, _wordDelimiters[t.cr] = true, _wordDelimiters[t.feed] = true, _wordDelimiters[t.ampersand] = true, _wordDelimiters[t.asterisk] = true, _wordDelimiters[t.bang] = true, _wordDelimiters[t.comma] = true, _wordDelimiters[t.colon] = true, _wordDelimiters[t.semicolon] = true, _wordDelimiters[t.openParenthesis] = true, _wordDelimiters[t.closeParenthesis] = true, _wordDelimiters[t.openSquare] = true, _wordDelimiters[t.closeSquare] = true, _wordDelimiters[t.singleQuote] = true, _wordDelimiters[t.doubleQuote] = true, _wordDelimiters[t.plus] = true, _wordDelimiters[t.pipe] = true, _wordDelimiters[t.tilde] = true, _wordDelimiters[t.greaterThan] = true, _wordDelimiters[t.equals] = true, _wordDelimiters[t.dollar] = true, _wordDelimiters[t.caret] = true, _wordDelimiters[t.slash] = true, _wordDelimiters);\nvar hex = {};\nvar hexChars = \"0123456789abcdefABCDEF\";\n\nfor (var i = 0; i < hexChars.length; i++) {\n  hex[hexChars.charCodeAt(i)] = true;\n}\n/**\n *  Returns the last index of the bar css word\n * @param {string} css The string in which the word begins\n * @param {number} start The index into the string where word's first letter occurs\n */\n\n\nfunction consumeWord(css, start) {\n  var next = start;\n  var code;\n\n  do {\n    code = css.charCodeAt(next);\n\n    if (wordDelimiters[code]) {\n      return next - 1;\n    } else if (code === t.backslash) {\n      next = consumeEscape(css, next) + 1;\n    } else {\n      // All other characters are part of the word\n      next++;\n    }\n  } while (next < css.length);\n\n  return next - 1;\n}\n/**\n *  Returns the last index of the escape sequence\n * @param {string} css The string in which the sequence begins\n * @param {number} start The index into the string where escape character (`\\`) occurs.\n */\n\n\nfunction consumeEscape(css, start) {\n  var next = start;\n  var code = css.charCodeAt(next + 1);\n\n  if (unescapable[code]) {// just consume the escape char\n  } else if (hex[code]) {\n    var hexDigits = 0; // consume up to 6 hex chars\n\n    do {\n      next++;\n      hexDigits++;\n      code = css.charCodeAt(next + 1);\n    } while (hex[code] && hexDigits < 6); // if fewer than 6 hex chars, a trailing space ends the escape\n\n\n    if (hexDigits < 6 && code === t.space) {\n      next++;\n    }\n  } else {\n    // the next char is part of the current word\n    next++;\n  }\n\n  return next;\n}\n\nvar FIELDS = {\n  TYPE: 0,\n  START_LINE: 1,\n  START_COL: 2,\n  END_LINE: 3,\n  END_COL: 4,\n  START_POS: 5,\n  END_POS: 6\n};\nexports.FIELDS = FIELDS;\n\nfunction tokenize(input) {\n  var tokens = [];\n  var css = input.css.valueOf();\n  var _css = css,\n      length = _css.length;\n  var offset = -1;\n  var line = 1;\n  var start = 0;\n  var end = 0;\n  var code, content, endColumn, endLine, escaped, escapePos, last, lines, next, nextLine, nextOffset, quote, tokenType;\n\n  function unclosed(what, fix) {\n    if (input.safe) {\n      // fyi: this is never set to true.\n      css += fix;\n      next = css.length - 1;\n    } else {\n      throw input.error('Unclosed ' + what, line, start - offset, start);\n    }\n  }\n\n  while (start < length) {\n    code = css.charCodeAt(start);\n\n    if (code === t.newline) {\n      offset = start;\n      line += 1;\n    }\n\n    switch (code) {\n      case t.space:\n      case t.tab:\n      case t.newline:\n      case t.cr:\n      case t.feed:\n        next = start;\n\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n\n          if (code === t.newline) {\n            offset = next;\n            line += 1;\n          }\n        } while (code === t.space || code === t.newline || code === t.tab || code === t.cr || code === t.feed);\n\n        tokenType = t.space;\n        endLine = line;\n        endColumn = next - offset - 1;\n        end = next;\n        break;\n\n      case t.plus:\n      case t.greaterThan:\n      case t.tilde:\n      case t.pipe:\n        next = start;\n\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n        } while (code === t.plus || code === t.greaterThan || code === t.tilde || code === t.pipe);\n\n        tokenType = t.combinator;\n        endLine = line;\n        endColumn = start - offset;\n        end = next;\n        break;\n      // Consume these characters as single tokens.\n\n      case t.asterisk:\n      case t.ampersand:\n      case t.bang:\n      case t.comma:\n      case t.equals:\n      case t.dollar:\n      case t.caret:\n      case t.openSquare:\n      case t.closeSquare:\n      case t.colon:\n      case t.semicolon:\n      case t.openParenthesis:\n      case t.closeParenthesis:\n        next = start;\n        tokenType = code;\n        endLine = line;\n        endColumn = start - offset;\n        end = next + 1;\n        break;\n\n      case t.singleQuote:\n      case t.doubleQuote:\n        quote = code === t.singleQuote ? \"'\" : '\"';\n        next = start;\n\n        do {\n          escaped = false;\n          next = css.indexOf(quote, next + 1);\n\n          if (next === -1) {\n            unclosed('quote', quote);\n          }\n\n          escapePos = next;\n\n          while (css.charCodeAt(escapePos - 1) === t.backslash) {\n            escapePos -= 1;\n            escaped = !escaped;\n          }\n        } while (escaped);\n\n        tokenType = t.str;\n        endLine = line;\n        endColumn = start - offset;\n        end = next + 1;\n        break;\n\n      default:\n        if (code === t.slash && css.charCodeAt(start + 1) === t.asterisk) {\n          next = css.indexOf('*/', start + 2) + 1;\n\n          if (next === 0) {\n            unclosed('comment', '*/');\n          }\n\n          content = css.slice(start, next + 1);\n          lines = content.split('\\n');\n          last = lines.length - 1;\n\n          if (last > 0) {\n            nextLine = line + last;\n            nextOffset = next - lines[last].length;\n          } else {\n            nextLine = line;\n            nextOffset = offset;\n          }\n\n          tokenType = t.comment;\n          line = nextLine;\n          endLine = nextLine;\n          endColumn = next - nextOffset;\n        } else if (code === t.slash) {\n          next = start;\n          tokenType = code;\n          endLine = line;\n          endColumn = start - offset;\n          end = next + 1;\n        } else {\n          next = consumeWord(css, start);\n          tokenType = t.word;\n          endLine = line;\n          endColumn = next - offset;\n        }\n\n        end = next + 1;\n        break;\n    } // Ensure that the token structure remains consistent\n\n\n    tokens.push([tokenType, // [0] Token type\n    line, // [1] Starting line\n    start - offset, // [2] Starting column\n    endLine, // [3] Ending line\n    endColumn, // [4] Ending column\n    start, // [5] Start position / Source index\n    end // [6] End position\n    ]); // Reset offset for the next token\n\n    if (nextOffset) {\n      offset = nextOffset;\n      nextOffset = null;\n    }\n\n    start = end;\n  }\n\n  return tokens;\n}","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _root = _interopRequireDefault(require(\"./selectors/root\"));\n\nvar _selector = _interopRequireDefault(require(\"./selectors/selector\"));\n\nvar _className = _interopRequireDefault(require(\"./selectors/className\"));\n\nvar _comment = _interopRequireDefault(require(\"./selectors/comment\"));\n\nvar _id = _interopRequireDefault(require(\"./selectors/id\"));\n\nvar _tag = _interopRequireDefault(require(\"./selectors/tag\"));\n\nvar _string = _interopRequireDefault(require(\"./selectors/string\"));\n\nvar _pseudo = _interopRequireDefault(require(\"./selectors/pseudo\"));\n\nvar _attribute = _interopRequireWildcard(require(\"./selectors/attribute\"));\n\nvar _universal = _interopRequireDefault(require(\"./selectors/universal\"));\n\nvar _combinator = _interopRequireDefault(require(\"./selectors/combinator\"));\n\nvar _nesting = _interopRequireDefault(require(\"./selectors/nesting\"));\n\nvar _sortAscending = _interopRequireDefault(require(\"./sortAscending\"));\n\nvar _tokenize = _interopRequireWildcard(require(\"./tokenize\"));\n\nvar tokens = _interopRequireWildcard(require(\"./tokenTypes\"));\n\nvar types = _interopRequireWildcard(require(\"./selectors/types\"));\n\nvar _util = require(\"./util\");\n\nvar _WHITESPACE_TOKENS, _Object$assign;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar WHITESPACE_TOKENS = (_WHITESPACE_TOKENS = {}, _WHITESPACE_TOKENS[tokens.space] = true, _WHITESPACE_TOKENS[tokens.cr] = true, _WHITESPACE_TOKENS[tokens.feed] = true, _WHITESPACE_TOKENS[tokens.newline] = true, _WHITESPACE_TOKENS[tokens.tab] = true, _WHITESPACE_TOKENS);\nvar WHITESPACE_EQUIV_TOKENS = Object.assign({}, WHITESPACE_TOKENS, (_Object$assign = {}, _Object$assign[tokens.comment] = true, _Object$assign));\n\nfunction tokenStart(token) {\n  return {\n    line: token[_tokenize.FIELDS.START_LINE],\n    column: token[_tokenize.FIELDS.START_COL]\n  };\n}\n\nfunction tokenEnd(token) {\n  return {\n    line: token[_tokenize.FIELDS.END_LINE],\n    column: token[_tokenize.FIELDS.END_COL]\n  };\n}\n\nfunction getSource(startLine, startColumn, endLine, endColumn) {\n  return {\n    start: {\n      line: startLine,\n      column: startColumn\n    },\n    end: {\n      line: endLine,\n      column: endColumn\n    }\n  };\n}\n\nfunction getTokenSource(token) {\n  return getSource(token[_tokenize.FIELDS.START_LINE], token[_tokenize.FIELDS.START_COL], token[_tokenize.FIELDS.END_LINE], token[_tokenize.FIELDS.END_COL]);\n}\n\nfunction getTokenSourceSpan(startToken, endToken) {\n  if (!startToken) {\n    return undefined;\n  }\n\n  return getSource(startToken[_tokenize.FIELDS.START_LINE], startToken[_tokenize.FIELDS.START_COL], endToken[_tokenize.FIELDS.END_LINE], endToken[_tokenize.FIELDS.END_COL]);\n}\n\nfunction unescapeProp(node, prop) {\n  var value = node[prop];\n\n  if (typeof value !== \"string\") {\n    return;\n  }\n\n  if (value.indexOf(\"\\\\\") !== -1) {\n    (0, _util.ensureObject)(node, 'raws');\n    node[prop] = (0, _util.unesc)(value);\n\n    if (node.raws[prop] === undefined) {\n      node.raws[prop] = value;\n    }\n  }\n\n  return node;\n}\n\nfunction indexesOf(array, item) {\n  var i = -1;\n  var indexes = [];\n\n  while ((i = array.indexOf(item, i + 1)) !== -1) {\n    indexes.push(i);\n  }\n\n  return indexes;\n}\n\nfunction uniqs() {\n  var list = Array.prototype.concat.apply([], arguments);\n  return list.filter(function (item, i) {\n    return i === list.indexOf(item);\n  });\n}\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.rule = rule;\n    this.options = Object.assign({\n      lossy: false,\n      safe: false\n    }, options);\n    this.position = 0;\n    this.css = typeof this.rule === 'string' ? this.rule : this.rule.selector;\n    this.tokens = (0, _tokenize[\"default\"])({\n      css: this.css,\n      error: this._errorGenerator(),\n      safe: this.options.safe\n    });\n    var rootSource = getTokenSourceSpan(this.tokens[0], this.tokens[this.tokens.length - 1]);\n    this.root = new _root[\"default\"]({\n      source: rootSource\n    });\n    this.root.errorGenerator = this._errorGenerator();\n    var selector = new _selector[\"default\"]({\n      source: {\n        start: {\n          line: 1,\n          column: 1\n        }\n      }\n    });\n    this.root.append(selector);\n    this.current = selector;\n    this.loop();\n  }\n\n  var _proto = Parser.prototype;\n\n  _proto._errorGenerator = function _errorGenerator() {\n    var _this = this;\n\n    return function (message, errorOptions) {\n      if (typeof _this.rule === 'string') {\n        return new Error(message);\n      }\n\n      return _this.rule.error(message, errorOptions);\n    };\n  };\n\n  _proto.attribute = function attribute() {\n    var attr = [];\n    var startingToken = this.currToken;\n    this.position++;\n\n    while (this.position < this.tokens.length && this.currToken[_tokenize.FIELDS.TYPE] !== tokens.closeSquare) {\n      attr.push(this.currToken);\n      this.position++;\n    }\n\n    if (this.currToken[_tokenize.FIELDS.TYPE] !== tokens.closeSquare) {\n      return this.expected('closing square bracket', this.currToken[_tokenize.FIELDS.START_POS]);\n    }\n\n    var len = attr.length;\n    var node = {\n      source: getSource(startingToken[1], startingToken[2], this.currToken[3], this.currToken[4]),\n      sourceIndex: startingToken[_tokenize.FIELDS.START_POS]\n    };\n\n    if (len === 1 && !~[tokens.word].indexOf(attr[0][_tokenize.FIELDS.TYPE])) {\n      return this.expected('attribute', attr[0][_tokenize.FIELDS.START_POS]);\n    }\n\n    var pos = 0;\n    var spaceBefore = '';\n    var commentBefore = '';\n    var lastAdded = null;\n    var spaceAfterMeaningfulToken = false;\n\n    while (pos < len) {\n      var token = attr[pos];\n      var content = this.content(token);\n      var next = attr[pos + 1];\n\n      switch (token[_tokenize.FIELDS.TYPE]) {\n        case tokens.space:\n          // if (\n          //     len === 1 ||\n          //     pos === 0 && this.content(next) === '|'\n          // ) {\n          //     return this.expected('attribute', token[TOKEN.START_POS], content);\n          // }\n          spaceAfterMeaningfulToken = true;\n\n          if (this.options.lossy) {\n            break;\n          }\n\n          if (lastAdded) {\n            (0, _util.ensureObject)(node, 'spaces', lastAdded);\n            var prevContent = node.spaces[lastAdded].after || '';\n            node.spaces[lastAdded].after = prevContent + content;\n            var existingComment = (0, _util.getProp)(node, 'raws', 'spaces', lastAdded, 'after') || null;\n\n            if (existingComment) {\n              node.raws.spaces[lastAdded].after = existingComment + content;\n            }\n          } else {\n            spaceBefore = spaceBefore + content;\n            commentBefore = commentBefore + content;\n          }\n\n          break;\n\n        case tokens.asterisk:\n          if (next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          } else if ((!node.namespace || lastAdded === \"namespace\" && !spaceAfterMeaningfulToken) && next) {\n            if (spaceBefore) {\n              (0, _util.ensureObject)(node, 'spaces', 'attribute');\n              node.spaces.attribute.before = spaceBefore;\n              spaceBefore = '';\n            }\n\n            if (commentBefore) {\n              (0, _util.ensureObject)(node, 'raws', 'spaces', 'attribute');\n              node.raws.spaces.attribute.before = spaceBefore;\n              commentBefore = '';\n            }\n\n            node.namespace = (node.namespace || \"\") + content;\n            var rawValue = (0, _util.getProp)(node, 'raws', 'namespace') || null;\n\n            if (rawValue) {\n              node.raws.namespace += content;\n            }\n\n            lastAdded = 'namespace';\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.dollar:\n          if (lastAdded === \"value\") {\n            var oldRawValue = (0, _util.getProp)(node, 'raws', 'value');\n            node.value += \"$\";\n\n            if (oldRawValue) {\n              node.raws.value = oldRawValue + \"$\";\n            }\n\n            break;\n          }\n\n        // Falls through\n\n        case tokens.caret:\n          if (next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.combinator:\n          if (content === '~' && next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          }\n\n          if (content !== '|') {\n            spaceAfterMeaningfulToken = false;\n            break;\n          }\n\n          if (next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          } else if (!node.namespace && !node.attribute) {\n            node.namespace = true;\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.word:\n          if (next && this.content(next) === '|' && attr[pos + 2] && attr[pos + 2][_tokenize.FIELDS.TYPE] !== tokens.equals && // this look-ahead probably fails with comment nodes involved.\n          !node.operator && !node.namespace) {\n            node.namespace = content;\n            lastAdded = 'namespace';\n          } else if (!node.attribute || lastAdded === \"attribute\" && !spaceAfterMeaningfulToken) {\n            if (spaceBefore) {\n              (0, _util.ensureObject)(node, 'spaces', 'attribute');\n              node.spaces.attribute.before = spaceBefore;\n              spaceBefore = '';\n            }\n\n            if (commentBefore) {\n              (0, _util.ensureObject)(node, 'raws', 'spaces', 'attribute');\n              node.raws.spaces.attribute.before = commentBefore;\n              commentBefore = '';\n            }\n\n            node.attribute = (node.attribute || \"\") + content;\n\n            var _rawValue = (0, _util.getProp)(node, 'raws', 'attribute') || null;\n\n            if (_rawValue) {\n              node.raws.attribute += content;\n            }\n\n            lastAdded = 'attribute';\n          } else if (!node.value && node.value !== \"\" || lastAdded === \"value\" && !spaceAfterMeaningfulToken) {\n            var _unescaped = (0, _util.unesc)(content);\n\n            var _oldRawValue = (0, _util.getProp)(node, 'raws', 'value') || '';\n\n            var oldValue = node.value || '';\n            node.value = oldValue + _unescaped;\n            node.quoteMark = null;\n\n            if (_unescaped !== content || _oldRawValue) {\n              (0, _util.ensureObject)(node, 'raws');\n              node.raws.value = (_oldRawValue || oldValue) + content;\n            }\n\n            lastAdded = 'value';\n          } else {\n            var insensitive = content === 'i' || content === \"I\";\n\n            if ((node.value || node.value === '') && (node.quoteMark || spaceAfterMeaningfulToken)) {\n              node.insensitive = insensitive;\n\n              if (!insensitive || content === \"I\") {\n                (0, _util.ensureObject)(node, 'raws');\n                node.raws.insensitiveFlag = content;\n              }\n\n              lastAdded = 'insensitive';\n\n              if (spaceBefore) {\n                (0, _util.ensureObject)(node, 'spaces', 'insensitive');\n                node.spaces.insensitive.before = spaceBefore;\n                spaceBefore = '';\n              }\n\n              if (commentBefore) {\n                (0, _util.ensureObject)(node, 'raws', 'spaces', 'insensitive');\n                node.raws.spaces.insensitive.before = commentBefore;\n                commentBefore = '';\n              }\n            } else if (node.value || node.value === '') {\n              lastAdded = 'value';\n              node.value += content;\n\n              if (node.raws.value) {\n                node.raws.value += content;\n              }\n            }\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.str:\n          if (!node.attribute || !node.operator) {\n            return this.error(\"Expected an attribute followed by an operator preceding the string.\", {\n              index: token[_tokenize.FIELDS.START_POS]\n            });\n          }\n\n          var _unescapeValue = (0, _attribute.unescapeValue)(content),\n              unescaped = _unescapeValue.unescaped,\n              quoteMark = _unescapeValue.quoteMark;\n\n          node.value = unescaped;\n          node.quoteMark = quoteMark;\n          lastAdded = 'value';\n          (0, _util.ensureObject)(node, 'raws');\n          node.raws.value = content;\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.equals:\n          if (!node.attribute) {\n            return this.expected('attribute', token[_tokenize.FIELDS.START_POS], content);\n          }\n\n          if (node.value) {\n            return this.error('Unexpected \"=\" found; an operator was already defined.', {\n              index: token[_tokenize.FIELDS.START_POS]\n            });\n          }\n\n          node.operator = node.operator ? node.operator + content : content;\n          lastAdded = 'operator';\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.comment:\n          if (lastAdded) {\n            if (spaceAfterMeaningfulToken || next && next[_tokenize.FIELDS.TYPE] === tokens.space || lastAdded === 'insensitive') {\n              var lastComment = (0, _util.getProp)(node, 'spaces', lastAdded, 'after') || '';\n              var rawLastComment = (0, _util.getProp)(node, 'raws', 'spaces', lastAdded, 'after') || lastComment;\n              (0, _util.ensureObject)(node, 'raws', 'spaces', lastAdded);\n              node.raws.spaces[lastAdded].after = rawLastComment + content;\n            } else {\n              var lastValue = node[lastAdded] || '';\n              var rawLastValue = (0, _util.getProp)(node, 'raws', lastAdded) || lastValue;\n              (0, _util.ensureObject)(node, 'raws');\n              node.raws[lastAdded] = rawLastValue + content;\n            }\n          } else {\n            commentBefore = commentBefore + content;\n          }\n\n          break;\n\n        default:\n          return this.error(\"Unexpected \\\"\" + content + \"\\\" found.\", {\n            index: token[_tokenize.FIELDS.START_POS]\n          });\n      }\n\n      pos++;\n    }\n\n    unescapeProp(node, \"attribute\");\n    unescapeProp(node, \"namespace\");\n    this.newNode(new _attribute[\"default\"](node));\n    this.position++;\n  }\n  /**\n   * return a node containing meaningless garbage up to (but not including) the specified token position.\n   * if the token position is negative, all remaining tokens are consumed.\n   *\n   * This returns an array containing a single string node if all whitespace,\n   * otherwise an array of comment nodes with space before and after.\n   *\n   * These tokens are not added to the current selector, the caller can add them or use them to amend\n   * a previous node's space metadata.\n   *\n   * In lossy mode, this returns only comments.\n   */\n  ;\n\n  _proto.parseWhitespaceEquivalentTokens = function parseWhitespaceEquivalentTokens(stopPosition) {\n    if (stopPosition < 0) {\n      stopPosition = this.tokens.length;\n    }\n\n    var startPosition = this.position;\n    var nodes = [];\n    var space = \"\";\n    var lastComment = undefined;\n\n    do {\n      if (WHITESPACE_TOKENS[this.currToken[_tokenize.FIELDS.TYPE]]) {\n        if (!this.options.lossy) {\n          space += this.content();\n        }\n      } else if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.comment) {\n        var spaces = {};\n\n        if (space) {\n          spaces.before = space;\n          space = \"\";\n        }\n\n        lastComment = new _comment[\"default\"]({\n          value: this.content(),\n          source: getTokenSource(this.currToken),\n          sourceIndex: this.currToken[_tokenize.FIELDS.START_POS],\n          spaces: spaces\n        });\n        nodes.push(lastComment);\n      }\n    } while (++this.position < stopPosition);\n\n    if (space) {\n      if (lastComment) {\n        lastComment.spaces.after = space;\n      } else if (!this.options.lossy) {\n        var firstToken = this.tokens[startPosition];\n        var lastToken = this.tokens[this.position - 1];\n        nodes.push(new _string[\"default\"]({\n          value: '',\n          source: getSource(firstToken[_tokenize.FIELDS.START_LINE], firstToken[_tokenize.FIELDS.START_COL], lastToken[_tokenize.FIELDS.END_LINE], lastToken[_tokenize.FIELDS.END_COL]),\n          sourceIndex: firstToken[_tokenize.FIELDS.START_POS],\n          spaces: {\n            before: space,\n            after: ''\n          }\n        }));\n      }\n    }\n\n    return nodes;\n  }\n  /**\n   * \n   * @param {*} nodes \n   */\n  ;\n\n  _proto.convertWhitespaceNodesToSpace = function convertWhitespaceNodesToSpace(nodes, requiredSpace) {\n    var _this2 = this;\n\n    if (requiredSpace === void 0) {\n      requiredSpace = false;\n    }\n\n    var space = \"\";\n    var rawSpace = \"\";\n    nodes.forEach(function (n) {\n      var spaceBefore = _this2.lossySpace(n.spaces.before, requiredSpace);\n\n      var rawSpaceBefore = _this2.lossySpace(n.rawSpaceBefore, requiredSpace);\n\n      space += spaceBefore + _this2.lossySpace(n.spaces.after, requiredSpace && spaceBefore.length === 0);\n      rawSpace += spaceBefore + n.value + _this2.lossySpace(n.rawSpaceAfter, requiredSpace && rawSpaceBefore.length === 0);\n    });\n\n    if (rawSpace === space) {\n      rawSpace = undefined;\n    }\n\n    var result = {\n      space: space,\n      rawSpace: rawSpace\n    };\n    return result;\n  };\n\n  _proto.isNamedCombinator = function isNamedCombinator(position) {\n    if (position === void 0) {\n      position = this.position;\n    }\n\n    return this.tokens[position + 0] && this.tokens[position + 0][_tokenize.FIELDS.TYPE] === tokens.slash && this.tokens[position + 1] && this.tokens[position + 1][_tokenize.FIELDS.TYPE] === tokens.word && this.tokens[position + 2] && this.tokens[position + 2][_tokenize.FIELDS.TYPE] === tokens.slash;\n  };\n\n  _proto.namedCombinator = function namedCombinator() {\n    if (this.isNamedCombinator()) {\n      var nameRaw = this.content(this.tokens[this.position + 1]);\n      var name = (0, _util.unesc)(nameRaw).toLowerCase();\n      var raws = {};\n\n      if (name !== nameRaw) {\n        raws.value = \"/\" + nameRaw + \"/\";\n      }\n\n      var node = new _combinator[\"default\"]({\n        value: \"/\" + name + \"/\",\n        source: getSource(this.currToken[_tokenize.FIELDS.START_LINE], this.currToken[_tokenize.FIELDS.START_COL], this.tokens[this.position + 2][_tokenize.FIELDS.END_LINE], this.tokens[this.position + 2][_tokenize.FIELDS.END_COL]),\n        sourceIndex: this.currToken[_tokenize.FIELDS.START_POS],\n        raws: raws\n      });\n      this.position = this.position + 3;\n      return node;\n    } else {\n      this.unexpected();\n    }\n  };\n\n  _proto.combinator = function combinator() {\n    var _this3 = this;\n\n    if (this.content() === '|') {\n      return this.namespace();\n    } // We need to decide between a space that's a descendant combinator and meaningless whitespace at the end of a selector.\n\n\n    var nextSigTokenPos = this.locateNextMeaningfulToken(this.position);\n\n    if (nextSigTokenPos < 0 || this.tokens[nextSigTokenPos][_tokenize.FIELDS.TYPE] === tokens.comma) {\n      var nodes = this.parseWhitespaceEquivalentTokens(nextSigTokenPos);\n\n      if (nodes.length > 0) {\n        var last = this.current.last;\n\n        if (last) {\n          var _this$convertWhitespa = this.convertWhitespaceNodesToSpace(nodes),\n              space = _this$convertWhitespa.space,\n              rawSpace = _this$convertWhitespa.rawSpace;\n\n          if (rawSpace !== undefined) {\n            last.rawSpaceAfter += rawSpace;\n          }\n\n          last.spaces.after += space;\n        } else {\n          nodes.forEach(function (n) {\n            return _this3.newNode(n);\n          });\n        }\n      }\n\n      return;\n    }\n\n    var firstToken = this.currToken;\n    var spaceOrDescendantSelectorNodes = undefined;\n\n    if (nextSigTokenPos > this.position) {\n      spaceOrDescendantSelectorNodes = this.parseWhitespaceEquivalentTokens(nextSigTokenPos);\n    }\n\n    var node;\n\n    if (this.isNamedCombinator()) {\n      node = this.namedCombinator();\n    } else if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.combinator) {\n      node = new _combinator[\"default\"]({\n        value: this.content(),\n        source: getTokenSource(this.currToken),\n        sourceIndex: this.currToken[_tokenize.FIELDS.START_POS]\n      });\n      this.position++;\n    } else if (WHITESPACE_TOKENS[this.currToken[_tokenize.FIELDS.TYPE]]) {// pass\n    } else if (!spaceOrDescendantSelectorNodes) {\n      this.unexpected();\n    }\n\n    if (node) {\n      if (spaceOrDescendantSelectorNodes) {\n        var _this$convertWhitespa2 = this.convertWhitespaceNodesToSpace(spaceOrDescendantSelectorNodes),\n            _space = _this$convertWhitespa2.space,\n            _rawSpace = _this$convertWhitespa2.rawSpace;\n\n        node.spaces.before = _space;\n        node.rawSpaceBefore = _rawSpace;\n      }\n    } else {\n      // descendant combinator\n      var _this$convertWhitespa3 = this.convertWhitespaceNodesToSpace(spaceOrDescendantSelectorNodes, true),\n          _space2 = _this$convertWhitespa3.space,\n          _rawSpace2 = _this$convertWhitespa3.rawSpace;\n\n      if (!_rawSpace2) {\n        _rawSpace2 = _space2;\n      }\n\n      var spaces = {};\n      var raws = {\n        spaces: {}\n      };\n\n      if (_space2.endsWith(' ') && _rawSpace2.endsWith(' ')) {\n        spaces.before = _space2.slice(0, _space2.length - 1);\n        raws.spaces.before = _rawSpace2.slice(0, _rawSpace2.length - 1);\n      } else if (_space2.startsWith(' ') && _rawSpace2.startsWith(' ')) {\n        spaces.after = _space2.slice(1);\n        raws.spaces.after = _rawSpace2.slice(1);\n      } else {\n        raws.value = _rawSpace2;\n      }\n\n      node = new _combinator[\"default\"]({\n        value: ' ',\n        source: getTokenSourceSpan(firstToken, this.tokens[this.position - 1]),\n        sourceIndex: firstToken[_tokenize.FIELDS.START_POS],\n        spaces: spaces,\n        raws: raws\n      });\n    }\n\n    if (this.currToken && this.currToken[_tokenize.FIELDS.TYPE] === tokens.space) {\n      node.spaces.after = this.optionalSpace(this.content());\n      this.position++;\n    }\n\n    return this.newNode(node);\n  };\n\n  _proto.comma = function comma() {\n    if (this.position === this.tokens.length - 1) {\n      this.root.trailingComma = true;\n      this.position++;\n      return;\n    }\n\n    this.current._inferEndPosition();\n\n    var selector = new _selector[\"default\"]({\n      source: {\n        start: tokenStart(this.tokens[this.position + 1])\n      }\n    });\n    this.current.parent.append(selector);\n    this.current = selector;\n    this.position++;\n  };\n\n  _proto.comment = function comment() {\n    var current = this.currToken;\n    this.newNode(new _comment[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }));\n    this.position++;\n  };\n\n  _proto.error = function error(message, opts) {\n    throw this.root.error(message, opts);\n  };\n\n  _proto.missingBackslash = function missingBackslash() {\n    return this.error('Expected a backslash preceding the semicolon.', {\n      index: this.currToken[_tokenize.FIELDS.START_POS]\n    });\n  };\n\n  _proto.missingParenthesis = function missingParenthesis() {\n    return this.expected('opening parenthesis', this.currToken[_tokenize.FIELDS.START_POS]);\n  };\n\n  _proto.missingSquareBracket = function missingSquareBracket() {\n    return this.expected('opening square bracket', this.currToken[_tokenize.FIELDS.START_POS]);\n  };\n\n  _proto.unexpected = function unexpected() {\n    return this.error(\"Unexpected '\" + this.content() + \"'. Escaping special characters with \\\\ may help.\", this.currToken[_tokenize.FIELDS.START_POS]);\n  };\n\n  _proto.namespace = function namespace() {\n    var before = this.prevToken && this.content(this.prevToken) || true;\n\n    if (this.nextToken[_tokenize.FIELDS.TYPE] === tokens.word) {\n      this.position++;\n      return this.word(before);\n    } else if (this.nextToken[_tokenize.FIELDS.TYPE] === tokens.asterisk) {\n      this.position++;\n      return this.universal(before);\n    }\n  };\n\n  _proto.nesting = function nesting() {\n    if (this.nextToken) {\n      var nextContent = this.content(this.nextToken);\n\n      if (nextContent === \"|\") {\n        this.position++;\n        return;\n      }\n    }\n\n    var current = this.currToken;\n    this.newNode(new _nesting[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }));\n    this.position++;\n  };\n\n  _proto.parentheses = function parentheses() {\n    var last = this.current.last;\n    var unbalanced = 1;\n    this.position++;\n\n    if (last && last.type === types.PSEUDO) {\n      var selector = new _selector[\"default\"]({\n        source: {\n          start: tokenStart(this.tokens[this.position - 1])\n        }\n      });\n      var cache = this.current;\n      last.append(selector);\n      this.current = selector;\n\n      while (this.position < this.tokens.length && unbalanced) {\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis) {\n          unbalanced++;\n        }\n\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.closeParenthesis) {\n          unbalanced--;\n        }\n\n        if (unbalanced) {\n          this.parse();\n        } else {\n          this.current.source.end = tokenEnd(this.currToken);\n          this.current.parent.source.end = tokenEnd(this.currToken);\n          this.position++;\n        }\n      }\n\n      this.current = cache;\n    } else {\n      // I think this case should be an error. It's used to implement a basic parse of media queries\n      // but I don't think it's a good idea.\n      var parenStart = this.currToken;\n      var parenValue = \"(\";\n      var parenEnd;\n\n      while (this.position < this.tokens.length && unbalanced) {\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis) {\n          unbalanced++;\n        }\n\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.closeParenthesis) {\n          unbalanced--;\n        }\n\n        parenEnd = this.currToken;\n        parenValue += this.parseParenthesisToken(this.currToken);\n        this.position++;\n      }\n\n      if (last) {\n        last.appendToPropertyAndEscape(\"value\", parenValue, parenValue);\n      } else {\n        this.newNode(new _string[\"default\"]({\n          value: parenValue,\n          source: getSource(parenStart[_tokenize.FIELDS.START_LINE], parenStart[_tokenize.FIELDS.START_COL], parenEnd[_tokenize.FIELDS.END_LINE], parenEnd[_tokenize.FIELDS.END_COL]),\n          sourceIndex: parenStart[_tokenize.FIELDS.START_POS]\n        }));\n      }\n    }\n\n    if (unbalanced) {\n      return this.expected('closing parenthesis', this.currToken[_tokenize.FIELDS.START_POS]);\n    }\n  };\n\n  _proto.pseudo = function pseudo() {\n    var _this4 = this;\n\n    var pseudoStr = '';\n    var startingToken = this.currToken;\n\n    while (this.currToken && this.currToken[_tokenize.FIELDS.TYPE] === tokens.colon) {\n      pseudoStr += this.content();\n      this.position++;\n    }\n\n    if (!this.currToken) {\n      return this.expected(['pseudo-class', 'pseudo-element'], this.position - 1);\n    }\n\n    if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.word) {\n      this.splitWord(false, function (first, length) {\n        pseudoStr += first;\n\n        _this4.newNode(new _pseudo[\"default\"]({\n          value: pseudoStr,\n          source: getTokenSourceSpan(startingToken, _this4.currToken),\n          sourceIndex: startingToken[_tokenize.FIELDS.START_POS]\n        }));\n\n        if (length > 1 && _this4.nextToken && _this4.nextToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis) {\n          _this4.error('Misplaced parenthesis.', {\n            index: _this4.nextToken[_tokenize.FIELDS.START_POS]\n          });\n        }\n      });\n    } else {\n      return this.expected(['pseudo-class', 'pseudo-element'], this.currToken[_tokenize.FIELDS.START_POS]);\n    }\n  };\n\n  _proto.space = function space() {\n    var content = this.content(); // Handle space before and after the selector\n\n    if (this.position === 0 || this.prevToken[_tokenize.FIELDS.TYPE] === tokens.comma || this.prevToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis || this.current.nodes.every(function (node) {\n      return node.type === 'comment';\n    })) {\n      this.spaces = this.optionalSpace(content);\n      this.position++;\n    } else if (this.position === this.tokens.length - 1 || this.nextToken[_tokenize.FIELDS.TYPE] === tokens.comma || this.nextToken[_tokenize.FIELDS.TYPE] === tokens.closeParenthesis) {\n      this.current.last.spaces.after = this.optionalSpace(content);\n      this.position++;\n    } else {\n      this.combinator();\n    }\n  };\n\n  _proto.string = function string() {\n    var current = this.currToken;\n    this.newNode(new _string[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }));\n    this.position++;\n  };\n\n  _proto.universal = function universal(namespace) {\n    var nextToken = this.nextToken;\n\n    if (nextToken && this.content(nextToken) === '|') {\n      this.position++;\n      return this.namespace();\n    }\n\n    var current = this.currToken;\n    this.newNode(new _universal[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }), namespace);\n    this.position++;\n  };\n\n  _proto.splitWord = function splitWord(namespace, firstCallback) {\n    var _this5 = this;\n\n    var nextToken = this.nextToken;\n    var word = this.content();\n\n    while (nextToken && ~[tokens.dollar, tokens.caret, tokens.equals, tokens.word].indexOf(nextToken[_tokenize.FIELDS.TYPE])) {\n      this.position++;\n      var current = this.content();\n      word += current;\n\n      if (current.lastIndexOf('\\\\') === current.length - 1) {\n        var next = this.nextToken;\n\n        if (next && next[_tokenize.FIELDS.TYPE] === tokens.space) {\n          word += this.requiredSpace(this.content(next));\n          this.position++;\n        }\n      }\n\n      nextToken = this.nextToken;\n    }\n\n    var hasClass = indexesOf(word, '.').filter(function (i) {\n      // Allow escaped dot within class name\n      var escapedDot = word[i - 1] === '\\\\'; // Allow decimal numbers percent in @keyframes\n\n      var isKeyframesPercent = /^\\d+\\.\\d+%$/.test(word);\n      return !escapedDot && !isKeyframesPercent;\n    });\n    var hasId = indexesOf(word, '#').filter(function (i) {\n      return word[i - 1] !== '\\\\';\n    }); // Eliminate Sass interpolations from the list of id indexes\n\n    var interpolations = indexesOf(word, '#{');\n\n    if (interpolations.length) {\n      hasId = hasId.filter(function (hashIndex) {\n        return !~interpolations.indexOf(hashIndex);\n      });\n    }\n\n    var indices = (0, _sortAscending[\"default\"])(uniqs([0].concat(hasClass, hasId)));\n    indices.forEach(function (ind, i) {\n      var index = indices[i + 1] || word.length;\n      var value = word.slice(ind, index);\n\n      if (i === 0 && firstCallback) {\n        return firstCallback.call(_this5, value, indices.length);\n      }\n\n      var node;\n      var current = _this5.currToken;\n      var sourceIndex = current[_tokenize.FIELDS.START_POS] + indices[i];\n      var source = getSource(current[1], current[2] + ind, current[3], current[2] + (index - 1));\n\n      if (~hasClass.indexOf(ind)) {\n        var classNameOpts = {\n          value: value.slice(1),\n          source: source,\n          sourceIndex: sourceIndex\n        };\n        node = new _className[\"default\"](unescapeProp(classNameOpts, \"value\"));\n      } else if (~hasId.indexOf(ind)) {\n        var idOpts = {\n          value: value.slice(1),\n          source: source,\n          sourceIndex: sourceIndex\n        };\n        node = new _id[\"default\"](unescapeProp(idOpts, \"value\"));\n      } else {\n        var tagOpts = {\n          value: value,\n          source: source,\n          sourceIndex: sourceIndex\n        };\n        unescapeProp(tagOpts, \"value\");\n        node = new _tag[\"default\"](tagOpts);\n      }\n\n      _this5.newNode(node, namespace); // Ensure that the namespace is used only once\n\n\n      namespace = null;\n    });\n    this.position++;\n  };\n\n  _proto.word = function word(namespace) {\n    var nextToken = this.nextToken;\n\n    if (nextToken && this.content(nextToken) === '|') {\n      this.position++;\n      return this.namespace();\n    }\n\n    return this.splitWord(namespace);\n  };\n\n  _proto.loop = function loop() {\n    while (this.position < this.tokens.length) {\n      this.parse(true);\n    }\n\n    this.current._inferEndPosition();\n\n    return this.root;\n  };\n\n  _proto.parse = function parse(throwOnParenthesis) {\n    switch (this.currToken[_tokenize.FIELDS.TYPE]) {\n      case tokens.space:\n        this.space();\n        break;\n\n      case tokens.comment:\n        this.comment();\n        break;\n\n      case tokens.openParenthesis:\n        this.parentheses();\n        break;\n\n      case tokens.closeParenthesis:\n        if (throwOnParenthesis) {\n          this.missingParenthesis();\n        }\n\n        break;\n\n      case tokens.openSquare:\n        this.attribute();\n        break;\n\n      case tokens.dollar:\n      case tokens.caret:\n      case tokens.equals:\n      case tokens.word:\n        this.word();\n        break;\n\n      case tokens.colon:\n        this.pseudo();\n        break;\n\n      case tokens.comma:\n        this.comma();\n        break;\n\n      case tokens.asterisk:\n        this.universal();\n        break;\n\n      case tokens.ampersand:\n        this.nesting();\n        break;\n\n      case tokens.slash:\n      case tokens.combinator:\n        this.combinator();\n        break;\n\n      case tokens.str:\n        this.string();\n        break;\n      // These cases throw; no break needed.\n\n      case tokens.closeSquare:\n        this.missingSquareBracket();\n\n      case tokens.semicolon:\n        this.missingBackslash();\n\n      default:\n        this.unexpected();\n    }\n  }\n  /**\n   * Helpers\n   */\n  ;\n\n  _proto.expected = function expected(description, index, found) {\n    if (Array.isArray(description)) {\n      var last = description.pop();\n      description = description.join(', ') + \" or \" + last;\n    }\n\n    var an = /^[aeiou]/.test(description[0]) ? 'an' : 'a';\n\n    if (!found) {\n      return this.error(\"Expected \" + an + \" \" + description + \".\", {\n        index: index\n      });\n    }\n\n    return this.error(\"Expected \" + an + \" \" + description + \", found \\\"\" + found + \"\\\" instead.\", {\n      index: index\n    });\n  };\n\n  _proto.requiredSpace = function requiredSpace(space) {\n    return this.options.lossy ? ' ' : space;\n  };\n\n  _proto.optionalSpace = function optionalSpace(space) {\n    return this.options.lossy ? '' : space;\n  };\n\n  _proto.lossySpace = function lossySpace(space, required) {\n    if (this.options.lossy) {\n      return required ? ' ' : '';\n    } else {\n      return space;\n    }\n  };\n\n  _proto.parseParenthesisToken = function parseParenthesisToken(token) {\n    var content = this.content(token);\n\n    if (token[_tokenize.FIELDS.TYPE] === tokens.space) {\n      return this.requiredSpace(content);\n    } else {\n      return content;\n    }\n  };\n\n  _proto.newNode = function newNode(node, namespace) {\n    if (namespace) {\n      if (/^ +$/.test(namespace)) {\n        if (!this.options.lossy) {\n          this.spaces = (this.spaces || '') + namespace;\n        }\n\n        namespace = true;\n      }\n\n      node.namespace = namespace;\n      unescapeProp(node, \"namespace\");\n    }\n\n    if (this.spaces) {\n      node.spaces.before = this.spaces;\n      this.spaces = '';\n    }\n\n    return this.current.append(node);\n  };\n\n  _proto.content = function content(token) {\n    if (token === void 0) {\n      token = this.currToken;\n    }\n\n    return this.css.slice(token[_tokenize.FIELDS.START_POS], token[_tokenize.FIELDS.END_POS]);\n  };\n\n  /**\n   * returns the index of the next non-whitespace, non-comment token.\n   * returns -1 if no meaningful token is found.\n   */\n  _proto.locateNextMeaningfulToken = function locateNextMeaningfulToken(startPosition) {\n    if (startPosition === void 0) {\n      startPosition = this.position + 1;\n    }\n\n    var searchPosition = startPosition;\n\n    while (searchPosition < this.tokens.length) {\n      if (WHITESPACE_EQUIV_TOKENS[this.tokens[searchPosition][_tokenize.FIELDS.TYPE]]) {\n        searchPosition++;\n        continue;\n      } else {\n        return searchPosition;\n      }\n    }\n\n    return -1;\n  };\n\n  _createClass(Parser, [{\n    key: \"currToken\",\n    get: function get() {\n      return this.tokens[this.position];\n    }\n  }, {\n    key: \"nextToken\",\n    get: function get() {\n      return this.tokens[this.position + 1];\n    }\n  }, {\n    key: \"prevToken\",\n    get: function get() {\n      return this.tokens[this.position - 1];\n    }\n  }]);\n\n  return Parser;\n}();\n\nexports[\"default\"] = Parser;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _parser = _interopRequireDefault(require(\"./parser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Processor = /*#__PURE__*/function () {\n  function Processor(func, options) {\n    this.func = func || function noop() {};\n\n    this.funcRes = null;\n    this.options = options;\n  }\n\n  var _proto = Processor.prototype;\n\n  _proto._shouldUpdateSelector = function _shouldUpdateSelector(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var merged = Object.assign({}, this.options, options);\n\n    if (merged.updateSelector === false) {\n      return false;\n    } else {\n      return typeof rule !== \"string\";\n    }\n  };\n\n  _proto._isLossy = function _isLossy(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var merged = Object.assign({}, this.options, options);\n\n    if (merged.lossless === false) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  _proto._root = function _root(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var parser = new _parser[\"default\"](rule, this._parseOptions(options));\n    return parser.root;\n  };\n\n  _proto._parseOptions = function _parseOptions(options) {\n    return {\n      lossy: this._isLossy(options)\n    };\n  };\n\n  _proto._run = function _run(rule, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var root = _this._root(rule, options);\n\n        Promise.resolve(_this.func(root)).then(function (transform) {\n          var string = undefined;\n\n          if (_this._shouldUpdateSelector(rule, options)) {\n            string = root.toString();\n            rule.selector = string;\n          }\n\n          return {\n            transform: transform,\n            root: root,\n            string: string\n          };\n        }).then(resolve, reject);\n      } catch (e) {\n        reject(e);\n        return;\n      }\n    });\n  };\n\n  _proto._runSync = function _runSync(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var root = this._root(rule, options);\n\n    var transform = this.func(root);\n\n    if (transform && typeof transform.then === \"function\") {\n      throw new Error(\"Selector processor returned a promise to a synchronous call.\");\n    }\n\n    var string = undefined;\n\n    if (options.updateSelector && typeof rule !== \"string\") {\n      string = root.toString();\n      rule.selector = string;\n    }\n\n    return {\n      transform: transform,\n      root: root,\n      string: string\n    };\n  }\n  /**\n   * Process rule into a selector AST.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {Promise<parser.Root>} The AST of the selector after processing it.\n   */\n  ;\n\n  _proto.ast = function ast(rule, options) {\n    return this._run(rule, options).then(function (result) {\n      return result.root;\n    });\n  }\n  /**\n   * Process rule into a selector AST synchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {parser.Root} The AST of the selector after processing it.\n   */\n  ;\n\n  _proto.astSync = function astSync(rule, options) {\n    return this._runSync(rule, options).root;\n  }\n  /**\n   * Process a selector into a transformed value asynchronously\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {Promise<any>} The value returned by the processor.\n   */\n  ;\n\n  _proto.transform = function transform(rule, options) {\n    return this._run(rule, options).then(function (result) {\n      return result.transform;\n    });\n  }\n  /**\n   * Process a selector into a transformed value synchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {any} The value returned by the processor.\n   */\n  ;\n\n  _proto.transformSync = function transformSync(rule, options) {\n    return this._runSync(rule, options).transform;\n  }\n  /**\n   * Process a selector into a new selector string asynchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {string} the selector after processing.\n   */\n  ;\n\n  _proto.process = function process(rule, options) {\n    return this._run(rule, options).then(function (result) {\n      return result.string || result.root.toString();\n    });\n  }\n  /**\n   * Process a selector into a new selector string synchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {string} the selector after processing.\n   */\n  ;\n\n  _proto.processSync = function processSync(rule, options) {\n    var result = this._runSync(rule, options);\n\n    return result.string || result.root.toString();\n  };\n\n  return Processor;\n}();\n\nexports[\"default\"] = Processor;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.universal = exports.tag = exports.string = exports.selector = exports.root = exports.pseudo = exports.nesting = exports.id = exports.comment = exports.combinator = exports.className = exports.attribute = void 0;\n\nvar _attribute = _interopRequireDefault(require(\"./attribute\"));\n\nvar _className = _interopRequireDefault(require(\"./className\"));\n\nvar _combinator = _interopRequireDefault(require(\"./combinator\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _nesting = _interopRequireDefault(require(\"./nesting\"));\n\nvar _pseudo = _interopRequireDefault(require(\"./pseudo\"));\n\nvar _root = _interopRequireDefault(require(\"./root\"));\n\nvar _selector = _interopRequireDefault(require(\"./selector\"));\n\nvar _string = _interopRequireDefault(require(\"./string\"));\n\nvar _tag = _interopRequireDefault(require(\"./tag\"));\n\nvar _universal = _interopRequireDefault(require(\"./universal\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar attribute = function attribute(opts) {\n  return new _attribute[\"default\"](opts);\n};\n\nexports.attribute = attribute;\n\nvar className = function className(opts) {\n  return new _className[\"default\"](opts);\n};\n\nexports.className = className;\n\nvar combinator = function combinator(opts) {\n  return new _combinator[\"default\"](opts);\n};\n\nexports.combinator = combinator;\n\nvar comment = function comment(opts) {\n  return new _comment[\"default\"](opts);\n};\n\nexports.comment = comment;\n\nvar id = function id(opts) {\n  return new _id[\"default\"](opts);\n};\n\nexports.id = id;\n\nvar nesting = function nesting(opts) {\n  return new _nesting[\"default\"](opts);\n};\n\nexports.nesting = nesting;\n\nvar pseudo = function pseudo(opts) {\n  return new _pseudo[\"default\"](opts);\n};\n\nexports.pseudo = pseudo;\n\nvar root = function root(opts) {\n  return new _root[\"default\"](opts);\n};\n\nexports.root = root;\n\nvar selector = function selector(opts) {\n  return new _selector[\"default\"](opts);\n};\n\nexports.selector = selector;\n\nvar string = function string(opts) {\n  return new _string[\"default\"](opts);\n};\n\nexports.string = string;\n\nvar tag = function tag(opts) {\n  return new _tag[\"default\"](opts);\n};\n\nexports.tag = tag;\n\nvar universal = function universal(opts) {\n  return new _universal[\"default\"](opts);\n};\n\nexports.universal = universal;","\"use strict\";\n\nexports.__esModule = true;\nexports.isNode = isNode;\nexports.isPseudoElement = isPseudoElement;\nexports.isPseudoClass = isPseudoClass;\nexports.isContainer = isContainer;\nexports.isNamespace = isNamespace;\nexports.isUniversal = exports.isTag = exports.isString = exports.isSelector = exports.isRoot = exports.isPseudo = exports.isNesting = exports.isIdentifier = exports.isComment = exports.isCombinator = exports.isClassName = exports.isAttribute = void 0;\n\nvar _types = require(\"./types\");\n\nvar _IS_TYPE;\n\nvar IS_TYPE = (_IS_TYPE = {}, _IS_TYPE[_types.ATTRIBUTE] = true, _IS_TYPE[_types.CLASS] = true, _IS_TYPE[_types.COMBINATOR] = true, _IS_TYPE[_types.COMMENT] = true, _IS_TYPE[_types.ID] = true, _IS_TYPE[_types.NESTING] = true, _IS_TYPE[_types.PSEUDO] = true, _IS_TYPE[_types.ROOT] = true, _IS_TYPE[_types.SELECTOR] = true, _IS_TYPE[_types.STRING] = true, _IS_TYPE[_types.TAG] = true, _IS_TYPE[_types.UNIVERSAL] = true, _IS_TYPE);\n\nfunction isNode(node) {\n  return typeof node === \"object\" && IS_TYPE[node.type];\n}\n\nfunction isNodeType(type, node) {\n  return isNode(node) && node.type === type;\n}\n\nvar isAttribute = isNodeType.bind(null, _types.ATTRIBUTE);\nexports.isAttribute = isAttribute;\nvar isClassName = isNodeType.bind(null, _types.CLASS);\nexports.isClassName = isClassName;\nvar isCombinator = isNodeType.bind(null, _types.COMBINATOR);\nexports.isCombinator = isCombinator;\nvar isComment = isNodeType.bind(null, _types.COMMENT);\nexports.isComment = isComment;\nvar isIdentifier = isNodeType.bind(null, _types.ID);\nexports.isIdentifier = isIdentifier;\nvar isNesting = isNodeType.bind(null, _types.NESTING);\nexports.isNesting = isNesting;\nvar isPseudo = isNodeType.bind(null, _types.PSEUDO);\nexports.isPseudo = isPseudo;\nvar isRoot = isNodeType.bind(null, _types.ROOT);\nexports.isRoot = isRoot;\nvar isSelector = isNodeType.bind(null, _types.SELECTOR);\nexports.isSelector = isSelector;\nvar isString = isNodeType.bind(null, _types.STRING);\nexports.isString = isString;\nvar isTag = isNodeType.bind(null, _types.TAG);\nexports.isTag = isTag;\nvar isUniversal = isNodeType.bind(null, _types.UNIVERSAL);\nexports.isUniversal = isUniversal;\n\nfunction isPseudoElement(node) {\n  return isPseudo(node) && node.value && (node.value.startsWith(\"::\") || node.value.toLowerCase() === \":before\" || node.value.toLowerCase() === \":after\" || node.value.toLowerCase() === \":first-letter\" || node.value.toLowerCase() === \":first-line\");\n}\n\nfunction isPseudoClass(node) {\n  return isPseudo(node) && !isPseudoElement(node);\n}\n\nfunction isContainer(node) {\n  return !!(isNode(node) && node.walk);\n}\n\nfunction isNamespace(node) {\n  return isAttribute(node) || isTag(node);\n}","\"use strict\";\n\nexports.__esModule = true;\n\nvar _types = require(\"./types\");\n\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _types[key]) return;\n  exports[key] = _types[key];\n});\n\nvar _constructors = require(\"./constructors\");\n\nObject.keys(_constructors).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _constructors[key]) return;\n  exports[key] = _constructors[key];\n});\n\nvar _guards = require(\"./guards\");\n\nObject.keys(_guards).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _guards[key]) return;\n  exports[key] = _guards[key];\n});","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _processor = _interopRequireDefault(require(\"./processor\"));\n\nvar selectors = _interopRequireWildcard(require(\"./selectors\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar parser = function parser(processor) {\n  return new _processor[\"default\"](processor);\n};\n\nObject.assign(parser, selectors);\ndelete parser.__esModule;\nvar _default = parser;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>escapeCommas\n});\nfunction escapeCommas(className) {\n    return className.replace(/\\\\,/g, \"\\\\2c \");\n}\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    parseColor: ()=>parseColor,\n    formatColor: ()=>formatColor\n});\nconst _colorName = /*#__PURE__*/ _interopRequireDefault(require(\"color-name\"));\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nlet HEX = /^#([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i;\nlet SHORT_HEX = /^#([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])?$/i;\nlet VALUE = /(?:\\d+|\\d*\\.\\d+)%?/;\nlet SEP = /(?:\\s*,\\s*|\\s+)/;\nlet ALPHA_SEP = /\\s*[,/]\\s*/;\nlet CUSTOM_PROPERTY = /var\\(--(?:[^ )]*?)\\)/;\nlet RGB = new RegExp(`^(rgb)a?\\\\(\\\\s*(${VALUE.source}|${CUSTOM_PROPERTY.source})(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${ALPHA_SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?\\\\s*\\\\)$`);\nlet HSL = new RegExp(`^(hsl)a?\\\\(\\\\s*((?:${VALUE.source})(?:deg|rad|grad|turn)?|${CUSTOM_PROPERTY.source})(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?(?:${ALPHA_SEP.source}(${VALUE.source}|${CUSTOM_PROPERTY.source}))?\\\\s*\\\\)$`);\nfunction parseColor(value, { loose =false  } = {}) {\n    var ref, ref1;\n    if (typeof value !== \"string\") {\n        return null;\n    }\n    value = value.trim();\n    if (value === \"transparent\") {\n        return {\n            mode: \"rgb\",\n            color: [\n                \"0\",\n                \"0\",\n                \"0\"\n            ],\n            alpha: \"0\"\n        };\n    }\n    if (value in _colorName.default) {\n        return {\n            mode: \"rgb\",\n            color: _colorName.default[value].map((v)=>v.toString())\n        };\n    }\n    let hex = value.replace(SHORT_HEX, (_, r, g, b, a)=>[\n            \"#\",\n            r,\n            r,\n            g,\n            g,\n            b,\n            b,\n            a ? a + a : \"\"\n        ].join(\"\")).match(HEX);\n    if (hex !== null) {\n        return {\n            mode: \"rgb\",\n            color: [\n                parseInt(hex[1], 16),\n                parseInt(hex[2], 16),\n                parseInt(hex[3], 16)\n            ].map((v)=>v.toString()),\n            alpha: hex[4] ? (parseInt(hex[4], 16) / 255).toString() : undefined\n        };\n    }\n    var ref2;\n    let match = (ref2 = value.match(RGB)) !== null && ref2 !== void 0 ? ref2 : value.match(HSL);\n    if (match === null) {\n        return null;\n    }\n    let color = [\n        match[2],\n        match[3],\n        match[4]\n    ].filter(Boolean).map((v)=>v.toString());\n    if (!loose && color.length !== 3) {\n        return null;\n    }\n    if (color.length < 3 && !color.some((part)=>/^var\\(.*?\\)$/.test(part))) {\n        return null;\n    }\n    return {\n        mode: match[1],\n        color,\n        alpha: (ref = match[5]) === null || ref === void 0 ? void 0 : (ref1 = ref.toString) === null || ref1 === void 0 ? void 0 : ref1.call(ref)\n    };\n}\nfunction formatColor({ mode , color , alpha  }) {\n    let hasAlpha = alpha !== undefined;\n    return `${mode}(${color.join(\" \")}${hasAlpha ? ` / ${alpha}` : \"\"})`;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    withAlphaValue: ()=>withAlphaValue,\n    default: ()=>withAlphaVariable\n});\nconst _color = require(\"./color\");\nfunction withAlphaValue(color, alphaValue, defaultValue) {\n    if (typeof color === \"function\") {\n        return color({\n            opacityValue: alphaValue\n        });\n    }\n    let parsed = (0, _color.parseColor)(color, {\n        loose: true\n    });\n    if (parsed === null) {\n        return defaultValue;\n    }\n    return (0, _color.formatColor)({\n        ...parsed,\n        alpha: alphaValue\n    });\n}\nfunction withAlphaVariable({ color , property , variable  }) {\n    let properties = [].concat(property);\n    if (typeof color === \"function\") {\n        return {\n            [variable]: \"1\",\n            ...Object.fromEntries(properties.map((p)=>{\n                return [\n                    p,\n                    color({\n                        opacityVariable: variable,\n                        opacityValue: `var(${variable})`\n                    })\n                ];\n            }))\n        };\n    }\n    const parsed = (0, _color.parseColor)(color);\n    if (parsed === null) {\n        return Object.fromEntries(properties.map((p)=>[\n                p,\n                color\n            ]));\n    }\n    if (parsed.alpha !== undefined) {\n        // Has an alpha value, return color as-is\n        return Object.fromEntries(properties.map((p)=>[\n                p,\n                color\n            ]));\n    }\n    return {\n        [variable]: \"1\",\n        ...Object.fromEntries(properties.map((p)=>{\n            return [\n                p,\n                (0, _color.formatColor)({\n                    ...parsed,\n                    alpha: `var(${variable})`\n                })\n            ];\n        }))\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    pattern: ()=>pattern,\n    withoutCapturing: ()=>withoutCapturing,\n    any: ()=>any,\n    optional: ()=>optional,\n    zeroOrMore: ()=>zeroOrMore,\n    nestedBrackets: ()=>nestedBrackets,\n    escape: ()=>escape\n});\nconst REGEX_SPECIAL = /[\\\\^$.*+?()[\\]{}|]/g;\nconst REGEX_HAS_SPECIAL = RegExp(REGEX_SPECIAL.source);\n/**\n * @param {string|RegExp|Array<string|RegExp>} source\n */ function toSource(source) {\n    source = Array.isArray(source) ? source : [\n        source\n    ];\n    source = source.map((item)=>item instanceof RegExp ? item.source : item);\n    return source.join(\"\");\n}\nfunction pattern(source) {\n    return new RegExp(toSource(source), \"g\");\n}\nfunction withoutCapturing(source) {\n    return new RegExp(`(?:${toSource(source)})`, \"g\");\n}\nfunction any(sources) {\n    return `(?:${sources.map(toSource).join(\"|\")})`;\n}\nfunction optional(source) {\n    return `(?:${toSource(source)})?`;\n}\nfunction zeroOrMore(source) {\n    return `(?:${toSource(source)})*`;\n}\nfunction nestedBrackets(open, close, depth = 1) {\n    return withoutCapturing([\n        escape(open),\n        /[^\\s]*/,\n        depth === 1 ? `[^${escape(open)}${escape(close)}\\s]*` : any([\n            `[^${escape(open)}${escape(close)}\\s]*`,\n            nestedBrackets(open, close, depth - 1)\n        ]),\n        /[^\\s]*/,\n        escape(close), \n    ]);\n}\nfunction escape(string) {\n    return string && REGEX_HAS_SPECIAL.test(string) ? string.replace(REGEX_SPECIAL, \"\\\\$&\") : string || \"\";\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"splitAtTopLevelOnly\", {\n    enumerable: true,\n    get: ()=>splitAtTopLevelOnly\n});\nconst _regex = /*#__PURE__*/ _interopRequireWildcard(require(\"../lib/regex\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) {\n        return obj;\n    }\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n        return {\n            default: obj\n        };\n    }\n    var cache = _getRequireWildcardCache(nodeInterop);\n    if (cache && cache.has(obj)) {\n        return cache.get(obj);\n    }\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for(var key in obj){\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) {\n                Object.defineProperty(newObj, key, desc);\n            } else {\n                newObj[key] = obj[key];\n            }\n        }\n    }\n    newObj.default = obj;\n    if (cache) {\n        cache.set(obj, newObj);\n    }\n    return newObj;\n}\nfunction* splitAtTopLevelOnly(input, separator) {\n    let SPECIALS = new RegExp(`[(){}\\\\[\\\\]${_regex.escape(separator)}]`, \"g\");\n    let depth = 0;\n    let lastIndex = 0;\n    let found = false;\n    let separatorIndex = 0;\n    let separatorStart = 0;\n    let separatorLength = separator.length;\n    // Find all paren-like things & character\n    // And only split on commas if they're top-level\n    for (let match of input.matchAll(SPECIALS)){\n        let matchesSeparator = match[0] === separator[separatorIndex];\n        let atEndOfSeparator = separatorIndex === separatorLength - 1;\n        let matchesFullSeparator = matchesSeparator && atEndOfSeparator;\n        if (match[0] === \"(\") depth++;\n        if (match[0] === \")\") depth--;\n        if (match[0] === \"[\") depth++;\n        if (match[0] === \"]\") depth--;\n        if (match[0] === \"{\") depth++;\n        if (match[0] === \"}\") depth--;\n        if (matchesSeparator && depth === 0) {\n            if (separatorStart === 0) {\n                separatorStart = match.index;\n            }\n            separatorIndex++;\n        }\n        if (matchesFullSeparator && depth === 0) {\n            found = true;\n            yield input.substring(lastIndex, separatorStart);\n            lastIndex = separatorStart + separatorLength;\n        }\n        if (separatorIndex === separatorLength) {\n            separatorIndex = 0;\n            separatorStart = 0;\n        }\n    }\n    // Provide the last segment of the string if available\n    // Otherwise the whole string since no `char`s were found\n    // This mirrors the behavior of string.split()\n    if (found) {\n        yield input.substring(lastIndex);\n    } else {\n        yield input;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    parseBoxShadowValue: ()=>parseBoxShadowValue,\n    formatBoxShadowValue: ()=>formatBoxShadowValue\n});\nconst _splitAtTopLevelOnly = require(\"./splitAtTopLevelOnly\");\nlet KEYWORDS = new Set([\n    \"inset\",\n    \"inherit\",\n    \"initial\",\n    \"revert\",\n    \"unset\"\n]);\nlet SPACE = /\\ +(?![^(]*\\))/g // Similar to the one above, but with spaces instead.\n;\nlet LENGTH = /^-?(\\d+|\\.\\d+)(.*?)$/g;\nfunction parseBoxShadowValue(input) {\n    let shadows = Array.from((0, _splitAtTopLevelOnly.splitAtTopLevelOnly)(input, \",\"));\n    return shadows.map((shadow)=>{\n        let value = shadow.trim();\n        let result = {\n            raw: value\n        };\n        let parts = value.split(SPACE);\n        let seen = new Set();\n        for (let part of parts){\n            // Reset index, since the regex is stateful.\n            LENGTH.lastIndex = 0;\n            // Keyword\n            if (!seen.has(\"KEYWORD\") && KEYWORDS.has(part)) {\n                result.keyword = part;\n                seen.add(\"KEYWORD\");\n            } else if (LENGTH.test(part)) {\n                if (!seen.has(\"X\")) {\n                    result.x = part;\n                    seen.add(\"X\");\n                } else if (!seen.has(\"Y\")) {\n                    result.y = part;\n                    seen.add(\"Y\");\n                } else if (!seen.has(\"BLUR\")) {\n                    result.blur = part;\n                    seen.add(\"BLUR\");\n                } else if (!seen.has(\"SPREAD\")) {\n                    result.spread = part;\n                    seen.add(\"SPREAD\");\n                }\n            } else {\n                if (!result.color) {\n                    result.color = part;\n                } else {\n                    if (!result.unknown) result.unknown = [];\n                    result.unknown.push(part);\n                }\n            }\n        }\n        // Check if valid\n        result.valid = result.x !== undefined && result.y !== undefined;\n        return result;\n    });\n}\nfunction formatBoxShadowValue(shadows) {\n    return shadows.map((shadow)=>{\n        if (!shadow.valid) {\n            return shadow.raw;\n        }\n        return [\n            shadow.keyword,\n            shadow.x,\n            shadow.y,\n            shadow.blur,\n            shadow.spread,\n            shadow.color\n        ].filter(Boolean).join(\" \");\n    }).join(\", \");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    normalize: ()=>normalize,\n    url: ()=>url,\n    number: ()=>number,\n    percentage: ()=>percentage,\n    length: ()=>length,\n    lineWidth: ()=>lineWidth,\n    shadow: ()=>shadow,\n    color: ()=>color,\n    image: ()=>image,\n    gradient: ()=>gradient,\n    position: ()=>position,\n    familyName: ()=>familyName,\n    genericName: ()=>genericName,\n    absoluteSize: ()=>absoluteSize,\n    relativeSize: ()=>relativeSize\n});\nconst _color = require(\"./color\");\nconst _parseBoxShadowValue = require(\"./parseBoxShadowValue\");\nlet cssFunctions = [\n    \"min\",\n    \"max\",\n    \"clamp\",\n    \"calc\"\n];\n// Ref: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Types\nlet COMMA = /,(?![^(]*\\))/g // Comma separator that is not located between brackets. E.g.: `cubiz-bezier(a, b, c)` these don't count.\n;\nlet UNDERSCORE = /_(?![^(]*\\))/g // Underscore separator that is not located between brackets. E.g.: `rgba(255,_255,_255)_black` these don't count.\n;\nfunction normalize(value, isRoot = true) {\n    // Keep raw strings if it starts with `url(`\n    if (value.includes(\"url(\")) {\n        return value.split(/(url\\(.*?\\))/g).filter(Boolean).map((part)=>{\n            if (/^url\\(.*?\\)$/.test(part)) {\n                return part;\n            }\n            return normalize(part, false);\n        }).join(\"\");\n    }\n    // Convert `_` to ` `, except for escaped underscores `\\_`\n    value = value.replace(/([^\\\\])_+/g, (fullMatch, characterBefore)=>characterBefore + \" \".repeat(fullMatch.length - 1)).replace(/^_/g, \" \").replace(/\\\\_/g, \"_\");\n    // Remove leftover whitespace\n    if (isRoot) {\n        value = value.trim();\n    }\n    // Add spaces around operators inside math functions like calc() that do not follow an operator\n    // or '('.\n    value = value.replace(/(calc|min|max|clamp)\\(.+\\)/g, (match)=>{\n        return match.replace(/(-?\\d*\\.?\\d(?!\\b-.+[,)](?![^+\\-/*])\\D)(?:%|[a-z]+)?|\\))([+\\-/*])/g, \"$1 $2 \");\n    });\n    return value;\n}\nfunction url(value) {\n    return value.startsWith(\"url(\");\n}\nfunction number(value) {\n    return !isNaN(Number(value)) || cssFunctions.some((fn)=>new RegExp(`^${fn}\\\\(.+?`).test(value));\n}\nfunction percentage(value) {\n    return value.split(UNDERSCORE).every((part)=>{\n        return /%$/g.test(part) || cssFunctions.some((fn)=>new RegExp(`^${fn}\\\\(.+?%`).test(part));\n    });\n}\nlet lengthUnits = [\n    \"cm\",\n    \"mm\",\n    \"Q\",\n    \"in\",\n    \"pc\",\n    \"pt\",\n    \"px\",\n    \"em\",\n    \"ex\",\n    \"ch\",\n    \"rem\",\n    \"lh\",\n    \"vw\",\n    \"vh\",\n    \"vmin\",\n    \"vmax\", \n];\nlet lengthUnitsPattern = `(?:${lengthUnits.join(\"|\")})`;\nfunction length(value) {\n    return value.split(UNDERSCORE).every((part)=>{\n        return part === \"0\" || new RegExp(`${lengthUnitsPattern}$`).test(part) || cssFunctions.some((fn)=>new RegExp(`^${fn}\\\\(.+?${lengthUnitsPattern}`).test(part));\n    });\n}\nlet lineWidths = new Set([\n    \"thin\",\n    \"medium\",\n    \"thick\"\n]);\nfunction lineWidth(value) {\n    return lineWidths.has(value);\n}\nfunction shadow(value) {\n    let parsedShadows = (0, _parseBoxShadowValue.parseBoxShadowValue)(normalize(value));\n    for (let parsedShadow of parsedShadows){\n        if (!parsedShadow.valid) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction color(value) {\n    let colors = 0;\n    let result = value.split(UNDERSCORE).every((part)=>{\n        part = normalize(part);\n        if (part.startsWith(\"var(\")) return true;\n        if ((0, _color.parseColor)(part, {\n            loose: true\n        }) !== null) return colors++, true;\n        return false;\n    });\n    if (!result) return false;\n    return colors > 0;\n}\nfunction image(value) {\n    let images = 0;\n    let result = value.split(COMMA).every((part)=>{\n        part = normalize(part);\n        if (part.startsWith(\"var(\")) return true;\n        if (url(part) || gradient(part) || [\n            \"element(\",\n            \"image(\",\n            \"cross-fade(\",\n            \"image-set(\"\n        ].some((fn)=>part.startsWith(fn))) {\n            images++;\n            return true;\n        }\n        return false;\n    });\n    if (!result) return false;\n    return images > 0;\n}\nlet gradientTypes = new Set([\n    \"linear-gradient\",\n    \"radial-gradient\",\n    \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\",\n    \"conic-gradient\", \n]);\nfunction gradient(value) {\n    value = normalize(value);\n    for (let type of gradientTypes){\n        if (value.startsWith(`${type}(`)) {\n            return true;\n        }\n    }\n    return false;\n}\nlet validPositions = new Set([\n    \"center\",\n    \"top\",\n    \"right\",\n    \"bottom\",\n    \"left\"\n]);\nfunction position(value) {\n    let positions = 0;\n    let result = value.split(UNDERSCORE).every((part)=>{\n        part = normalize(part);\n        if (part.startsWith(\"var(\")) return true;\n        if (validPositions.has(part) || length(part) || percentage(part)) {\n            positions++;\n            return true;\n        }\n        return false;\n    });\n    if (!result) return false;\n    return positions > 0;\n}\nfunction familyName(value) {\n    let fonts = 0;\n    let result = value.split(COMMA).every((part)=>{\n        part = normalize(part);\n        if (part.startsWith(\"var(\")) return true;\n        // If it contains spaces, then it should be quoted\n        if (part.includes(\" \")) {\n            if (!/(['\"])([^\"']+)\\1/g.test(part)) {\n                return false;\n            }\n        }\n        // If it starts with a number, it's invalid\n        if (/^\\d/g.test(part)) {\n            return false;\n        }\n        fonts++;\n        return true;\n    });\n    if (!result) return false;\n    return fonts > 0;\n}\nlet genericNames = new Set([\n    \"serif\",\n    \"sans-serif\",\n    \"monospace\",\n    \"cursive\",\n    \"fantasy\",\n    \"system-ui\",\n    \"ui-serif\",\n    \"ui-sans-serif\",\n    \"ui-monospace\",\n    \"ui-rounded\",\n    \"math\",\n    \"emoji\",\n    \"fangsong\", \n]);\nfunction genericName(value) {\n    return genericNames.has(value);\n}\nlet absoluteSizes = new Set([\n    \"xx-small\",\n    \"x-small\",\n    \"small\",\n    \"medium\",\n    \"large\",\n    \"x-large\",\n    \"x-large\",\n    \"xxx-large\", \n]);\nfunction absoluteSize(value) {\n    return absoluteSizes.has(value);\n}\nlet relativeSizes = new Set([\n    \"larger\",\n    \"smaller\"\n]);\nfunction relativeSize(value) {\n    return relativeSizes.has(value);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    updateAllClasses: ()=>updateAllClasses,\n    asValue: ()=>asValue,\n    parseColorFormat: ()=>parseColorFormat,\n    asColor: ()=>asColor,\n    asLookupValue: ()=>asLookupValue,\n    coerceValue: ()=>coerceValue\n});\nconst _postcssSelectorParser = /*#__PURE__*/ _interopRequireDefault(require(\"postcss-selector-parser\"));\nconst _escapeCommas = /*#__PURE__*/ _interopRequireDefault(require(\"./escapeCommas\"));\nconst _withAlphaVariable = require(\"./withAlphaVariable\");\nconst _dataTypes = require(\"./dataTypes\");\nconst _negateValue = /*#__PURE__*/ _interopRequireDefault(require(\"./negateValue\"));\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction updateAllClasses(selectors, updateClass) {\n    let parser = (0, _postcssSelectorParser.default)((selectors)=>{\n        selectors.walkClasses((sel)=>{\n            let updatedClass = updateClass(sel.value);\n            sel.value = updatedClass;\n            if (sel.raws && sel.raws.value) {\n                sel.raws.value = (0, _escapeCommas.default)(sel.raws.value);\n            }\n        });\n    });\n    let result = parser.processSync(selectors);\n    return result;\n}\nfunction resolveArbitraryValue(modifier, validate) {\n    if (!isArbitraryValue(modifier)) {\n        return undefined;\n    }\n    let value = modifier.slice(1, -1);\n    if (!validate(value)) {\n        return undefined;\n    }\n    return (0, _dataTypes.normalize)(value);\n}\nfunction asNegativeValue(modifier, lookup = {}, validate) {\n    let positiveValue = lookup[modifier];\n    if (positiveValue !== undefined) {\n        return (0, _negateValue.default)(positiveValue);\n    }\n    if (isArbitraryValue(modifier)) {\n        let resolved = resolveArbitraryValue(modifier, validate);\n        if (resolved === undefined) {\n            return undefined;\n        }\n        return (0, _negateValue.default)(resolved);\n    }\n}\nfunction asValue(modifier, options = {}, { validate =()=>true  } = {}) {\n    var ref;\n    let value = (ref = options.values) === null || ref === void 0 ? void 0 : ref[modifier];\n    if (value !== undefined) {\n        return value;\n    }\n    if (options.supportsNegativeValues && modifier.startsWith(\"-\")) {\n        return asNegativeValue(modifier.slice(1), options.values, validate);\n    }\n    return resolveArbitraryValue(modifier, validate);\n}\nfunction isArbitraryValue(input) {\n    return input.startsWith(\"[\") && input.endsWith(\"]\");\n}\nfunction splitAlpha(modifier) {\n    let slashIdx = modifier.lastIndexOf(\"/\");\n    if (slashIdx === -1 || slashIdx === modifier.length - 1) {\n        return [\n            modifier\n        ];\n    }\n    return [\n        modifier.slice(0, slashIdx),\n        modifier.slice(slashIdx + 1)\n    ];\n}\nfunction parseColorFormat(value) {\n    if (typeof value === \"string\" && value.includes(\"<alpha-value>\")) {\n        let oldValue = value;\n        return ({ opacityValue =1  })=>oldValue.replace(\"<alpha-value>\", opacityValue);\n    }\n    return value;\n}\nfunction asColor(modifier, options = {}, { tailwindConfig ={}  } = {}) {\n    var ref;\n    if (((ref = options.values) === null || ref === void 0 ? void 0 : ref[modifier]) !== undefined) {\n        var ref1;\n        return parseColorFormat((ref1 = options.values) === null || ref1 === void 0 ? void 0 : ref1[modifier]);\n    }\n    let [color, alpha] = splitAlpha(modifier);\n    if (alpha !== undefined) {\n        var ref2, ref3, ref4;\n        var ref5;\n        let normalizedColor = (ref5 = (ref2 = options.values) === null || ref2 === void 0 ? void 0 : ref2[color]) !== null && ref5 !== void 0 ? ref5 : isArbitraryValue(color) ? color.slice(1, -1) : undefined;\n        if (normalizedColor === undefined) {\n            return undefined;\n        }\n        normalizedColor = parseColorFormat(normalizedColor);\n        if (isArbitraryValue(alpha)) {\n            return (0, _withAlphaVariable.withAlphaValue)(normalizedColor, alpha.slice(1, -1));\n        }\n        if (((ref3 = tailwindConfig.theme) === null || ref3 === void 0 ? void 0 : (ref4 = ref3.opacity) === null || ref4 === void 0 ? void 0 : ref4[alpha]) === undefined) {\n            return undefined;\n        }\n        return (0, _withAlphaVariable.withAlphaValue)(normalizedColor, tailwindConfig.theme.opacity[alpha]);\n    }\n    return asValue(modifier, options, {\n        validate: _dataTypes.color\n    });\n}\nfunction asLookupValue(modifier, options = {}) {\n    var ref;\n    return (ref = options.values) === null || ref === void 0 ? void 0 : ref[modifier];\n}\nfunction guess(validate) {\n    return (modifier, options)=>{\n        return asValue(modifier, options, {\n            validate\n        });\n    };\n}\nlet typeMap = {\n    any: asValue,\n    color: asColor,\n    url: guess(_dataTypes.url),\n    image: guess(_dataTypes.image),\n    length: guess(_dataTypes.length),\n    percentage: guess(_dataTypes.percentage),\n    position: guess(_dataTypes.position),\n    lookup: asLookupValue,\n    \"generic-name\": guess(_dataTypes.genericName),\n    \"family-name\": guess(_dataTypes.familyName),\n    number: guess(_dataTypes.number),\n    \"line-width\": guess(_dataTypes.lineWidth),\n    \"absolute-size\": guess(_dataTypes.absoluteSize),\n    \"relative-size\": guess(_dataTypes.relativeSize),\n    shadow: guess(_dataTypes.shadow)\n};\nlet supportedTypes = Object.keys(typeMap);\nfunction splitAtFirst(input, delim) {\n    let idx = input.indexOf(delim);\n    if (idx === -1) return [\n        undefined,\n        input\n    ];\n    return [\n        input.slice(0, idx),\n        input.slice(idx + 1)\n    ];\n}\nfunction coerceValue(types, modifier, options, tailwindConfig) {\n    if (isArbitraryValue(modifier)) {\n        let arbitraryValue = modifier.slice(1, -1);\n        let [explicitType, value] = splitAtFirst(arbitraryValue, \":\");\n        // It could be that this resolves to `url(https` which is not a valid\n        // identifier. We currently only support \"simple\" words with dashes or\n        // underscores. E.g.: family-name\n        if (!/^[\\w-_]+$/g.test(explicitType)) {\n            value = arbitraryValue;\n        } else if (explicitType !== undefined && !supportedTypes.includes(explicitType)) {\n            return [];\n        }\n        if (value.length > 0 && supportedTypes.includes(explicitType)) {\n            return [\n                asValue(`[${value}]`, options),\n                explicitType\n            ];\n        }\n    }\n    // Find first matching type\n    for (let type of [].concat(types)){\n        let result = typeMap[type](modifier, options, {\n            tailwindConfig\n        });\n        if (result !== undefined) return [\n            result,\n            type\n        ];\n    }\n    return [];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>toColorValue\n});\nfunction toColorValue(maybeFunction) {\n    return typeof maybeFunction === \"function\" ? maybeFunction({}) : maybeFunction;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>resolveConfig\n});\nconst _negateValue = /*#__PURE__*/ _interopRequireDefault(require(\"./negateValue\"));\nconst _corePluginList = /*#__PURE__*/ _interopRequireDefault(require(\"../corePluginList\"));\nconst _configurePlugins = /*#__PURE__*/ _interopRequireDefault(require(\"./configurePlugins\"));\nconst _defaultConfigStub = /*#__PURE__*/ _interopRequireDefault(require(\"../../stubs/defaultConfig.stub\"));\nconst _colors = /*#__PURE__*/ _interopRequireDefault(require(\"../public/colors\"));\nconst _defaults = require(\"./defaults\");\nconst _toPath = require(\"./toPath\");\nconst _normalizeConfig = require(\"./normalizeConfig\");\nconst _isPlainObject = /*#__PURE__*/ _interopRequireDefault(require(\"./isPlainObject\"));\nconst _cloneDeep = require(\"./cloneDeep\");\nconst _pluginUtils = require(\"./pluginUtils\");\nconst _withAlphaVariable = require(\"./withAlphaVariable\");\nconst _toColorValue = /*#__PURE__*/ _interopRequireDefault(require(\"./toColorValue\"));\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction isFunction(input) {\n    return typeof input === \"function\";\n}\nfunction isObject(input) {\n    return typeof input === \"object\" && input !== null;\n}\nfunction mergeWith(target, ...sources) {\n    let customizer = sources.pop();\n    for (let source of sources){\n        for(let k in source){\n            let merged = customizer(target[k], source[k]);\n            if (merged === undefined) {\n                if (isObject(target[k]) && isObject(source[k])) {\n                    target[k] = mergeWith(target[k], source[k], customizer);\n                } else {\n                    target[k] = source[k];\n                }\n            } else {\n                target[k] = merged;\n            }\n        }\n    }\n    return target;\n}\nconst configUtils = {\n    colors: _colors.default,\n    negative (scale) {\n        // TODO: Log that this function isn't really needed anymore?\n        return Object.keys(scale).filter((key)=>scale[key] !== \"0\").reduce((negativeScale, key)=>{\n            let negativeValue = (0, _negateValue.default)(scale[key]);\n            if (negativeValue !== undefined) {\n                negativeScale[`-${key}`] = negativeValue;\n            }\n            return negativeScale;\n        }, {});\n    },\n    breakpoints (screens) {\n        return Object.keys(screens).filter((key)=>typeof screens[key] === \"string\").reduce((breakpoints, key)=>({\n                ...breakpoints,\n                [`screen-${key}`]: screens[key]\n            }), {});\n    }\n};\nfunction value(valueToResolve, ...args) {\n    return isFunction(valueToResolve) ? valueToResolve(...args) : valueToResolve;\n}\nfunction collectExtends(items) {\n    return items.reduce((merged, { extend  })=>{\n        return mergeWith(merged, extend, (mergedValue, extendValue)=>{\n            if (mergedValue === undefined) {\n                return [\n                    extendValue\n                ];\n            }\n            if (Array.isArray(mergedValue)) {\n                return [\n                    extendValue,\n                    ...mergedValue\n                ];\n            }\n            return [\n                extendValue,\n                mergedValue\n            ];\n        });\n    }, {});\n}\nfunction mergeThemes(themes) {\n    return {\n        ...themes.reduce((merged, theme)=>(0, _defaults.defaults)(merged, theme), {}),\n        // In order to resolve n config objects, we combine all of their `extend` properties\n        // into arrays instead of objects so they aren't overridden.\n        extend: collectExtends(themes)\n    };\n}\nfunction mergeExtensionCustomizer(merged, value) {\n    // When we have an array of objects, we do want to merge it\n    if (Array.isArray(merged) && isObject(merged[0])) {\n        return merged.concat(value);\n    }\n    // When the incoming value is an array, and the existing config is an object, prepend the existing object\n    if (Array.isArray(value) && isObject(value[0]) && isObject(merged)) {\n        return [\n            merged,\n            ...value\n        ];\n    }\n    // Override arrays (for example for font-families, box-shadows, ...)\n    if (Array.isArray(value)) {\n        return value;\n    }\n    // Execute default behaviour\n    return undefined;\n}\nfunction mergeExtensions({ extend , ...theme }) {\n    return mergeWith(theme, extend, (themeValue, extensions)=>{\n        // The `extend` property is an array, so we need to check if it contains any functions\n        if (!isFunction(themeValue) && !extensions.some(isFunction)) {\n            return mergeWith({}, themeValue, ...extensions, mergeExtensionCustomizer);\n        }\n        return (resolveThemePath, utils)=>mergeWith({}, ...[\n                themeValue,\n                ...extensions\n            ].map((e)=>value(e, resolveThemePath, utils)), mergeExtensionCustomizer);\n    });\n}\n/**\n *\n * @param {string} key\n * @return {Iterable<string[] & {alpha: string | undefined}>}\n */ function* toPaths(key) {\n    let path = (0, _toPath.toPath)(key);\n    if (path.length === 0) {\n        return;\n    }\n    yield path;\n    if (Array.isArray(key)) {\n        return;\n    }\n    let pattern = /^(.*?)\\s*\\/\\s*([^/]+)$/;\n    let matches = key.match(pattern);\n    if (matches !== null) {\n        let [, prefix, alpha] = matches;\n        let newPath = (0, _toPath.toPath)(prefix);\n        newPath.alpha = alpha;\n        yield newPath;\n    }\n}\nfunction resolveFunctionKeys(object) {\n    // theme('colors.red.500 / 0.5') -> ['colors', 'red', '500 / 0', '5]\n    const resolvePath = (key, defaultValue)=>{\n        for (const path of toPaths(key)){\n            let index = 0;\n            let val = object;\n            while(val !== undefined && val !== null && index < path.length){\n                val = val[path[index++]];\n                let shouldResolveAsFn = isFunction(val) && (path.alpha === undefined || index <= path.length - 1);\n                val = shouldResolveAsFn ? val(resolvePath, configUtils) : val;\n            }\n            if (val !== undefined) {\n                if (path.alpha !== undefined) {\n                    let normalized = (0, _pluginUtils.parseColorFormat)(val);\n                    return (0, _withAlphaVariable.withAlphaValue)(normalized, path.alpha, (0, _toColorValue.default)(normalized));\n                }\n                if ((0, _isPlainObject.default)(val)) {\n                    return (0, _cloneDeep.cloneDeep)(val);\n                }\n                return val;\n            }\n        }\n        return defaultValue;\n    };\n    Object.assign(resolvePath, {\n        theme: resolvePath,\n        ...configUtils\n    });\n    return Object.keys(object).reduce((resolved, key)=>{\n        resolved[key] = isFunction(object[key]) ? object[key](resolvePath, configUtils) : object[key];\n        return resolved;\n    }, {});\n}\nfunction extractPluginConfigs(configs) {\n    let allConfigs = [];\n    configs.forEach((config)=>{\n        allConfigs = [\n            ...allConfigs,\n            config\n        ];\n        var ref;\n        const plugins = (ref = config === null || config === void 0 ? void 0 : config.plugins) !== null && ref !== void 0 ? ref : [];\n        if (plugins.length === 0) {\n            return;\n        }\n        plugins.forEach((plugin)=>{\n            if (plugin.__isOptionsFunction) {\n                plugin = plugin();\n            }\n            var ref;\n            allConfigs = [\n                ...allConfigs,\n                ...extractPluginConfigs([\n                    (ref = plugin === null || plugin === void 0 ? void 0 : plugin.config) !== null && ref !== void 0 ? ref : {}\n                ])\n            ];\n        });\n    });\n    return allConfigs;\n}\nfunction resolveCorePlugins(corePluginConfigs) {\n    const result = [\n        ...corePluginConfigs\n    ].reduceRight((resolved, corePluginConfig)=>{\n        if (isFunction(corePluginConfig)) {\n            return corePluginConfig({\n                corePlugins: resolved\n            });\n        }\n        return (0, _configurePlugins.default)(corePluginConfig, resolved);\n    }, _corePluginList.default);\n    return result;\n}\nfunction resolvePluginLists(pluginLists) {\n    const result = [\n        ...pluginLists\n    ].reduceRight((resolved, pluginList)=>{\n        return [\n            ...resolved,\n            ...pluginList\n        ];\n    }, []);\n    return result;\n}\nfunction resolveConfig(configs) {\n    let allConfigs = [\n        ...extractPluginConfigs(configs),\n        {\n            prefix: \"\",\n            important: false,\n            separator: \":\",\n            variantOrder: _defaultConfigStub.default.variantOrder\n        }, \n    ];\n    var ref, ref1;\n    return (0, _normalizeConfig.normalizeConfig)((0, _defaults.defaults)({\n        theme: resolveFunctionKeys(mergeExtensions(mergeThemes(allConfigs.map((t)=>{\n            return (ref = t === null || t === void 0 ? void 0 : t.theme) !== null && ref !== void 0 ? ref : {};\n        })))),\n        corePlugins: resolveCorePlugins(allConfigs.map((c)=>c.corePlugins)),\n        plugins: resolvePluginLists(configs.map((c)=>{\n            return (ref1 = c === null || c === void 0 ? void 0 : c.plugins) !== null && ref1 !== void 0 ? ref1 : [];\n        }))\n    }, ...allConfigs));\n}\n","export default {\n  yellow: (s) => s,\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    flagEnabled: ()=>flagEnabled,\n    issueFlagNotices: ()=>issueFlagNotices,\n    default: ()=>_default\n});\nconst _picocolors = /*#__PURE__*/ _interopRequireDefault(require(\"picocolors\"));\nconst _log = /*#__PURE__*/ _interopRequireDefault(require(\"./util/log\"));\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nlet defaults = {\n    optimizeUniversalDefaults: false\n};\nlet featureFlags = {\n    future: [\n        \"hoverOnlyWhenSupported\",\n        \"respectDefaultRingColorOpacity\"\n    ],\n    experimental: [\n        \"optimizeUniversalDefaults\",\n        \"matchVariant\" /* , 'variantGrouping' */ \n    ]\n};\nfunction flagEnabled(config, flag) {\n    if (featureFlags.future.includes(flag)) {\n        var ref;\n        var ref1, ref2;\n        return config.future === \"all\" || ((ref2 = (ref1 = config === null || config === void 0 ? void 0 : (ref = config.future) === null || ref === void 0 ? void 0 : ref[flag]) !== null && ref1 !== void 0 ? ref1 : defaults[flag]) !== null && ref2 !== void 0 ? ref2 : false);\n    }\n    if (featureFlags.experimental.includes(flag)) {\n        var ref3;\n        var ref4, ref5;\n        return config.experimental === \"all\" || ((ref5 = (ref4 = config === null || config === void 0 ? void 0 : (ref3 = config.experimental) === null || ref3 === void 0 ? void 0 : ref3[flag]) !== null && ref4 !== void 0 ? ref4 : defaults[flag]) !== null && ref5 !== void 0 ? ref5 : false);\n    }\n    return false;\n}\nfunction experimentalFlagsEnabled(config) {\n    if (config.experimental === \"all\") {\n        return featureFlags.experimental;\n    }\n    var ref;\n    return Object.keys((ref = config === null || config === void 0 ? void 0 : config.experimental) !== null && ref !== void 0 ? ref : {}).filter((flag)=>featureFlags.experimental.includes(flag) && config.experimental[flag]);\n}\nfunction issueFlagNotices(config) {\n    if (process.env.JEST_WORKER_ID !== undefined) {\n        return;\n    }\n    if (experimentalFlagsEnabled(config).length > 0) {\n        let changes = experimentalFlagsEnabled(config).map((s)=>_picocolors.default.yellow(s)).join(\", \");\n        _log.default.warn(\"experimental-flags-enabled\", [\n            `You have enabled experimental features: ${changes}`,\n            \"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time.\", \n        ]);\n    }\n}\nconst _default = featureFlags;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>getAllConfigs\n});\nconst _defaultConfigStubJs = /*#__PURE__*/ _interopRequireDefault(require(\"../../stubs/defaultConfig.stub.js\"));\nconst _featureFlags = require(\"../featureFlags\");\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction getAllConfigs(config) {\n    var ref;\n    const configs = ((ref = config === null || config === void 0 ? void 0 : config.presets) !== null && ref !== void 0 ? ref : [\n        _defaultConfigStubJs.default\n    ]).slice().reverse().flatMap((preset)=>getAllConfigs(typeof preset === \"function\" ? preset() : preset));\n    const features = {\n        // Add experimental configs here...\n        respectDefaultRingColorOpacity: {\n            theme: {\n                ringColor: {\n                    DEFAULT: \"#3b82f67f\"\n                }\n            }\n        }\n    };\n    const experimentals = Object.keys(features).filter((feature)=>(0, _featureFlags.flagEnabled)(config, feature)).map((feature)=>features[feature]);\n    return [\n        config,\n        ...experimentals,\n        ...configs\n    ];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: ()=>resolveConfig\n});\nconst _resolveConfig = /*#__PURE__*/ _interopRequireDefault(require(\"../util/resolveConfig\"));\nconst _getAllConfigs = /*#__PURE__*/ _interopRequireDefault(require(\"../util/getAllConfigs\"));\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction resolveConfig(...configs) {\n    let [, ...defaultConfigs] = (0, _getAllConfigs.default)(configs[0]);\n    return (0, _resolveConfig.default)([\n        ...configs,\n        ...defaultConfigs\n    ]);\n}\n","let resolveConfig = require('./lib/public/resolve-config')\nmodule.exports = (resolveConfig.__esModule ? resolveConfig : { default: resolveConfig }).default\n","import type { Yoga } from 'yoga-wasm-web'\n\nlet yogaInstance: Yoga\n\nexport function init(yoga: Yoga) {\n  yogaInstance = yoga\n}\n\nlet initializationPromise = null\n\nexport default async function getYoga(): Promise<Yoga> {\n  if (yogaInstance) return yogaInstance\n\n  if (initializationPromise) {\n    await initializationPromise\n    return yogaInstance\n  }\n\n  initializationPromise = import('@yoga')\n    .then((mod) => mod.getYogaModule())\n    .then((yoga) => (yogaInstance = yoga))\n\n  await initializationPromise\n  initializationPromise = null\n\n  return yogaInstance\n}\n","var e=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var u=e((k,g)=>{g.exports=[\"em\",\"ex\",\"ch\",\"rem\",\"vh\",\"vw\",\"vmin\",\"vmax\",\"px\",\"mm\",\"cm\",\"in\",\"pt\",\"pc\",\"mozmm\"]});var a=e((z,v)=>{v.exports=[\"deg\",\"grad\",\"rad\",\"turn\"]});var c=e((L,w)=>{w.exports=[\"dpi\",\"dpcm\",\"dppx\"]});var h=e(($,y)=>{y.exports=[\"Hz\",\"kHz\"]});var m=e((j,b)=>{b.exports=[\"s\",\"ms\"]});var q=u(),f=a(),p=c(),l=h(),d=m();function s(t){if(/\\.\\D?$/.test(t))throw new Error(\"The dot should be followed by a number\");if(/^[+-]{2}/.test(t))throw new Error(\"Only one leading +/- is allowed\");if(x(t)>1)throw new Error(\"Only one dot is allowed\");if(/%$/.test(t)){this.type=\"percentage\",this.value=o(t),this.unit=\"%\";return}var r=O(t);if(!r){this.type=\"number\",this.value=o(t);return}this.type=F(r),this.value=o(t.substr(0,t.length-r.length)),this.unit=r}s.prototype.valueOf=function(){return this.value};s.prototype.toString=function(){return this.value+(this.unit||\"\")};function U(t){return new s(t)}function x(t){var r=t.match(/\\./g);return r?r.length:0}function o(t){var r=parseFloat(t);if(isNaN(r))throw new Error(\"Invalid number: \"+t);return r}var E=[].concat(f,l,q,p,d);function O(t){var r=t.match(/\\D+$/),n=r&&r[0];if(n&&E.indexOf(n)===-1)throw new Error(\"Invalid unit: \"+n);return n}var D=Object.assign(i(f,\"angle\"),i(l,\"frequency\"),i(p,\"resolution\"),i(d,\"time\"));function i(t,r){return Object.fromEntries(t.map(n=>[n,r]))}function F(t){return D[t]||\"length\"}export{U as default};\n","import type { ReactNode, ReactElement } from 'react'\n\nimport CssDimension from './vendor/parse-css-dimension/index.js'\nimport LineBreaker from 'linebreak'\n\nexport function isReactElement(node: ReactNode): node is ReactElement {\n  const type = typeof node\n  if (\n    type === 'number' ||\n    type === 'bigint' ||\n    type === 'string' ||\n    type === 'boolean'\n  ) {\n    return false\n  }\n  return true\n}\n\nexport function isClass(f: Function) {\n  return /^class\\s/.test(f.toString())\n}\n\nexport function hasDangerouslySetInnerHTMLProp(props: any) {\n  return 'dangerouslySetInnerHTML' in props\n}\n\nexport function normalizeChildren(children: any) {\n  const flattend =\n    typeof children === 'undefined' ? [] : [].concat(children).flat(Infinity)\n\n  const res = []\n  for (let i = 0; i < flattend.length; i++) {\n    let value = flattend[i]\n    if (\n      typeof value === 'undefined' ||\n      typeof value === 'boolean' ||\n      value === null\n    ) {\n      continue\n    }\n    if (typeof value === 'number') {\n      value = String(value)\n    }\n    if (\n      typeof value === 'string' &&\n      res.length &&\n      typeof res[res.length - 1] === 'string'\n    ) {\n      res[res.length - 1] += value\n    } else {\n      res.push(value)\n    }\n  }\n  return res\n}\n\nexport function lengthToNumber(\n  length: string | number,\n  baseFontSize: number,\n  baseLength: number,\n  inheritedStyle: Record<string, string | number>,\n  percentage = false\n): number | undefined {\n  if (typeof length === 'number') return length\n\n  // Convert em and rem values to number (px), convert rad to deg.\n  try {\n    length = length.trim()\n\n    // Not length: `1px/2px`, `1px 2px`, `1px, 2px`, `calc(1px)`.\n    if (/[ /\\(,]/.test(length)) return\n\n    // Just a number as string: '100'\n    if (length === String(+length)) return +length\n\n    const parsed = new CssDimension(length)\n    if (parsed.type === 'length') {\n      switch (parsed.unit) {\n        case 'em':\n          return parsed.value * baseFontSize\n        case 'rem':\n          return parsed.value * 16\n        case 'vw':\n          return ~~(\n            (parsed.value * (inheritedStyle._viewportWidth as number)) /\n            100\n          )\n        case 'vh':\n          return ~~(\n            (parsed.value * (inheritedStyle._viewportHeight as number)) /\n            100\n          )\n        default:\n          return parsed.value\n      }\n    } else if (parsed.type === 'angle') {\n      switch (parsed.unit) {\n        case 'deg':\n          return parsed.value\n        case 'rad':\n          return (parsed.value * 180) / Math.PI\n        default:\n          return parsed.value\n      }\n    } else if (parsed.type === 'percentage') {\n      if (percentage) {\n        return (parsed.value / 100) * baseLength\n      }\n    }\n  } catch {\n    // Not a length unit, silently ignore.\n  }\n}\n\n// Multiplies two 2d transform matrices.\nexport function multiply(m1: number[], m2: number[]) {\n  return [\n    m1[0] * m2[0] + m1[2] * m2[1],\n    m1[1] * m2[0] + m1[3] * m2[1],\n    m1[0] * m2[2] + m1[2] * m2[3],\n    m1[1] * m2[2] + m1[3] * m2[3],\n    m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n    m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n  ]\n}\n\nexport function v(\n  field: string | number | undefined,\n  map: Record<string, any>,\n  fallback: any,\n  errorIfNotAllowedForProperty?: string\n) {\n  let value = map[field]\n  if (typeof value === 'undefined') {\n    if (errorIfNotAllowedForProperty && typeof field !== 'undefined') {\n      throw new Error(\n        `Invalid value for CSS property \"${errorIfNotAllowedForProperty}\". Allowed values: ${Object.keys(\n          map\n        )\n          .map((_v) => `\"${_v}\"`)\n          .join(' | ')}. Received: \"${field}\".`\n      )\n    }\n    value = fallback\n  }\n  return value\n}\n\nlet wordSegmenter\nlet graphemeSegmenter\n\n// Implementation modified from\n// https://github.com/niklasvh/html2canvas/blob/6521a487d78172f7179f7c973c1a3af40eb92009/src/css/layout/text.ts\n// https://drafts.csswg.org/css-text/#word-separator\nexport const wordSeparators = [\n  0x0020, 0x00a0, 0x1361, 0x10100, 0x10101, 0x1039, 0x1091, 0xa,\n].map((point) => String.fromCodePoint(point))\n\nexport function segment(\n  content: string,\n  granularity: 'word' | 'grapheme',\n  locale?: string\n): string[] {\n  if (!wordSegmenter || !graphemeSegmenter) {\n    if (!(typeof Intl !== 'undefined' && 'Segmenter' in Intl)) {\n      // https://caniuse.com/mdn-javascript_builtins_intl_segments\n      throw new Error(\n        'Intl.Segmenter does not exist, please use import a polyfill.'\n      )\n    }\n\n    wordSegmenter = new Intl.Segmenter(locale, { granularity: 'word' })\n    graphemeSegmenter = new Intl.Segmenter(locale, {\n      granularity: 'grapheme',\n    })\n  }\n\n  if (granularity === 'grapheme') {\n    return [...graphemeSegmenter.segment(content)].map((seg) => seg.segment)\n  } else {\n    const segmented = [...wordSegmenter.segment(content)].map(\n      (seg) => seg.segment\n    ) as string[]\n\n    const output = []\n\n    let i = 0\n    // When there is a non-breaking space, join the previous and next words together.\n    // This change causes them to be treated as a single segment.\n    while (i < segmented.length) {\n      const s = segmented[i]\n\n      if (s == '\\u00a0') {\n        const previousWord = i === 0 ? '' : output.pop()\n        const nextWord = i === segmented.length - 1 ? '' : segmented[i + 1]\n\n        output.push(previousWord + '\\u00a0' + nextWord)\n        i += 2\n      } else {\n        output.push(s)\n        i++\n      }\n    }\n\n    return output\n  }\n}\n\nexport function buildXMLString(\n  type: string,\n  attrs: Record<string, string | number>,\n  children?: string\n) {\n  let attrString = ''\n\n  for (const [k, _v] of Object.entries(attrs)) {\n    if (typeof _v !== 'undefined') {\n      attrString += ` ${k}=\"${_v}\"`\n    }\n  }\n\n  if (children) {\n    return `<${type}${attrString}>${children}</${type}>`\n  }\n  return `<${type}${attrString}/>`\n}\n\nexport function createLRU<T>(max = 20) {\n  const store: Map<string, T> = new Map()\n  function set(key: string, value: T) {\n    if (store.size >= max) {\n      const keyToDelete = store.keys().next().value\n      store.delete(keyToDelete)\n    }\n    store.set(key, value)\n  }\n  function get(key: string): T | undefined {\n    const hasKey = store.has(key)\n    if (!hasKey) return undefined\n\n    const entry = store.get(key)!\n    store.delete(key)\n    store.set(key, entry)\n    return entry\n  }\n  function clear() {\n    store.clear()\n  }\n\n  return {\n    set,\n    get,\n    clear,\n  }\n}\n\nexport function parseViewBox(viewBox?: string | null | undefined) {\n  return viewBox ? viewBox.split(/[, ]/).filter(Boolean).map(Number) : null\n}\n\nexport function toString(x: unknown): string {\n  return Object.prototype.toString.call(x)\n}\n\nexport function isString(x: unknown): x is string {\n  return typeof x === 'string'\n}\n\nexport function isNumber(x: unknown): x is number {\n  return typeof x === 'number'\n}\n\nexport function isUndefined(x: unknown): x is undefined {\n  return toString(x) === '[object Undefined]'\n}\n\nexport function splitByBreakOpportunities(\n  content: string,\n  wordBreak: string\n): {\n  words: string[]\n  requiredBreaks: boolean[]\n} {\n  if (wordBreak === 'break-all') {\n    return { words: segment(content, 'grapheme'), requiredBreaks: [] }\n  }\n\n  if (wordBreak === 'keep-all') {\n    return { words: segment(content, 'word'), requiredBreaks: [] }\n  }\n\n  const breaker = new LineBreaker(content)\n  let last = 0\n  let bk = breaker.nextBreak()\n  const words = []\n  const requiredBreaks = [false]\n\n  while (bk) {\n    const word = content.slice(last, bk.position)\n    words.push(word)\n\n    if (bk.required) {\n      requiredBreaks.push(true)\n    } else {\n      requiredBreaks.push(false)\n    }\n\n    last = bk.position\n    bk = breaker.nextBreak()\n  }\n\n  return { words, requiredBreaks }\n}\n\nexport const midline = (s: string) => {\n  return s.replaceAll(\n    /([A-Z])/g,\n    (_, letter: string) => `-${letter.toLowerCase()}`\n  )\n}\n\nexport function splitEffects(\n  input: string,\n  separator: string | RegExp = ','\n): string[] {\n  const result = []\n  let l = 0\n  let parenCount = 0\n  separator = new RegExp(separator)\n\n  for (let i = 0; i < input.length; i++) {\n    if (input[i] === '(') {\n      parenCount++\n    } else if (input[i] === ')') {\n      parenCount--\n    }\n\n    if (parenCount === 0 && separator.test(input[i])) {\n      result.push(input.slice(l, i).trim())\n      l = i + 1\n    }\n  }\n\n  result.push(input.slice(l).trim())\n\n  return result\n}\n","/**\n * This module is used to fetch image from the given URL and resolve it as\n * base64 inlined data URI, so the toolchain can process it.\n * The image data will be cached in a LRU so we don't need to fetch it again\n * in new render processes. But to invalidate the cache the workaround is to\n * add a random query string to the URL.\n * TODO: We might want another option to disable image caching by default.\n */\n\nconst AVIF = 'image/avif'\nconst WEBP = 'image/webp'\nconst APNG = 'image/apng'\nconst PNG = 'image/png'\nconst JPEG = 'image/jpeg'\nconst GIF = 'image/gif'\nconst SVG = 'image/svg+xml'\n\nfunction parseJPEG(buf: ArrayBuffer) {\n  const view = new DataView(buf)\n\n  // Skip magic bytes\n  let offset = 4\n\n  const len = view.byteLength\n  while (offset < len) {\n    const i = view.getUint16(offset, false)\n\n    if (i > len) {\n      throw new TypeError('Invalid JPEG')\n    }\n\n    const next = view.getUint8(i + 1 + offset)\n    if (next === 0xc0 || next === 0xc1 || next === 0xc2) {\n      return [\n        view.getUint16(i + 7 + offset, false),\n        view.getUint16(i + 5 + offset, false),\n      ] as [number, number]\n    }\n\n    // TODO: Support orientations from EXIF.\n\n    offset += i + 2\n  }\n\n  throw new TypeError('Invalid JPEG')\n}\n\nfunction parseGIF(buf: ArrayBuffer) {\n  const view = new Uint8Array(buf.slice(6, 10))\n  return [view[0] | (view[1] << 8), view[2] | (view[3] << 8)] as [\n    number,\n    number\n  ]\n}\n\nfunction parsePNG(buf: ArrayBuffer) {\n  const v = new DataView(buf)\n  return [v.getUint16(18, false), v.getUint16(22, false)] as [number, number]\n}\n\nimport { createLRU, parseViewBox } from '../utils.js'\n\ntype ResolvedImageData = [string, number?, number?] | readonly []\nexport const cache = createLRU<ResolvedImageData>(100)\nconst inflightRequests = new Map<string, Promise<ResolvedImageData>>()\n\nconst ALLOWED_IMAGE_TYPES = [PNG, APNG, JPEG, GIF, SVG]\n\nfunction arrayBufferToBase64(buffer) {\n  let binary = ''\n  const bytes = new Uint8Array(buffer)\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i])\n  }\n  return btoa(binary)\n}\n\nfunction base64ToArrayBuffer(base64: string): ArrayBuffer {\n  let binaryString = atob(base64)\n  let len = binaryString.length\n  let bytes = new Uint8Array(len)\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binaryString.charCodeAt(i)\n  }\n  return bytes.buffer\n}\n\nfunction parseSvgImageSize(src: string, data: string) {\n  // Parse the SVG image size\n  const svgTag = data.match(/<svg[^>]*>/)[0]\n\n  const viewBoxStr = svgTag.match(/viewBox=['\"](.+)['\"]/)\n  let viewBox = viewBoxStr ? parseViewBox(viewBoxStr[1]) : null\n\n  const width = svgTag.match(/width=['\"](\\d*\\.\\d+|\\d+)['\"]/)\n  const height = svgTag.match(/height=['\"](\\d*\\.\\d+|\\d+)['\"]/)\n\n  if (!viewBox && (!width || !height)) {\n    throw new Error(`Failed to parse SVG from ${src}: missing \"viewBox\"`)\n  }\n\n  const size = viewBox ? [viewBox[2], viewBox[3]] : [+width[1], +height[1]]\n\n  const ratio = size[0] / size[1]\n  const imageSize: [number, number] =\n    width && height\n      ? [+width[1], +height[1]]\n      : width\n      ? [+width[1], +width[1] / ratio]\n      : height\n      ? [+height[1] * ratio, +height[1]]\n      : [size[0], size[1]]\n\n  return imageSize\n}\n\nfunction arrayBufferToDataUri(data: ArrayBuffer) {\n  let imageSize: [number, number]\n\n  const imageType = detectContentType(new Uint8Array(data))\n\n  switch (imageType) {\n    case PNG:\n    case APNG:\n      imageSize = parsePNG(data)\n      break\n    case GIF:\n      imageSize = parseGIF(data)\n      break\n    case JPEG:\n      imageSize = parseJPEG(data)\n      break\n  }\n\n  if (!ALLOWED_IMAGE_TYPES.includes(imageType)) {\n    throw new Error(`Unsupported image type: ${imageType || 'unknown'}`)\n  }\n  return [\n    `data:${imageType};base64,${arrayBufferToBase64(data)}`,\n    imageSize,\n  ] as const\n}\n\nexport async function resolveImageData(\n  src: string | ArrayBuffer\n): Promise<ResolvedImageData> {\n  if (!src) {\n    throw new Error('Image source is not provided.')\n  }\n\n  // ArrayBuffer\n  if (typeof src === 'object') {\n    const [newSrc, imageSize] = arrayBufferToDataUri(src)\n    return [newSrc, ...imageSize] as ResolvedImageData\n  }\n\n  if (\n    (src.startsWith('\"') && src.endsWith('\"')) ||\n    (src.startsWith(\"'\") && src.endsWith(\"'\"))\n  ) {\n    src = src.slice(1, -1)\n  }\n\n  // Throw error if the image source is not an absolute URL in server environment\n  // Should be after slicing quotes to avoid throwing error too early\n  if (typeof window === 'undefined') {\n    if (!src.startsWith('http') && !src.startsWith('data:')) {\n      throw new Error(`Image source must be an absolute URL: ${src}`)\n    }\n  }\n\n  if (src.startsWith('data:')) {\n    let decodedURI: { imageType; encodingType; dataString }\n\n    try {\n      decodedURI =\n        /data:(?<imageType>[a-z/+]+)(;(charset=)?(?<encodingType>.*))?,(?<dataString>.*)/g.exec(\n          src\n        ).groups as typeof decodedURI\n    } catch (err) {\n      console.warn('Image data URI resolved without size:' + src)\n      return [src]\n    }\n\n    const { imageType, encodingType, dataString } = decodedURI\n    if (imageType === SVG) {\n      const utf8Src =\n        encodingType === 'base64'\n          ? atob(dataString)\n          : decodeURIComponent(dataString.replace(/ /g, '%20'))\n      const base64Src =\n        encodingType === 'base64'\n          ? src\n          : `data:image/svg+xml;base64,${btoa(utf8Src)}`\n      let imageSize = parseSvgImageSize(src, utf8Src)\n      cache.set(src, [base64Src, ...imageSize])\n      return [base64Src, ...imageSize]\n    } else if (encodingType === 'base64') {\n      let imageSize: [number, number]\n      const data = base64ToArrayBuffer(dataString)\n      switch (imageType) {\n        case PNG:\n        case APNG:\n          imageSize = parsePNG(data)\n          break\n        case GIF:\n          imageSize = parseGIF(data)\n          break\n        case JPEG:\n          imageSize = parseJPEG(data)\n          break\n      }\n      cache.set(src, [src, ...imageSize])\n      return [src, ...imageSize]\n    } else {\n      console.warn('Image data URI resolved without size:' + src)\n      cache.set(src, [src])\n      return [src]\n    }\n  }\n\n  if (!globalThis.fetch) {\n    throw new Error('`fetch` is required to be polyfilled to load images.')\n  }\n\n  if (inflightRequests.has(src)) {\n    return inflightRequests.get(src)\n  }\n  const cached = cache.get(src)\n  if (cached) {\n    return cached\n  }\n\n  const url = src\n  const promise = fetch(url)\n    .then((res): Promise<string | ArrayBuffer> => {\n      const type = res.headers.get('content-type')\n\n      // Handle SVG specially\n      if (type === 'image/svg+xml' || type === 'application/svg+xml') {\n        return res.text()\n      }\n\n      return res.arrayBuffer()\n    })\n    .then((data) => {\n      if (typeof data === 'string') {\n        try {\n          const newSrc = `data:image/svg+xml;base64,${btoa(data)}`\n          // Parse the SVG image size\n          const imageSize = parseSvgImageSize(url, data)\n          return [newSrc, ...imageSize] as ResolvedImageData\n        } catch (e) {\n          throw new Error(`Failed to parse SVG image: ${e.message}`)\n        }\n      }\n\n      const [newSrc, imageSize] = arrayBufferToDataUri(data)\n      return [newSrc, ...imageSize] as ResolvedImageData\n    })\n    .then((result) => {\n      cache.set(url, result)\n      return result\n    })\n    .catch((err) => {\n      console.error(`Can't load image ${url}: ` + err.message)\n      cache.set(url, [])\n      return [] as const\n    })\n\n  inflightRequests.set(url, promise)\n  return promise\n}\n\n/**\n * Inspects the first few bytes of a buffer to determine if\n * it matches the \"magic number\" of known file signatures.\n * https://en.wikipedia.org/wiki/List_of_file_signatures\n */\nfunction detectContentType(buffer: Uint8Array) {\n  if ([0xff, 0xd8, 0xff].every((b, i) => buffer[i] === b)) {\n    return JPEG\n  }\n  if (\n    [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a].every(\n      (b, i) => buffer[i] === b\n    )\n  ) {\n    if (detectAPNG(buffer)) {\n      return APNG\n    }\n    return PNG\n  }\n  if ([0x47, 0x49, 0x46, 0x38].every((b, i) => buffer[i] === b)) {\n    return GIF\n  }\n  if (\n    [0x52, 0x49, 0x46, 0x46, 0, 0, 0, 0, 0x57, 0x45, 0x42, 0x50].every(\n      (b, i) => !b || buffer[i] === b\n    )\n  ) {\n    return WEBP\n  }\n  if ([0x3c, 0x3f, 0x78, 0x6d, 0x6c].every((b, i) => buffer[i] === b)) {\n    return SVG\n  }\n  if (\n    [0, 0, 0, 0, 0x66, 0x74, 0x79, 0x70, 0x61, 0x76, 0x69, 0x66].every(\n      (b, i) => !b || buffer[i] === b\n    )\n  ) {\n    return AVIF\n  }\n  return null\n}\n\nfunction detectAPNG(bytes: Uint8Array) {\n  const dv = new DataView(bytes.buffer)\n  let type: string,\n    length: number,\n    off = 8,\n    isAPNG = false\n  while (!isAPNG && type !== 'IEND' && off < bytes.length) {\n    length = dv.getUint32(off)\n    const chars = bytes.subarray(off + 4, off + 8)\n    type = String.fromCharCode(...chars)\n    isAPNG = type === 'acTL'\n    off += 12 + length\n  }\n  return isAPNG\n}\n","import type { ReactElement, ReactNode } from 'react'\nimport { resolveImageData, cache } from './image.js'\nimport { isReactElement, parseViewBox, midline } from '../utils.js'\n\n// Based on\n// https://raw.githubusercontent.com/facebook/react/master/packages/react-dom/src/shared/possibleStandardNames.js\nconst ATTRIBUTE_MAPPING = {\n  accentHeight: 'accent-height',\n  alignmentBaseline: 'alignment-baseline',\n  arabicForm: 'arabic-form',\n  baselineShift: 'baseline-shift',\n  capHeight: 'cap-height',\n  clipPath: 'clip-path',\n  clipRule: 'clip-rule',\n  colorInterpolation: 'color-interpolation',\n  colorInterpolationFilters: 'color-interpolation-filters',\n  colorProfile: 'color-profile',\n  colorRendering: 'color-rendering',\n  dominantBaseline: 'dominant-baseline',\n  enableBackground: 'enable-background',\n  fillOpacity: 'fill-opacity',\n  fillRule: 'fill-rule',\n  floodColor: 'flood-color',\n  floodOpacity: 'flood-opacity',\n  fontFamily: 'font-family',\n  fontSize: 'font-size',\n  fontSizeAdjust: 'font-size-adjust',\n  fontStretch: 'font-stretch',\n  fontStyle: 'font-style',\n  fontVariant: 'font-variant',\n  fontWeight: 'font-weight',\n  glyphName: 'glyph-name',\n  glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n  glyphOrientationVertical: 'glyph-orientation-vertical',\n  horizAdvX: 'horiz-adv-x',\n  horizOriginX: 'horiz-origin-x',\n  href: 'href',\n  imageRendering: 'image-rendering',\n  letterSpacing: 'letter-spacing',\n  lightingColor: 'lighting-color',\n  markerEnd: 'marker-end',\n  markerMid: 'marker-mid',\n  markerStart: 'marker-start',\n  overlinePosition: 'overline-position',\n  overlineThickness: 'overline-thickness',\n  paintOrder: 'paint-order',\n  panose1: 'panose-1',\n  pointerEvents: 'pointer-events',\n  renderingIntent: 'rendering-intent',\n  shapeRendering: 'shape-rendering',\n  stopColor: 'stop-color',\n  stopOpacity: 'stop-opacity',\n  strikethroughPosition: 'strikethrough-position',\n  strikethroughThickness: 'strikethrough-thickness',\n  strokeDasharray: 'stroke-dasharray',\n  strokeDashoffset: 'stroke-dashoffset',\n  strokeLinecap: 'stroke-linecap',\n  strokeLinejoin: 'stroke-linejoin',\n  strokeMiterlimit: 'stroke-miterlimit',\n  strokeOpacity: 'stroke-opacity',\n  strokeWidth: 'stroke-width',\n  textAnchor: 'text-anchor',\n  textDecoration: 'text-decoration',\n  textRendering: 'text-rendering',\n  underlinePosition: 'underline-position',\n  underlineThickness: 'underline-thickness',\n  unicodeBidi: 'unicode-bidi',\n  unicodeRange: 'unicode-range',\n  unitsPerEm: 'units-per-em',\n  vAlphabetic: 'v-alphabetic',\n  vHanging: 'v-hanging',\n  vIdeographic: 'v-ideographic',\n  vMathematical: 'v-mathematical',\n  vectorEffect: 'vector-effect',\n  vertAdvY: 'vert-adv-y',\n  vertOriginX: 'vert-origin-x',\n  vertOriginY: 'vert-origin-y',\n  wordSpacing: 'word-spacing',\n  writingMode: 'writing-mode',\n  xHeight: 'x-height',\n  xlinkActuate: 'xlink:actuate',\n  xlinkArcrole: 'xlink:arcrole',\n  xlinkHref: 'xlink:href',\n  xlinkRole: 'xlink:role',\n  xlinkShow: 'xlink:show',\n  xlinkTitle: 'xlink:title',\n  xlinkType: 'xlink:type',\n  xmlBase: 'xml:base',\n  xmlLang: 'xml:lang',\n  xmlSpace: 'xml:space',\n  xmlnsXlink: 'xmlns:xlink',\n} as const\n\n// From https://github.com/yoksel/url-encoder/blob/master/src/js/script.js\nconst SVGSymbols = /[\\r\\n%#()<>?[\\\\\\]^`{|}\"']/g\n\nfunction translateSVGNodeToSVGString(\n  node: ReactElement | string | (ReactElement | string)[],\n  inheritedColor: string\n): string {\n  if (!node) return ''\n  if (Array.isArray(node)) {\n    return node\n      .map((n) => translateSVGNodeToSVGString(n, inheritedColor))\n      .join('')\n  }\n  if (typeof node !== 'object') return String(node)\n\n  const type = node.type\n  if (type === 'text') {\n    throw new Error(\n      '<text> nodes are not currently supported, please convert them to <path>'\n    )\n  }\n\n  const { children, style, ...restProps } = node.props || {}\n  const currentColor = style?.color || inheritedColor\n\n  const attrs = `${Object.entries(restProps)\n    .map(([k, _v]) => {\n      if (typeof _v === 'string' && _v.toLowerCase() === 'currentcolor') {\n        _v = currentColor\n      }\n\n      if (k === 'href' && type === 'image') {\n        return ` ${ATTRIBUTE_MAPPING[k] || k}=\"${cache.get(_v as string)[0]}\"`\n      }\n      return ` ${ATTRIBUTE_MAPPING[k] || k}=\"${_v}\"`\n    })\n    .join('')}`\n\n  const styles = style\n    ? ` style=\"${Object.entries(style)\n        .map(([k, _v]) => `${midline(k)}:${_v}`)\n        .join(';')}\"`\n    : ''\n\n  return `<${type}${attrs}${styles}>${translateSVGNodeToSVGString(\n    children,\n    currentColor\n  )}</${type}>`\n}\n/**\n * pre process node and resolve absolute link to img data for image element\n * @param node ReactNode\n * @returns\n */\nexport async function preProcessNode(node: ReactNode) {\n  const set = new Set<string | Buffer | ArrayBuffer>()\n  const walk = (_node: ReactNode) => {\n    if (!_node) return\n    if (!isReactElement(_node)) return\n\n    if (Array.isArray(_node)) {\n      _node.forEach((v) => walk(v))\n      return\n    } else if (typeof _node === 'object') {\n      if (_node.type === 'image') {\n        if (set.has(_node.props.href)) {\n          // do nothing\n        } else {\n          set.add(_node.props.href)\n        }\n      } else if (_node.type === 'img') {\n        if (set.has(_node.props.src)) {\n          // do nothing\n        } else {\n          set.add(_node.props.src)\n        }\n      } else {\n        // do nothing\n      }\n    }\n\n    Array.isArray(_node.props.children)\n      ? _node.props.children.map((c) => walk(c))\n      : walk(_node.props.children)\n  }\n\n  walk(node)\n\n  return Promise.all(Array.from(set).map((s) => resolveImageData(s)))\n}\n\nexport async function SVGNodeToImage(\n  node: ReactElement,\n  inheritedColor: string\n): Promise<string> {\n  let {\n    viewBox,\n    viewbox,\n    width,\n    height,\n    className,\n    style,\n    children,\n    ...restProps\n  } = node.props || {}\n\n  viewBox ||= viewbox\n\n  // We directly assign the xmlns attribute here to deduplicate.\n  restProps.xmlns = 'http://www.w3.org/2000/svg'\n\n  const currentColor = style?.color || inheritedColor\n  const viewBoxSize = parseViewBox(viewBox)\n\n  // ratio = height / width\n  const ratio = viewBoxSize ? viewBoxSize[3] / viewBoxSize[2] : null\n  width = width || (ratio && height) ? height / ratio : null\n  height = height || (ratio && width) ? width * ratio : null\n\n  restProps.width = width\n  restProps.height = height\n  if (viewBox) restProps.viewBox = viewBox\n\n  return `data:image/svg+xml;utf8,${`<svg ${Object.entries(restProps)\n    .map(([k, _v]) => {\n      if (typeof _v === 'string' && _v.toLowerCase() === 'currentcolor') {\n        _v = currentColor\n      }\n      return ` ${ATTRIBUTE_MAPPING[k] || k}=\"${_v}\"`\n    })\n    .join('')}>${translateSVGNodeToSVGString(\n    children,\n    currentColor\n  )}</svg>`.replace(SVGSymbols, encodeURIComponent)}`\n}\n","/**\n * Pre-defined styles for elements. Here we hand pick some from Chromium's\n * default styles:\n * https://chromium.googlesource.com/chromium/blink/+/master/Source/core/css/html.css\n *\n * We try to only include commonly used, styling elements rather than semantic elements.\n */\n\nconst DEFAULT_DISPLAY = 'flex'\n\nexport default {\n  // Generic block-level elements\n  p: {\n    display: DEFAULT_DISPLAY,\n    marginTop: '1em',\n    marginBottom: '1em',\n  },\n  div: {\n    display: DEFAULT_DISPLAY,\n  },\n  blockquote: {\n    display: DEFAULT_DISPLAY,\n    marginTop: '1em',\n    marginBottom: '1em',\n    marginLeft: 40,\n    marginRight: 40,\n  },\n  center: {\n    display: DEFAULT_DISPLAY,\n    textAlign: 'center',\n  },\n  hr: {\n    display: DEFAULT_DISPLAY,\n    marginTop: '0.5em',\n    marginBottom: '0.5em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    borderWidth: 1,\n    // We don't have `inset`\n    borderStyle: 'solid',\n  },\n  // Heading elements\n  h1: {\n    display: DEFAULT_DISPLAY,\n    fontSize: '2em',\n    marginTop: '0.67em',\n    marginBottom: '0.67em',\n    marginLeft: 0,\n    marginRight: 0,\n    fontWeight: 'bold',\n  },\n  h2: {\n    display: DEFAULT_DISPLAY,\n    fontSize: '1.5em',\n    marginTop: '0.83em',\n    marginBottom: '0.83em',\n    marginLeft: 0,\n    marginRight: 0,\n    fontWeight: 'bold',\n  },\n  h3: {\n    display: DEFAULT_DISPLAY,\n    fontSize: '1.17em',\n    marginTop: '1em',\n    marginBottom: '1em',\n    marginLeft: 0,\n    marginRight: 0,\n    fontWeight: 'bold',\n  },\n  h4: {\n    display: DEFAULT_DISPLAY,\n    marginTop: '1.33em',\n    marginBottom: '1.33em',\n    marginLeft: 0,\n    marginRight: 0,\n    fontWeight: 'bold',\n  },\n  h5: {\n    display: DEFAULT_DISPLAY,\n    fontSize: '0.83em',\n    marginTop: '1.67em',\n    marginBottom: '1.67em',\n    marginLeft: 0,\n    marginRight: 0,\n    fontWeight: 'bold',\n  },\n  h6: {\n    display: DEFAULT_DISPLAY,\n    fontSize: '0.67em',\n    marginTop: '2.33em',\n    marginBottom: '2.33em',\n    marginLeft: 0,\n    marginRight: 0,\n    fontWeight: 'bold',\n  },\n  // Tables\n  // Lists\n  // Form elements\n  // Inline elements\n  u: {\n    textDecoration: 'underline',\n  },\n  strong: {\n    fontWeight: 'bold',\n  },\n  b: {\n    fontWeight: 'bold',\n  },\n  i: {\n    fontStyle: 'italic',\n  },\n  em: {\n    fontStyle: 'italic',\n  },\n  code: {\n    fontFamily: 'monospace',\n  },\n  kbd: {\n    fontFamily: 'monospace',\n  },\n  pre: {\n    display: DEFAULT_DISPLAY,\n    fontFamily: 'monospace',\n    whiteSpace: 'pre',\n    marginTop: '1em',\n    marginBottom: '1em',\n  },\n  mark: {\n    backgroundColor: 'yellow',\n    color: 'black',\n  },\n  big: {\n    fontSize: 'larger',\n  },\n  small: {\n    fontSize: 'smaller',\n  },\n  s: {\n    textDecoration: 'line-through',\n  },\n}\n","import { SerializedStyle } from './expand.js'\n\nconst list = new Set([\n  'color',\n  'font',\n  'fontFamily',\n  'fontSize',\n  'fontStyle',\n  'fontWeight',\n  'letterSpacing',\n  'lineHeight',\n  'textAlign',\n  'textTransform',\n  'textShadowOffset',\n  'textShadowColor',\n  'textShadowRadius',\n  'textDecorationLine',\n  'textDecorationStyle',\n  'textDecorationColor',\n  'whiteSpace',\n  'transform',\n  'wordBreak',\n  'tabSize',\n\n  // Special case: SVG doesn't apply these to children elements so we need to\n  // make it inheritable here.\n  'opacity',\n  'filter',\n\n  // Special properties of Satori:\n  '_viewportWidth',\n  '_viewportHeight',\n  '_inheritedClipPathId',\n  '_inheritedMaskId',\n  '_inheritedBackgroundClipTextPath',\n])\n\nexport default function inheritable(style: SerializedStyle): SerializedStyle {\n  const inheritedStyle: SerializedStyle = {}\n  for (const prop in style) {\n    if (list.has(prop)) {\n      inheritedStyle[prop] = style[prop]\n    }\n  }\n  return inheritedStyle\n}\n","/**\n * This module expands the CSS properties to get rid of shorthands, as well as\n * cleaning up some properties.\n */\n\nimport { getPropertyName, getStylesForProperty } from 'css-to-react-native'\nimport { parseElementStyle } from 'css-background-parser'\nimport { parse as parseBoxShadow } from 'css-box-shadow'\nimport cssColorParse from 'parse-css-color'\n\nimport CssDimension from '../vendor/parse-css-dimension/index.js'\nimport parseTransformOrigin, {\n  ParsedTransformOrigin,\n} from '../transform-origin.js'\nimport { isString, lengthToNumber, v, splitEffects } from '../utils.js'\nimport { MaskProperty, parseMask } from '../parser/mask.js'\nimport { FontWeight, FontStyle } from '../font.js'\n\n// https://react-cn.github.io/react/tips/style-props-value-px.html\nconst optOutPx = new Set([\n  'flex',\n  'flexGrow',\n  'flexShrink',\n  'flexBasis',\n  'fontWeight',\n  'lineHeight',\n  'opacity',\n  'scale',\n  'scaleX',\n  'scaleY',\n])\nconst keepNumber = new Set(['lineHeight'])\n\nfunction handleFallbackColor(\n  prop: string,\n  parsed: Record<string, string>,\n  rawInput: string,\n  currentColor: string\n) {\n  if (\n    prop === 'textDecoration' &&\n    !rawInput.includes(parsed.textDecorationColor)\n  ) {\n    parsed.textDecorationColor = currentColor\n  }\n  return parsed\n}\n\nfunction purify(name: string, value?: string | number) {\n  const num = Number(value)\n  if (isNaN(num)) return value\n  if (!optOutPx.has(name)) return num + 'px'\n  if (keepNumber.has(name)) return num\n  return String(value)\n}\n\nfunction handleSpecialCase(\n  name: string,\n  value: string | number,\n  currentColor: string\n) {\n  if (name === 'lineHeight') {\n    return { lineHeight: purify(name, value) }\n  }\n\n  if (name === 'fontFamily') {\n    return {\n      fontFamily: (value as string).split(',').map((_v) => {\n        return _v\n          .trim()\n          .replace(/(^['\"])|(['\"]$)/g, '')\n          .toLocaleLowerCase()\n      }),\n    }\n  }\n\n  if (name === 'borderRadius') {\n    if (typeof value !== 'string' || !value.includes('/')) {\n      // Regular border radius\n      return\n    }\n    // Support the `border-radius: 10px / 20px` syntax.\n    const [horizontal, vertical] = value.split('/')\n    const vh = getStylesForProperty(name, horizontal, true)\n    const vv = getStylesForProperty(name, vertical, true)\n    for (const k in vh) {\n      vv[k] = purify(name, vh[k]) + ' ' + purify(name, vv[k])\n    }\n    return vv\n  }\n\n  if (/^border(Top|Right|Bottom|Left)?$/.test(name)) {\n    const resolved = getStylesForProperty('border', value, true)\n\n    // Border width should be default to 3px (medium) instead of 1px:\n    // https://w3c.github.io/csswg-drafts/css-backgrounds-3/#border-width\n    // Although on Chrome it will be displayed as 1.5px but let's stick to the\n    // spec.\n    if (resolved.borderWidth === 1 && !String(value).includes('1px')) {\n      resolved.borderWidth = 3\n    }\n\n    // A trick to fix `border: 1px solid` to not use `black` but the inherited\n    // `color` value. This is necessary because css-to-react-native automatically\n    // fallbacks to default color values.\n    if (resolved.borderColor === 'black' && !String(value).includes('black')) {\n      resolved.borderColor = currentColor\n    }\n\n    const purified = {\n      Width: purify(name + 'Width', resolved.borderWidth),\n      Style: v(\n        resolved.borderStyle,\n        {\n          solid: 'solid',\n          dashed: 'dashed',\n        },\n        'solid',\n        name + 'Style'\n      ),\n      Color: resolved.borderColor,\n    }\n\n    const full = {}\n    for (const k of name === 'border'\n      ? ['Top', 'Right', 'Bottom', 'Left']\n      : [name.slice(6)]) {\n      for (const p in purified) {\n        full['border' + k + p] = purified[p]\n      }\n    }\n    return full\n  }\n\n  if (name === 'boxShadow') {\n    if (!value) {\n      throw new Error('Invalid `boxShadow` value: \"' + value + '\".')\n    }\n    return {\n      [name]: typeof value === 'string' ? parseBoxShadow(value) : value,\n    }\n  }\n\n  if (name === 'transform') {\n    if (typeof value !== 'string') throw new Error('Invalid `transform` value.')\n    // To support percentages in transform (which is not supported in RN), we\n    // replace them with random symbols and then replace them back after parsing.\n    const symbols = {}\n    const replaced = value.replace(/(-?[\\d.]+%)/g, (_, _v) => {\n      const symbol = ~~(Math.random() * 1e9)\n      symbols[symbol] = _v\n      return symbol + 'px'\n    })\n    const parsed = getStylesForProperty('transform', replaced, true)\n    for (const t of parsed.transform) {\n      for (const k in t) {\n        if (symbols[t[k]]) {\n          t[k] = symbols[t[k]]\n        }\n      }\n    }\n    return parsed\n  }\n\n  if (name === 'background') {\n    value = value.toString().trim()\n    if (/^(linear-gradient|radial-gradient|url)\\(/.test(value)) {\n      return getStylesForProperty('backgroundImage', value, true)\n    }\n    return getStylesForProperty('background', value, true)\n  }\n\n  if (name === 'textShadow') {\n    // Handle multiple text shadows if provided.\n    value = value.toString().trim()\n    const result = {}\n\n    const shadows = splitEffects(value)\n\n    for (const shadow of shadows) {\n      const styles = getStylesForProperty('textShadow', shadow, true)\n      for (const k in styles) {\n        if (!result[k]) {\n          result[k] = [styles[k]]\n        } else {\n          result[k].push(styles[k])\n        }\n      }\n    }\n\n    return result\n  }\n\n  return\n}\n\nfunction getErrorHint(name: string) {\n  if (name === 'transform') {\n    return ' Only absolute lengths such as `10px` are supported.'\n  }\n  return ''\n}\n\nconst RGB_SLASH = /rgb\\((\\d+)\\s+(\\d+)\\s+(\\d+)\\s*\\/\\s*([\\.\\d]+)\\)/\nfunction normalizeColor(value: string | object) {\n  if (typeof value === 'string') {\n    if (RGB_SLASH.test(value.trim())) {\n      // rgb(255 122 127 / .2) -> rgba(255, 122, 127, .2)\n      return value.trim().replace(RGB_SLASH, (_, r, g, b, a) => {\n        return `rgba(${r}, ${g}, ${b}, ${a})`\n      })\n    }\n  }\n\n  // Recursively normalize colors in arrays and objects.\n  if (typeof value === 'object' && value !== null) {\n    for (const k in value) {\n      value[k] = normalizeColor(value[k])\n    }\n    return value\n  }\n\n  return value\n}\n\ntype MainStyle = {\n  color: string\n  fontSize: number\n  transformOrigin: ParsedTransformOrigin\n  maskImage: MaskProperty[]\n  opacity: number\n  textTransform: string\n  whiteSpace: string\n  wordBreak: string\n  textAlign: string\n  lineHeight: number\n  letterSpacing: number\n\n  fontFamily: string | string[]\n  fontWeight: FontWeight\n  fontStyle: FontStyle\n\n  borderTopWidth: number\n  borderLeftWidth: number\n  borderRightWidth: number\n  borderBottomWidth: number\n\n  paddingTop: number\n  paddingLeft: number\n  paddingRight: number\n  paddingBottom: number\n\n  flexGrow: number\n  flexShrink: number\n\n  gap: number\n  rowGap: number\n  columnGap: number\n\n  textShadowOffset: {\n    width: number\n    height: number\n  }[]\n  textShadowColor: string[]\n  textShadowRadius: number[]\n}\n\ntype OtherStyle = Exclude<Record<PropertyKey, string | number>, keyof MainStyle>\n\nexport type SerializedStyle = Partial<MainStyle & OtherStyle>\n\nexport default function expand(\n  style: Record<string, string | number> | undefined,\n  inheritedStyle: SerializedStyle\n): SerializedStyle {\n  const serializedStyle: SerializedStyle = {}\n\n  if (style) {\n    const currentColor = getCurrentColor(\n      style.color as string,\n      inheritedStyle.color\n    )\n\n    serializedStyle.color = currentColor\n\n    for (const prop in style) {\n      // Internal properties.\n      if (prop.startsWith('_')) {\n        serializedStyle[prop] = style[prop]\n        continue\n      }\n\n      if (prop === 'color') {\n        continue\n      }\n\n      const name = getPropertyName(prop)\n      const value = preprocess(style[prop], currentColor)\n\n      try {\n        const resolvedStyle =\n          handleSpecialCase(name, value, currentColor) ||\n          handleFallbackColor(\n            name,\n            getStylesForProperty(name, purify(name, value), true),\n            value as string,\n            currentColor\n          )\n\n        Object.assign(serializedStyle, resolvedStyle)\n      } catch (err) {\n        throw new Error(\n          err.message +\n            // Attach the extra information of the rule itself if it's not included in\n            // the error message.\n            (err.message.includes(value)\n              ? '\\n  ' + getErrorHint(name)\n              : `\\n  in CSS rule \\`${name}: ${value}\\`.${getErrorHint(name)}`)\n        )\n      }\n    }\n  }\n\n  // Parse background images.\n  if (serializedStyle.backgroundImage) {\n    const { backgrounds } = parseElementStyle(serializedStyle)\n    serializedStyle.backgroundImage = backgrounds\n  }\n\n  if (serializedStyle.maskImage || serializedStyle['WebkitMaskImage']) {\n    serializedStyle.maskImage = parseMask(serializedStyle)\n  }\n\n  // Calculate the base font size.\n  const baseFontSize = calcBaseFontSize(\n    serializedStyle.fontSize,\n    inheritedStyle.fontSize\n  )\n  if (typeof serializedStyle.fontSize !== 'undefined') {\n    serializedStyle.fontSize = baseFontSize\n  }\n\n  if (serializedStyle.transformOrigin) {\n    serializedStyle.transformOrigin = parseTransformOrigin(\n      serializedStyle.transformOrigin as any,\n      baseFontSize\n    )\n  }\n\n  for (const prop in serializedStyle) {\n    let value = serializedStyle[prop]\n\n    // Line height needs to be relative.\n    if (prop === 'lineHeight') {\n      if (typeof value === 'string') {\n        value = serializedStyle[prop] =\n          lengthToNumber(\n            value,\n            baseFontSize,\n            baseFontSize,\n            inheritedStyle,\n            true\n          ) / baseFontSize\n      }\n    } else {\n      // Convert em and rem values to px (number).\n      if (typeof value === 'string') {\n        const len = lengthToNumber(\n          value,\n          baseFontSize,\n          baseFontSize,\n          inheritedStyle\n        )\n        if (typeof len !== 'undefined') serializedStyle[prop] = len\n        value = serializedStyle[prop]\n      }\n\n      if (typeof value === 'string' || typeof value === 'object') {\n        const color = normalizeColor(value)\n        if (color) {\n          serializedStyle[prop] = color as any\n        }\n        value = serializedStyle[prop]\n      }\n    }\n\n    // Inherit the opacity.\n    if (prop === 'opacity' && typeof value === 'number') {\n      serializedStyle.opacity = value * inheritedStyle.opacity\n    }\n\n    if (prop === 'transform') {\n      const transforms = value as any as { [type: string]: number | string }[]\n\n      for (const transform of transforms) {\n        const type = Object.keys(transform)[0]\n        const _v = transform[type]\n\n        // Convert em, rem, vw, vh values to px (number), but keep % values.\n        const len =\n          typeof _v === 'string'\n            ? lengthToNumber(_v, baseFontSize, baseFontSize, inheritedStyle) ??\n              _v\n            : _v\n        transform[type] = len\n      }\n    }\n\n    if (prop === 'textShadowRadius') {\n      const textShadowRadius = value as unknown as Array<number | string>\n\n      serializedStyle.textShadowRadius = textShadowRadius.map((_v) =>\n        lengthToNumber(_v, baseFontSize, 0, inheritedStyle, false)\n      )\n    }\n\n    if (prop === 'textShadowOffset') {\n      const textShadowOffset = value as unknown as Array<{\n        width: number | string\n        height: number | string\n      }>\n\n      serializedStyle.textShadowOffset = textShadowOffset.map(\n        ({ height, width }) => ({\n          height: lengthToNumber(\n            height,\n            baseFontSize,\n            0,\n            inheritedStyle,\n            false\n          ),\n          width: lengthToNumber(width, baseFontSize, 0, inheritedStyle, false),\n        })\n      )\n    }\n  }\n\n  return serializedStyle\n}\n\nfunction calcBaseFontSize(\n  size: number | string,\n  inheritedSize: number\n): number {\n  if (typeof size === 'number') return size\n\n  try {\n    const parsed = new CssDimension(size)\n    switch (parsed.unit) {\n      case 'em':\n        return parsed.value * inheritedSize\n      case 'rem':\n        return parsed.value * 16\n    }\n  } catch (err) {\n    return inheritedSize\n  }\n}\n\n/**\n * @see https://github.com/RazrFalcon/resvg/issues/579\n */\nfunction refineHSL(color: string) {\n  if (color.startsWith('hsl')) {\n    const t = cssColorParse(color)\n    const [h, s, l] = t.values\n\n    return `hsl(${[h, `${s}%`, `${l}%`]\n      .concat(t.alpha === 1 ? [] : [t.alpha])\n      .join(',')})`\n  }\n\n  return color\n}\n\nfunction getCurrentColor(\n  color: string | undefined,\n  inheritedColor: string\n): string {\n  if (color && color.toLowerCase() !== 'currentcolor') {\n    return refineHSL(color)\n  }\n\n  return refineHSL(inheritedColor)\n}\n\nfunction convertCurrentColorToActualValue(\n  value: string,\n  currentColor: string\n): string {\n  return value.replace(/currentcolor/gi, currentColor)\n}\n\nfunction preprocess(\n  value: string | number,\n  currentColor: string\n): string | number {\n  if (isString(value)) {\n    value = convertCurrentColorToActualValue(value, currentColor)\n  }\n\n  return value\n}\n","import valueParser from 'postcss-value-parser'\n\nimport CssDimension from './vendor/parse-css-dimension/index.js'\n\n/**\n * If key for each direction is missing, assume default (50%)\n */\nexport interface ParsedTransformOrigin {\n  /** Relative horizontal transform origin in % */\n  xRelative?: number\n  /** Relative vertical transform origin in % */\n  yRelative?: number\n  /** Absolute horizontal transform origin in pixels */\n  xAbsolute?: number\n  /** Absolute horizontal transform origin in pixels */\n  yAbsolute?: number\n}\n\ninterface ParsedUnit {\n  /** Relative unit in % */\n  relative?: number\n  /** Absolute unit in pixels */\n  absolute?: number\n}\n\nfunction parseUnit(word: string, baseFontSize: number): ParsedUnit {\n  try {\n    const parsed = new CssDimension(word)\n    switch (parsed.unit) {\n      case 'px':\n        return { absolute: parsed.value }\n      case 'em':\n        return { absolute: parsed.value * baseFontSize }\n      case 'rem':\n        return { absolute: parsed.value * 16 }\n      case '%':\n        return { relative: parsed.value }\n      default:\n        return {}\n    }\n  } catch (e) {\n    return {}\n  }\n}\n\nfunction handleWord(\n  word: string,\n  baseFontSize: number,\n  unitIsHorizontal: boolean\n) {\n  switch (word) {\n    case 'top':\n      return { yRelative: 0 }\n    case 'left':\n      return { xRelative: 0 }\n    case 'right':\n      return { xRelative: 100 }\n    case 'bottom':\n      return { yRelative: 100 }\n    case 'center':\n      return {}\n    default: {\n      const parsedUnit = parseUnit(word, baseFontSize)\n      return parsedUnit.absolute\n        ? {\n            [unitIsHorizontal ? 'xAbsolute' : 'yAbsolute']: parsedUnit.absolute,\n          }\n        : parsedUnit.relative\n        ? {\n            [unitIsHorizontal ? 'xRelative' : 'yRelative']: parsedUnit.relative,\n          }\n        : {}\n    }\n  }\n}\n\nexport default function parseTransformOrigin(\n  value: string | number,\n  baseFontSize: number\n): ParsedTransformOrigin {\n  // If it's a single value and a number, then it's horizontal\n  if (typeof value === 'number') {\n    return { xAbsolute: value }\n  }\n  let words: string[]\n  try {\n    words = valueParser(value)\n      .nodes.filter((node) => node.type === 'word')\n      .map((node) => node.value)\n  } catch (e) {\n    return {}\n  }\n\n  if (words.length === 1) {\n    // If it's a single value and a number, then it's horizontal, so\n    // pass `true` to `unitIsHorizontal`\n    return handleWord(words[0], baseFontSize, true)\n  } else if (words.length === 2) {\n    // Make words to be [horizontal, vertical]\n    if (\n      words[0] === 'top' ||\n      words[0] === 'bottom' ||\n      words[1] === 'left' ||\n      words[1] === 'right'\n    ) {\n      words.reverse()\n    }\n\n    return {\n      ...handleWord(words[0], baseFontSize, true),\n      ...handleWord(words[1], baseFontSize, false),\n    }\n  } else {\n    return {}\n  }\n}\n","import { getPropertyName } from 'css-to-react-native'\nimport { splitEffects } from '../utils.js'\n\nfunction getMaskProperty(style: Record<string, string | number>, name: string) {\n  const key = getPropertyName(`mask-${name}`)\n  return (style[key] || style[`WebkitM${key.substring(1)}`]) as string\n}\n\nexport interface MaskProperty {\n  image: string\n  position: string\n  size: string\n  repeat: string\n  origin: string\n  clip: string\n}\n\nexport function parseMask(\n  style: Record<string, string | number>\n): MaskProperty[] {\n  const maskImage = (style.maskImage || style.WebkitMaskImage) as string\n\n  const common = {\n    position: getMaskProperty(style, 'position') || '0% 0%',\n    size: getMaskProperty(style, 'size') || '100% 100%',\n    repeat: getMaskProperty(style, 'repeat') || 'repeat',\n    origin: getMaskProperty(style, 'origin') || 'border-box',\n    clip: getMaskProperty(style, 'origin') || 'border-box',\n  }\n\n  let maskImages = splitEffects(maskImage).filter((v) => v && v !== 'none')\n\n  return maskImages.reverse().map((m) => ({\n    image: m,\n    ...common,\n  }))\n}\n","/**\n * Handler to update the Yoga node properties with the given element type and\n * style. Each supported element has its own preset styles, so this function\n * also returns the inherited style for children of the element.\n */\n\nimport type { Node as YogaNode } from 'yoga-wasm-web'\n\nimport getYoga from '../yoga/index.js'\nimport presets from './presets.js'\nimport inheritable from './inheritable.js'\nimport expand, { SerializedStyle } from './expand.js'\nimport { lengthToNumber, parseViewBox, v } from '../utils.js'\nimport { resolveImageData } from './image.js'\n\ntype SatoriElement = keyof typeof presets\n\nexport default async function compute(\n  node: YogaNode,\n  type: SatoriElement | string,\n  inheritedStyle: SerializedStyle,\n  definedStyle: Record<string, string | number>,\n  props: Record<string, any>\n): Promise<[SerializedStyle, SerializedStyle]> {\n  const Yoga = await getYoga()\n\n  // Extend the default style with defined and inherited styles.\n  const style: SerializedStyle = {\n    ...inheritedStyle,\n    ...expand(presets[type], inheritedStyle),\n    ...expand(definedStyle, inheritedStyle),\n  }\n\n  if (type === 'img') {\n    let [resolvedSrc, imageWidth, imageHeight] = await resolveImageData(\n      props.src\n    )\n\n    // Cannot parse the image size (e.g. base64 data URI).\n    if (imageWidth === undefined && imageHeight === undefined) {\n      if (props.width === undefined || props.height === undefined) {\n        throw new Error(\n          'Image size cannot be determined. Please provide the width and height of the image.'\n        )\n      }\n      imageWidth = parseInt(props.width)\n      imageHeight = parseInt(props.height)\n    }\n    const r = imageHeight / imageWidth\n\n    // Before calculating the missing width or height based on the image ratio,\n    // we must subtract the padding and border due to how box model works.\n    // TODO: Ensure these are absolute length values, not relative values.\n    let extraHorizontal =\n      (style.borderLeftWidth || 0) +\n      (style.borderRightWidth || 0) +\n      (style.paddingLeft || 0) +\n      (style.paddingRight || 0)\n    let extraVertical =\n      (style.borderTopWidth || 0) +\n      (style.borderBottomWidth || 0) +\n      (style.paddingTop || 0) +\n      (style.paddingBottom || 0)\n\n    let contentBoxWidth = style.width || props.width\n    let contentBoxHeight = style.height || props.height\n\n    const isAbsoluteContentSize =\n      typeof contentBoxWidth === 'number' &&\n      typeof contentBoxHeight === 'number'\n\n    if (isAbsoluteContentSize) {\n      contentBoxWidth -= extraHorizontal\n      contentBoxHeight -= extraVertical\n    }\n\n    // When no content size is defined, we use the image size as the content size.\n    if (contentBoxWidth === undefined && contentBoxHeight === undefined) {\n      contentBoxWidth = '100%'\n      node.setAspectRatio(1 / r)\n    } else {\n      // If only one sisde is not defined, we can calculate the other one.\n      if (contentBoxWidth === undefined) {\n        if (typeof contentBoxHeight === 'number') {\n          contentBoxWidth = contentBoxHeight / r\n        } else {\n          // If it uses a relative value (e.g. 50%), we can rely on aspect ratio.\n          // Note: this doesn't work well if there are paddings or borders.\n          node.setAspectRatio(1 / r)\n        }\n      } else if (contentBoxHeight === undefined) {\n        if (typeof contentBoxWidth === 'number') {\n          contentBoxHeight = contentBoxWidth * r\n        } else {\n          // If it uses a relative value (e.g. 50%), we can rely on aspect ratio.\n          // Note: this doesn't work well if there are paddings or borders.\n          node.setAspectRatio(1 / r)\n        }\n      }\n    }\n\n    style.width = isAbsoluteContentSize\n      ? (contentBoxWidth as number) + extraHorizontal\n      : contentBoxWidth\n    style.height = isAbsoluteContentSize\n      ? (contentBoxHeight as number) + extraVertical\n      : contentBoxHeight\n    style.__src = resolvedSrc\n  }\n\n  if (type === 'svg') {\n    const viewBox = props.viewBox || props.viewbox\n    const viewBoxSize = parseViewBox(viewBox)\n    const ratio = viewBoxSize ? viewBoxSize[3] / viewBoxSize[2] : null\n\n    let { width, height } = props\n    if (typeof width === 'undefined' && height) {\n      if (ratio == null) {\n        width = 0\n      } else if (typeof height === 'string' && height.endsWith('%')) {\n        width = parseInt(height) / ratio + '%'\n      } else {\n        height = lengthToNumber(\n          height,\n          inheritedStyle.fontSize,\n          1,\n          inheritedStyle\n        )\n        width = height / ratio\n      }\n    } else if (typeof height === 'undefined' && width) {\n      if (ratio == null) {\n        width = 0\n      } else if (typeof width === 'string' && width.endsWith('%')) {\n        height = parseInt(width) * ratio + '%'\n      } else {\n        width = lengthToNumber(\n          width,\n          inheritedStyle.fontSize,\n          1,\n          inheritedStyle\n        )\n        height = width * ratio\n      }\n    } else {\n      if (typeof width !== 'undefined') {\n        width =\n          lengthToNumber(width, inheritedStyle.fontSize, 1, inheritedStyle) ||\n          width\n      }\n      if (typeof height !== 'undefined') {\n        height =\n          lengthToNumber(height, inheritedStyle.fontSize, 1, inheritedStyle) ||\n          height\n      }\n      width ||= viewBoxSize?.[2]\n      height ||= viewBoxSize?.[3]\n    }\n\n    if (!style.width && width) style.width = width\n    if (!style.height && height) style.height = height\n  }\n\n  // Set properties for Yoga.\n  node.setDisplay(\n    v(\n      style.display,\n      {\n        flex: Yoga.DISPLAY_FLEX,\n        block: Yoga.DISPLAY_FLEX,\n        none: Yoga.DISPLAY_NONE,\n        '-webkit-box': Yoga.DISPLAY_FLEX,\n      },\n      Yoga.DISPLAY_FLEX,\n      'display'\n    )\n  )\n\n  node.setAlignContent(\n    v(\n      style.alignContent,\n      {\n        stretch: Yoga.ALIGN_STRETCH,\n        center: Yoga.ALIGN_CENTER,\n        'flex-start': Yoga.ALIGN_FLEX_START,\n        'flex-end': Yoga.ALIGN_FLEX_END,\n        'space-between': Yoga.ALIGN_SPACE_BETWEEN,\n        'space-around': Yoga.ALIGN_SPACE_AROUND,\n        baseline: Yoga.ALIGN_BASELINE,\n        normal: Yoga.ALIGN_AUTO,\n      },\n      Yoga.ALIGN_AUTO,\n      'alignContent'\n    )\n  )\n\n  node.setAlignItems(\n    v(\n      style.alignItems,\n      {\n        stretch: Yoga.ALIGN_STRETCH,\n        center: Yoga.ALIGN_CENTER,\n        'flex-start': Yoga.ALIGN_FLEX_START,\n        'flex-end': Yoga.ALIGN_FLEX_END,\n        baseline: Yoga.ALIGN_BASELINE,\n        normal: Yoga.ALIGN_AUTO,\n      },\n      Yoga.ALIGN_STRETCH,\n      'alignItems'\n    )\n  )\n  node.setAlignSelf(\n    v(\n      style.alignSelf,\n      {\n        stretch: Yoga.ALIGN_STRETCH,\n        center: Yoga.ALIGN_CENTER,\n        'flex-start': Yoga.ALIGN_FLEX_START,\n        'flex-end': Yoga.ALIGN_FLEX_END,\n        baseline: Yoga.ALIGN_BASELINE,\n        normal: Yoga.ALIGN_AUTO,\n      },\n      Yoga.ALIGN_AUTO,\n      'alignSelf'\n    )\n  )\n  node.setJustifyContent(\n    v(\n      style.justifyContent,\n      {\n        center: Yoga.JUSTIFY_CENTER,\n        'flex-start': Yoga.JUSTIFY_FLEX_START,\n        'flex-end': Yoga.JUSTIFY_FLEX_END,\n        'space-between': Yoga.JUSTIFY_SPACE_BETWEEN,\n        'space-around': Yoga.JUSTIFY_SPACE_AROUND,\n      },\n      Yoga.JUSTIFY_FLEX_START,\n      'justifyContent'\n    )\n  )\n  // @TODO: node.setAspectRatio\n\n  node.setFlexDirection(\n    v(\n      style.flexDirection,\n      {\n        row: Yoga.FLEX_DIRECTION_ROW,\n        column: Yoga.FLEX_DIRECTION_COLUMN,\n        'row-reverse': Yoga.FLEX_DIRECTION_ROW_REVERSE,\n        'column-reverse': Yoga.FLEX_DIRECTION_COLUMN_REVERSE,\n      },\n      Yoga.FLEX_DIRECTION_ROW,\n      'flexDirection'\n    )\n  )\n  node.setFlexWrap(\n    v(\n      style.flexWrap,\n      {\n        wrap: Yoga.WRAP_WRAP,\n        nowrap: Yoga.WRAP_NO_WRAP,\n        'wrap-reverse': Yoga.WRAP_WRAP_REVERSE,\n      },\n      Yoga.WRAP_NO_WRAP,\n      'flexWrap'\n    )\n  )\n\n  if (typeof style.gap !== 'undefined') {\n    node.setGap(Yoga.GUTTER_ALL, style.gap)\n  }\n\n  if (typeof style.rowGap !== 'undefined') {\n    node.setGap(Yoga.GUTTER_ROW, style.rowGap)\n  }\n\n  if (typeof style.columnGap !== 'undefined') {\n    node.setGap(Yoga.GUTTER_COLUMN, style.columnGap)\n  }\n\n  // @TODO: node.setFlex\n\n  if (typeof style.flexBasis !== 'undefined') {\n    node.setFlexBasis(style.flexBasis)\n  }\n  node.setFlexGrow(typeof style.flexGrow === 'undefined' ? 0 : style.flexGrow)\n  node.setFlexShrink(\n    typeof style.flexShrink === 'undefined' ? 0 : style.flexShrink\n  )\n\n  if (typeof style.maxHeight !== 'undefined') {\n    node.setMaxHeight(style.maxHeight)\n  }\n  if (typeof style.maxWidth !== 'undefined') {\n    node.setMaxWidth(style.maxWidth)\n  }\n  if (typeof style.minHeight !== 'undefined') {\n    node.setMinHeight(style.minHeight)\n  }\n  if (typeof style.minWidth !== 'undefined') {\n    node.setMinWidth(style.minWidth)\n  }\n\n  node.setOverflow(\n    v(\n      style.overflow,\n      {\n        visible: Yoga.OVERFLOW_VISIBLE,\n        hidden: Yoga.OVERFLOW_HIDDEN,\n      },\n      Yoga.OVERFLOW_VISIBLE,\n      'overflow'\n    )\n  )\n\n  node.setMargin(Yoga.EDGE_TOP, style.marginTop || 0)\n  node.setMargin(Yoga.EDGE_BOTTOM, style.marginBottom || 0)\n  node.setMargin(Yoga.EDGE_LEFT, style.marginLeft || 0)\n  node.setMargin(Yoga.EDGE_RIGHT, style.marginRight || 0)\n\n  node.setBorder(Yoga.EDGE_TOP, style.borderTopWidth || 0)\n  node.setBorder(Yoga.EDGE_BOTTOM, style.borderBottomWidth || 0)\n  node.setBorder(Yoga.EDGE_LEFT, style.borderLeftWidth || 0)\n  node.setBorder(Yoga.EDGE_RIGHT, style.borderRightWidth || 0)\n\n  node.setPadding(Yoga.EDGE_TOP, style.paddingTop || 0)\n  node.setPadding(Yoga.EDGE_BOTTOM, style.paddingBottom || 0)\n  node.setPadding(Yoga.EDGE_LEFT, style.paddingLeft || 0)\n  node.setPadding(Yoga.EDGE_RIGHT, style.paddingRight || 0)\n\n  node.setPositionType(\n    v(\n      style.position,\n      {\n        absolute: Yoga.POSITION_TYPE_ABSOLUTE,\n        relative: Yoga.POSITION_TYPE_RELATIVE,\n      },\n      Yoga.POSITION_TYPE_RELATIVE,\n      'position'\n    )\n  )\n\n  if (typeof style.top !== 'undefined') {\n    node.setPosition(Yoga.EDGE_TOP, style.top)\n  }\n  if (typeof style.bottom !== 'undefined') {\n    node.setPosition(Yoga.EDGE_BOTTOM, style.bottom)\n  }\n  if (typeof style.left !== 'undefined') {\n    node.setPosition(Yoga.EDGE_LEFT, style.left)\n  }\n  if (typeof style.right !== 'undefined') {\n    node.setPosition(Yoga.EDGE_RIGHT, style.right)\n  }\n\n  if (typeof style.height !== 'undefined') {\n    node.setHeight(style.height)\n  } else {\n    node.setHeightAuto()\n  }\n  if (typeof style.width !== 'undefined') {\n    node.setWidth(style.width)\n  } else {\n    node.setWidthAuto()\n  }\n\n  return [style, inheritable(style)]\n}\n","import escapeHTML from 'escape-html'\nimport type { ParsedTransformOrigin } from '../transform-origin.js'\nimport transform from './transform.js'\nimport { buildXMLString } from '../utils.js'\n\nexport function container(\n  {\n    left,\n    top,\n    width,\n    height,\n    isInheritingTransform,\n  }: {\n    left: number\n    top: number\n    width: number\n    height: number\n    isInheritingTransform: boolean\n  },\n  style: Record<string, number | string>\n) {\n  let matrix = ''\n  let opacity = 1\n\n  if (style.transform) {\n    matrix = transform(\n      {\n        left,\n        top,\n        width,\n        height,\n      },\n      style.transform as unknown as number[],\n      isInheritingTransform,\n      style.transformOrigin as ParsedTransformOrigin | undefined\n    )\n  }\n\n  if (style.opacity !== undefined) {\n    opacity = +style.opacity\n  }\n\n  return { matrix, opacity }\n}\n\nexport default function buildText(\n  {\n    id,\n    content,\n    filter,\n    left,\n    top,\n    width,\n    height,\n    matrix,\n    opacity,\n    image,\n    clipPathId,\n    debug,\n    shape,\n    decorationShape,\n  }: {\n    content: string\n    filter: string\n    id: string\n    left: number\n    top: number\n    width: number\n    height: number\n    matrix: string\n    opacity: number\n    image: string | null\n    clipPathId?: string\n    debug?: boolean\n    shape?: boolean\n    decorationShape?: string\n  },\n  style: Record<string, number | string>\n) {\n  let extra = ''\n  if (debug) {\n    extra = buildXMLString('rect', {\n      x: left,\n      y: top - height,\n      width,\n      height,\n      fill: 'transparent',\n      stroke: '#575eff',\n      'stroke-width': 1,\n      transform: matrix || undefined,\n      'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n    })\n  }\n\n  // This grapheme should be rendered as an image.\n  if (image) {\n    const shapeProps = {\n      href: image,\n      x: left,\n      y: top,\n      width,\n      height,\n      transform: matrix || undefined,\n      'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n      style: style.filter ? `filter:${style.filter}` : undefined,\n    }\n    return [\n      (filter ? `${filter}<g filter=\"url(#satori_s-${id})\">` : '') +\n        buildXMLString('image', {\n          ...shapeProps,\n          opacity: opacity !== 1 ? opacity : undefined,\n        }) +\n        (decorationShape || '') +\n        (filter ? '</g>' : '') +\n        extra,\n      // SVG doesn't support `<image>` as the shape.\n      '',\n    ]\n  }\n\n  // Do not embed the font, use <text> with the raw content instead.\n  const shapeProps = {\n    x: left,\n    y: top,\n    width,\n    height,\n    'font-weight': style.fontWeight,\n    'font-style': style.fontStyle,\n    'font-size': style.fontSize,\n    'font-family': style.fontFamily,\n    'letter-spacing': style.letterSpacing || undefined,\n    transform: matrix || undefined,\n    'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n    style: style.filter ? `filter:${style.filter}` : undefined,\n  }\n  return [\n    (filter ? `${filter}<g filter=\"url(#satori_s-${id})\">` : '') +\n      buildXMLString(\n        'text',\n        {\n          ...shapeProps,\n          fill: style.color,\n          opacity: opacity !== 1 ? opacity : undefined,\n        },\n        escapeHTML(content)\n      ) +\n      (decorationShape || '') +\n      (filter ? '</g>' : '') +\n      extra,\n    shape ? buildXMLString('text', shapeProps, escapeHTML(content)) : '',\n  ]\n}\n","import { multiply } from '../utils.js'\nimport type { ParsedTransformOrigin } from '../transform-origin.js'\n\nconst baseMatrix = [1, 0, 0, 1, 0, 0]\n\n// Mutate the array in place.\nfunction resolveTransforms(transforms: any[], width: number, height: number) {\n  let matrix = [...baseMatrix]\n\n  // Handle CSS transforms To make it easier, we convert different transform\n  // types directly to a matrix and apply it recursively to all its children.\n  // Transforms are applied from right to left.\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  for (const transform of transforms) {\n    const type = Object.keys(transform)[0]\n    let v = transform[type]\n\n    // Resolve percentages based on the element's final size.\n    if (typeof v === 'string') {\n      if (type === 'translateX') {\n        v = (parseFloat(v) / 100) * width\n        // Override the original object.\n        transform[type] = v\n      } else if (type === 'translateY') {\n        v = (parseFloat(v) / 100) * height\n        transform[type] = v\n      } else {\n        throw new Error(`Invalid transform: \"${type}: ${v}\".`)\n      }\n    }\n\n    let len = v as number\n\n    const transformMatrix = [...baseMatrix]\n    switch (type) {\n      case 'translateX':\n        transformMatrix[4] = len\n        break\n      case 'translateY':\n        transformMatrix[5] = len\n        break\n      case 'scale':\n        transformMatrix[0] = len\n        transformMatrix[3] = len\n        break\n      case 'scaleX':\n        transformMatrix[0] = len\n        break\n      case 'scaleY':\n        transformMatrix[3] = len\n        break\n      case 'rotate': {\n        const rad = (len * Math.PI) / 180\n        const c = Math.cos(rad)\n        const s = Math.sin(rad)\n        transformMatrix[0] = c\n        transformMatrix[1] = s\n        transformMatrix[2] = -s\n        transformMatrix[3] = c\n        break\n      }\n      case 'skewX':\n        transformMatrix[2] = Math.tan((len * Math.PI) / 180)\n        break\n      case 'skewY':\n        transformMatrix[1] = Math.tan((len * Math.PI) / 180)\n        break\n    }\n    matrix = multiply(transformMatrix, matrix)\n  }\n\n  transforms.splice(0, transforms.length)\n  transforms.push(...matrix)\n  ;(transforms as any).__resolved = true\n}\n\nexport default function transform(\n  {\n    left,\n    top,\n    width,\n    height,\n  }: {\n    left: number\n    top: number\n    width: number\n    height: number\n  },\n  transforms: number[],\n  isInheritingTransform: boolean,\n  transformOrigin?: ParsedTransformOrigin\n) {\n  let result: number[]\n\n  if (!(transforms as any).__resolved) {\n    resolveTransforms(transforms, width, height)\n  }\n\n  let matrix = transforms\n\n  // Calculate the transform origin.\n  if (isInheritingTransform) {\n    result = matrix\n  } else {\n    const xOrigin =\n      transformOrigin?.xAbsolute ??\n      ((transformOrigin?.xRelative ?? 50) * width) / 100\n    const yOrigin =\n      transformOrigin?.yAbsolute ??\n      ((transformOrigin?.yRelative ?? 50) * height) / 100\n\n    // If this element is the transform target, we attach the origin coordinates\n    // to this matrix.\n    const x = left + xOrigin\n    const y = top + yOrigin\n\n    // Due to the different coordinate systems, we need to move the shape to the\n    // origin first, then apply the matrix, then move it back.\n    result = multiply(\n      [1, 0, 0, 1, x, y],\n      multiply(matrix, [1, 0, 0, 1, -x, -y])\n    )\n\n    // And we need to apply its parent transform if it has one.\n    if ((matrix as any).__parent) {\n      result = multiply((matrix as any).__parent, result)\n    }\n\n    // Mutate self.\n    matrix.splice(0, 6, ...result)\n  }\n\n  return `matrix(${result.map((v) => v.toFixed(2)).join(',')})`\n}\n","// @TODO: It seems that SVG filters are pretty expensive for resvg, PNG\n// generation time 10x'd when adding this filter (WASM in browser).\n// https://drafts.fxtf.org/filter-effects/#feGaussianBlurElement\n\nimport { buildXMLString } from '../utils.js'\n\nfunction shiftPath(path: string, dx: number, dy: number) {\n  return path.replace(\n    /([MA])([0-9.-]+),([0-9.-]+)/g,\n    function (_, command, x, y) {\n      return command + (parseFloat(x) + dx) + ',' + (parseFloat(y) + dy)\n    }\n  )\n}\n\n// The scale is used to make the filter area larger than the bounding box,\n// because usually the given measured text bounding is larger than the path\n// bounding.\n// The text bounding box is measured via the font metrics, which is not the same\n// as the actual content. For example, the text bounding box of \"A\" is larger\n// than the actual \"a\" path but they have the same font metrics.\n// This scale can be adjusted to prevent the filter from cutting off the text.\nconst SCALE = 1.1\n\nexport function buildDropShadow(\n  { id, width, height }: { id: string; width: number; height: number },\n  style: {\n    shadowColor: string[]\n    shadowOffset: {\n      width: number\n      height: number\n    }[]\n    shadowRadius: number[]\n  }\n) {\n  if (\n    !style.shadowColor ||\n    !style.shadowOffset ||\n    typeof style.shadowRadius === 'undefined'\n  ) {\n    return ''\n  }\n\n  const shadowCount = style.shadowColor.length\n  let effects = ''\n  let merge = ''\n\n  // There could be multiple shadows, we need to get the maximum bounding box\n  // and use `feMerge` to merge them together.\n  let left = 0\n  let right = width\n  let top = 0\n  let bottom = height\n  for (let i = 0; i < shadowCount; i++) {\n    // Expand the area for the filter to prevent it from cutting off.\n    const grow = (style.shadowRadius[i] * style.shadowRadius[i]) / 4\n    left = Math.min(style.shadowOffset[i].width - grow, left)\n    right = Math.max(style.shadowOffset[i].width + grow + width, right)\n    top = Math.min(style.shadowOffset[i].height - grow, top)\n    bottom = Math.max(style.shadowOffset[i].height + grow + height, bottom)\n\n    effects += buildXMLString('feDropShadow', {\n      dx: style.shadowOffset[i].width,\n      dy: style.shadowOffset[i].height,\n      stdDeviation:\n        // According to the spec, we use the half of the blur radius as the standard\n        // deviation for the filter.\n        // > the image that would be generated by applying to the shadow a Gaussian\n        // > blur with a standard deviation equal to half the blur radius\n        // > https://www.w3.org/TR/css-backgrounds-3/#shadow-blur\n        style.shadowRadius[i] / 2,\n      'flood-color': style.shadowColor[i],\n      'flood-opacity': 1,\n      ...(shadowCount > 1\n        ? {\n            in: 'SourceGraphic',\n            result: `satori_s-${id}-result-${i}`,\n          }\n        : {}),\n    })\n\n    if (shadowCount > 1) {\n      // Merge needs to be in reverse order.\n      merge =\n        buildXMLString('feMergeNode', {\n          in: `satori_s-${id}-result-${i}`,\n        }) + merge\n    }\n  }\n\n  return buildXMLString(\n    'filter',\n    {\n      id: `satori_s-${id}`,\n      x: ((left / width) * 100 * SCALE).toFixed(2) + '%',\n      y: ((top / height) * 100 * SCALE).toFixed(2) + '%',\n      width: (((right - left) / width) * 100 * SCALE).toFixed(2) + '%',\n      height: (((bottom - top) / height) * 100 * SCALE).toFixed(2) + '%',\n    },\n    effects + (merge ? buildXMLString('feMerge', {}, merge) : '')\n  )\n}\n\nexport function boxShadow(\n  {\n    width,\n    height,\n    shape,\n    opacity,\n    id,\n  }: {\n    width: number\n    height: number\n    shape: string\n    opacity: number\n    id: string\n  },\n  style: Record<string, any>\n) {\n  if (!style.boxShadow) return null\n\n  let shadow = ''\n  let innerShadow = ''\n\n  for (let i = style.boxShadow.length - 1; i >= 0; i--) {\n    let s = ''\n\n    const shadowStyle = style.boxShadow[i]\n\n    if (shadowStyle.spreadRadius && shadowStyle.inset) {\n      shadowStyle.spreadRadius = -shadowStyle.spreadRadius\n    }\n\n    // Expand the area for the filter to prevent it from cutting off.\n    const grow =\n      (shadowStyle.blurRadius * shadowStyle.blurRadius) / 4 +\n      (shadowStyle.spreadRadius || 0)\n\n    const left = Math.min(\n      -grow - (shadowStyle.inset ? shadowStyle.offsetX : 0),\n      0\n    )\n    const right = Math.max(\n      grow + width - (shadowStyle.inset ? shadowStyle.offsetX : 0),\n      width\n    )\n    const top = Math.min(\n      -grow - (shadowStyle.inset ? shadowStyle.offsetY : 0),\n      0\n    )\n    const bottom = Math.max(\n      grow + height - (shadowStyle.inset ? shadowStyle.offsetY : 0),\n      height\n    )\n\n    const sid = `satori_s-${id}-${i}`\n    const maskId = `satori_ms-${id}-${i}`\n    const shapeWithSpread = shadowStyle.spreadRadius\n      ? shape.replace(\n          'stroke-width=\"0\"',\n          `stroke-width=\"${shadowStyle.spreadRadius * 2}\"`\n        )\n      : shape\n\n    s += buildXMLString(\n      'mask',\n      {\n        id: maskId,\n        maskUnits: 'userSpaceOnUse',\n      },\n      buildXMLString('rect', {\n        x: 0,\n        y: 0,\n        width: style._viewportWidth || '100%',\n        height: style._viewportHeight || '100%',\n        fill: shadowStyle.inset ? '#000' : '#fff',\n      }) +\n        shapeWithSpread\n          .replace(\n            'fill=\"#fff\"',\n            shadowStyle.inset ? 'fill=\"#fff\"' : 'fill=\"#000\"'\n          )\n          .replace('stroke=\"#fff\"', '')\n    )\n\n    let finalShape = shapeWithSpread\n      .replace(/d=\"([^\"]+)\"/, (_, path) => {\n        return (\n          'd=\"' +\n          shiftPath(path, shadowStyle.offsetX, shadowStyle.offsetY) +\n          '\"'\n        )\n      })\n      .replace(/x=\"([^\"]+)\"/, (_, x) => {\n        return 'x=\"' + (parseFloat(x) + shadowStyle.offsetX) + '\"'\n      })\n      .replace(/y=\"([^\"]+)\"/, (_, y) => {\n        return 'y=\"' + (parseFloat(y) + shadowStyle.offsetY) + '\"'\n      })\n\n    // Negative spread radius, we need another mask here.\n    if (shadowStyle.spreadRadius && shadowStyle.spreadRadius < 0) {\n      s += buildXMLString(\n        'mask',\n        {\n          id: maskId + '-neg',\n          maskUnits: 'userSpaceOnUse',\n        },\n        finalShape\n          .replace('stroke=\"#fff\"', 'stroke=\"#000\"')\n          .replace(\n            /stroke-width=\"[^\"]+\"/,\n            `stroke-width=\"${-shadowStyle.spreadRadius * 2}\"`\n          )\n      )\n    }\n\n    if (shadowStyle.spreadRadius && shadowStyle.spreadRadius < 0) {\n      finalShape = buildXMLString(\n        'g',\n        {\n          mask: `url(#${maskId}-neg)`,\n        },\n        finalShape\n      )\n    }\n\n    s +=\n      buildXMLString(\n        'defs',\n        {},\n        buildXMLString(\n          'filter',\n          {\n            id: sid,\n            x: `${(left / width) * 100}%`,\n            y: `${(top / height) * 100}%`,\n            width: `${((right - left) / width) * 100}%`,\n            height: `${((bottom - top) / height) * 100}%`,\n          },\n          buildXMLString('feGaussianBlur', {\n            // According to the spec, we use the half of the blur radius as the standard\n            // deviation for the filter.\n            // > the image that would be generated by applying to the shadow a Gaussian\n            // > blur with a standard deviation equal to half the blur radius\n            // > https://www.w3.org/TR/css-backgrounds-3/#shadow-blur\n            stdDeviation: shadowStyle.blurRadius / 2,\n            result: 'b',\n          }) +\n            buildXMLString('feFlood', {\n              'flood-color': shadowStyle.color,\n              in: 'SourceGraphic',\n              result: 'f',\n            }) +\n            buildXMLString('feComposite', {\n              in: 'f',\n              in2: 'b',\n              operator: shadowStyle.inset ? 'out' : 'in',\n            })\n        )\n      ) +\n      buildXMLString(\n        'g',\n        {\n          mask: `url(#${maskId})`,\n          filter: `url(#${sid})`,\n          opacity: opacity,\n        },\n        finalShape\n      )\n\n    if (shadowStyle.inset) {\n      innerShadow += s\n    } else {\n      shadow += s\n    }\n  }\n\n  return [shadow, innerShadow]\n}\n","import { buildXMLString } from '../utils.js'\n\nexport default function buildDecoration(\n  {\n    width,\n    left,\n    top,\n    ascender,\n    clipPathId,\n  }: {\n    width: number\n    left: number\n    top: number\n    ascender: number\n    clipPathId?: string\n  },\n  style: Record<string, any>\n) {\n  const {\n    textDecorationColor,\n    textDecorationStyle,\n    textDecorationLine,\n    fontSize,\n    color,\n  } = style\n  if (!textDecorationLine || textDecorationLine === 'none') return ''\n\n  // The UA should use such font-based information when choosing auto line thicknesses wherever appropriate.\n  // https://drafts.csswg.org/css-text-decor-4/#text-decoration-thickness\n  const height = Math.max(1, fontSize * 0.1)\n\n  const y =\n    textDecorationLine === 'line-through'\n      ? top + ascender * 0.7\n      : textDecorationLine === 'underline'\n      ? top + ascender * 1.1\n      : top\n\n  const dasharray =\n    textDecorationStyle === 'dashed'\n      ? `${height * 1.2} ${height * 2}`\n      : textDecorationStyle === 'dotted'\n      ? `0 ${height * 2}`\n      : undefined\n\n  return buildXMLString('line', {\n    x1: left,\n    y1: y,\n    x2: left + width,\n    y2: y,\n    stroke: textDecorationColor || color,\n    'stroke-width': height,\n    'stroke-dasharray': dasharray,\n    'stroke-linecap': textDecorationStyle === 'dotted' ? 'round' : 'square',\n    'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n  })\n}\n","export function stringFromCode(code: string): string {\n  code = code.replace('U+', '0x')\n\n  return String.fromCodePoint(Number(code))\n}\n\nexport const Space = stringFromCode('U+0020')\nexport const Tab = stringFromCode('U+0009')\nexport const HorizontalEllipsis = stringFromCode('U+2026')\n","import { FontEngine } from '../font.js'\nimport { segment } from '../utils.js'\n\nexport function genMeasurer(\n  engine: FontEngine,\n  isImage: (grapheme: string) => boolean,\n  style: {\n    fontSize: number\n    letterSpacing: number\n  }\n): {\n  measureGrapheme: (grapheme: string) => number\n  measureGraphemeArray: (graphemes: string[]) => number\n  measureText: (text: string) => number\n} {\n  const { fontSize, letterSpacing } = style\n\n  const cache = new Map<string, number>()\n\n  function measureGrapheme(grapheme: string): number {\n    if (cache.has(grapheme)) {\n      return cache.get(grapheme)\n    }\n\n    const width = engine.measure(grapheme, { fontSize, letterSpacing })\n    cache.set(grapheme, width)\n\n    return width\n  }\n\n  function measureGraphemeArray(graphemes: string[]): number {\n    let width = 0\n\n    for (const grapheme of graphemes) {\n      if (isImage(grapheme)) {\n        width += fontSize\n      } else {\n        width += measureGrapheme(grapheme)\n      }\n    }\n\n    return width\n  }\n\n  function measureText(text: string): number {\n    return measureGraphemeArray(segment(text, 'grapheme'))\n  }\n\n  return {\n    measureGrapheme,\n    measureGraphemeArray,\n    measureText,\n  }\n}\n","import { Locale } from '../language.js'\nimport { isNumber, segment, splitByBreakOpportunities } from '../utils.js'\nimport { HorizontalEllipsis, Space } from './characters.js'\nimport { SerializedStyle } from '../handler/expand.js'\n\nexport function preprocess(\n  content: string,\n  style: SerializedStyle,\n  locale?: Locale\n): {\n  words: string[]\n  requiredBreaks: boolean[]\n  allowSoftWrap: boolean\n  allowBreakWord: boolean\n  processedContent: string\n  shouldCollapseTabsAndSpaces: boolean\n  lineLimit: number\n  blockEllipsis: string\n} {\n  const { textTransform, whiteSpace, wordBreak } = style\n\n  content = processTextTransform(content, textTransform, locale)\n\n  const {\n    content: processedContent,\n    shouldCollapseTabsAndSpaces,\n    allowSoftWrap,\n  } = processWhiteSpace(content, whiteSpace)\n\n  const { words, requiredBreaks, allowBreakWord } = processWordBreak(\n    processedContent,\n    wordBreak\n  )\n\n  const [lineLimit, blockEllipsis] = processTextOverflow(style, allowSoftWrap)\n\n  return {\n    words,\n    requiredBreaks,\n    allowSoftWrap,\n    allowBreakWord,\n    processedContent,\n    shouldCollapseTabsAndSpaces,\n    lineLimit,\n    blockEllipsis,\n  }\n}\n\nfunction processTextTransform(\n  content: string,\n  textTransform: string,\n  locale?: Locale\n): string {\n  if (textTransform === 'uppercase') {\n    content = content.toLocaleUpperCase(locale)\n  } else if (textTransform === 'lowercase') {\n    content = content.toLocaleLowerCase(locale)\n  } else if (textTransform === 'capitalize') {\n    content = segment(content, 'word', locale)\n      // For each word...\n      .map((word) => {\n        // ...split into graphemes...\n        return segment(word, 'grapheme', locale)\n          .map((grapheme, index) => {\n            // ...and make the first grapheme uppercase\n            return index === 0 ? grapheme.toLocaleUpperCase(locale) : grapheme\n          })\n          .join('')\n      })\n      .join('')\n  }\n\n  return content\n}\n\nfunction processTextOverflow(\n  style: SerializedStyle,\n  allowSoftWrap: boolean\n): [number, string?] {\n  const {\n    textOverflow,\n    lineClamp,\n    WebkitLineClamp,\n    WebkitBoxOrient,\n    overflow,\n    display,\n  } = style\n\n  if (display === 'block' && lineClamp) {\n    const [lineLimit, blockEllipsis = HorizontalEllipsis] =\n      parseLineClamp(lineClamp)\n    if (lineLimit) {\n      return [lineLimit, blockEllipsis]\n    }\n  }\n\n  if (\n    textOverflow === 'ellipsis' &&\n    display === '-webkit-box' &&\n    WebkitBoxOrient === 'vertical' &&\n    isNumber(WebkitLineClamp) &&\n    WebkitLineClamp > 0\n  ) {\n    return [WebkitLineClamp, HorizontalEllipsis]\n  }\n\n  if (textOverflow === 'ellipsis' && overflow === 'hidden' && !allowSoftWrap) {\n    return [1, HorizontalEllipsis]\n  }\n\n  return [Infinity]\n}\n\nfunction processWordBreak(\n  content,\n  wordBreak: string\n): { words: string[]; requiredBreaks: boolean[]; allowBreakWord: boolean } {\n  const allowBreakWord = ['break-all', 'break-word'].includes(wordBreak)\n\n  const { words, requiredBreaks } = splitByBreakOpportunities(\n    content,\n    wordBreak\n  )\n\n  return { words, requiredBreaks, allowBreakWord }\n}\n\nfunction processWhiteSpace(\n  content: string,\n  whiteSpace: string\n): {\n  content: string\n  shouldCollapseTabsAndSpaces: boolean\n  allowSoftWrap: boolean\n} {\n  const shouldKeepLinebreak = ['pre', 'pre-wrap', 'pre-line'].includes(\n    whiteSpace\n  )\n\n  const shouldCollapseTabsAndSpaces = ['normal', 'nowrap', 'pre-line'].includes(\n    whiteSpace\n  )\n\n  const allowSoftWrap = !['pre', 'nowrap'].includes(whiteSpace)\n\n  if (!shouldKeepLinebreak) {\n    content = content.replace(/\\n/g, Space)\n  }\n\n  if (shouldCollapseTabsAndSpaces) {\n    content = content.replace(/([ ]|\\t)+/g, Space).trim()\n  }\n\n  return { content, shouldCollapseTabsAndSpaces, allowSoftWrap }\n}\n\nfunction parseLineClamp(input: number | string): [number?, string?] {\n  if (typeof input === 'number') return [input]\n\n  const regex1 = /^(\\d+)\\s*\"(.*)\"$/\n  const regex2 = /^(\\d+)\\s*'(.*)'$/\n  const match1 = regex1.exec(input)\n  const match2 = regex2.exec(input)\n\n  if (match1) {\n    const number = +match1[1]\n    const text = match1[2]\n\n    return [number, text]\n  } else if (match2) {\n    const number = +match2[1]\n    const text = match2[2]\n\n    return [number, text]\n  }\n\n  return []\n}\n","/**\n * This module calculates the layout of a text string. Currently the only\n * supported inline node is text. All other nodes are using block layout.\n */\nimport type { LayoutContext } from '../layout.js'\nimport type { Yoga } from 'yoga-wasm-web'\nimport getYoga from '../yoga/index.js'\nimport {\n  v,\n  segment,\n  wordSeparators,\n  buildXMLString,\n  isUndefined,\n  isString,\n  lengthToNumber,\n} from '../utils.js'\nimport buildText, { container } from '../builder/text.js'\nimport { buildDropShadow } from '../builder/shadow.js'\nimport buildDecoration from '../builder/text-decoration.js'\nimport { Locale } from '../language.js'\nimport { HorizontalEllipsis, Space, Tab } from './characters.js'\nimport { genMeasurer } from './measurer.js'\nimport { preprocess } from './processor.js'\n\nconst skippedWordWhenFindingMissingFont = new Set([Tab])\n\nfunction shouldSkipWhenFindingMissingFont(word: string): boolean {\n  return skippedWordWhenFindingMissingFont.has(word)\n}\n\nexport default async function* buildTextNodes(\n  content: string,\n  context: LayoutContext\n): AsyncGenerator<{ word: string; locale?: Locale }[], string, [any, any]> {\n  const Yoga = await getYoga()\n\n  const {\n    parentStyle,\n    inheritedStyle,\n    parent,\n    font,\n    id,\n    isInheritingTransform,\n    debug,\n    embedFont,\n    graphemeImages,\n    locale,\n    canLoadAdditionalAssets,\n  } = context\n\n  const {\n    textAlign,\n    lineHeight,\n    textWrap,\n    fontSize,\n    filter: cssFilter,\n    tabSize = 8,\n    letterSpacing,\n    _inheritedBackgroundClipTextPath,\n    flexShrink,\n  } = parentStyle\n\n  const {\n    words,\n    requiredBreaks,\n    allowSoftWrap,\n    allowBreakWord,\n    processedContent,\n    shouldCollapseTabsAndSpaces,\n    lineLimit,\n    blockEllipsis,\n  } = preprocess(content, parentStyle, locale)\n\n  const textContainer = createTextContainerNode(Yoga, textAlign)\n  parent.insertChild(textContainer, parent.getChildCount())\n\n  if (isUndefined(flexShrink)) {\n    parent.setFlexShrink(1)\n  }\n\n  // Get the correct font according to the container style.\n  // https://www.w3.org/TR/CSS2/visudet.html\n  let engine = font.getEngine(fontSize, lineHeight, parentStyle, locale)\n\n  // Yield segments that are missing a font.\n  const wordsMissingFont = canLoadAdditionalAssets\n    ? segment(processedContent, 'grapheme').filter(\n        (word) => !shouldSkipWhenFindingMissingFont(word) && !engine.has(word)\n      )\n    : []\n\n  yield wordsMissingFont.map((word) => {\n    return {\n      word,\n      locale,\n    }\n  })\n\n  if (wordsMissingFont.length) {\n    // Reload the engine with additional fonts.\n    engine = font.getEngine(fontSize, lineHeight, parentStyle, locale)\n  }\n\n  function isImage(s: string): boolean {\n    return !!(graphemeImages && graphemeImages[s])\n  }\n\n  const { measureGrapheme, measureGraphemeArray, measureText } = genMeasurer(\n    engine,\n    isImage,\n    {\n      fontSize,\n      letterSpacing,\n    }\n  )\n\n  const tabWidth = isString(tabSize)\n    ? lengthToNumber(tabSize, fontSize, 1, parentStyle)\n    : measureGrapheme(Space) * tabSize\n\n  const calc = (\n    text: string,\n    currentWidth: number\n  ): {\n    originWidth: number\n    endingSpacesWidth: number\n    text: string\n  } => {\n    if (text.length === 0) {\n      return {\n        originWidth: 0,\n        endingSpacesWidth: 0,\n        text,\n      }\n    }\n\n    const { index, tabCount } = detectTabs(text)\n\n    let originWidth = 0\n\n    if (tabCount > 0) {\n      const textBeforeTab = text.slice(0, index)\n      const textAfterTab = text.slice(index + tabCount)\n      const textWidthBeforeTab = measureText(textBeforeTab)\n      const offsetBeforeTab = textWidthBeforeTab + currentWidth\n      const tabMoveDistance =\n        tabWidth === 0\n          ? textWidthBeforeTab\n          : (Math.floor(offsetBeforeTab / tabWidth) + tabCount) * tabWidth\n      originWidth = tabMoveDistance + measureText(textAfterTab)\n    } else {\n      originWidth = measureText(text)\n    }\n\n    const afterTrimEndWidth =\n      text.trimEnd() === text ? originWidth : measureText(text.trimEnd())\n\n    return {\n      originWidth,\n      endingSpacesWidth: originWidth - afterTrimEndWidth,\n      text,\n    }\n  }\n\n  // Global variables used to compute the text layout.\n  // @TODO: Use segments instead of words to properly support kerning.\n  let lineWidths = []\n  let baselines = []\n  let lineSegmentNumber = []\n  let texts: string[] = []\n  let wordPositionInLayout: (null | {\n    x: number\n    y: number\n    width: number\n    line: number\n    lineIndex: number\n    isImage: boolean\n  })[] = []\n\n  // With the given container width, compute the text layout.\n  function flow(width: number) {\n    let lines = 0\n    let maxWidth = 0\n    let lineIndex = -1\n    let height = 0\n    let currentWidth = 0\n    let currentLineHeight = 0\n    let currentBaselineOffset = 0\n\n    lineWidths = []\n    lineSegmentNumber = [0]\n    texts = []\n    wordPositionInLayout = []\n\n    // We naively implement the width calculation without proper kerning.\n    // @TODO: Support different writing modes.\n    // @TODO: Support RTL languages.\n    let i = 0\n    let prevLineEndingSpacesWidth = 0\n    while (i < words.length && lines < lineLimit) {\n      let word = words[i]\n      const forceBreak = requiredBreaks[i]\n\n      let w = 0\n\n      const {\n        originWidth,\n        endingSpacesWidth,\n        text: _word,\n      } = calc(word, currentWidth)\n      word = _word\n\n      w = originWidth\n      const lineEndingSpacesWidth = endingSpacesWidth\n\n      // When starting a new line from an empty line, we should push one extra\n      // line height.\n      if (forceBreak && currentLineHeight === 0) {\n        currentLineHeight = engine.height(word)\n      }\n\n      const allowedToPutAtBeginning = ',.!?:-@)>]}%#'.indexOf(word[0]) < 0\n      const allowedToJustify = !currentWidth\n\n      const willWrap =\n        i &&\n        allowedToPutAtBeginning &&\n        // When determining whether a line break is necessary, the width of the\n        // trailing spaces is not included in the calculation, as the end boundary\n        // can be closely adjacent to the last non-space character.\n        // e.g.\n        // 'aaa bbb ccc'\n        // When the break line happens at the end of the `bbb`, what we see looks like this\n        // |aaa bbb|\n        // |ccc    |\n        currentWidth + w > width + lineEndingSpacesWidth &&\n        allowSoftWrap\n\n      // Need to break the word if:\n      // - we have break-word\n      // - the word is wider than the container width\n      // - the word will be put at the beginning of the line\n      const needToBreakWord =\n        allowBreakWord && w > width && (!currentWidth || willWrap || forceBreak)\n\n      if (needToBreakWord) {\n        // Break the word into multiple segments and continue the loop.\n        const chars = segment(word, 'grapheme')\n        words.splice(i, 1, ...chars)\n        if (currentWidth > 0) {\n          // Start a new line, spaces can be ignored.\n          lineWidths.push(currentWidth - prevLineEndingSpacesWidth)\n          baselines.push(currentBaselineOffset)\n          lines++\n          height += currentLineHeight\n          currentWidth = 0\n          currentLineHeight = 0\n          currentBaselineOffset = 0\n          lineSegmentNumber.push(1)\n          lineIndex = -1\n        }\n        prevLineEndingSpacesWidth = lineEndingSpacesWidth\n        continue\n      }\n      if (forceBreak || willWrap) {\n        // Start a new line, spaces can be ignored.\n        // @TODO Lack of support for Japanese spacing\n        if (shouldCollapseTabsAndSpaces && word === Space) {\n          w = 0\n        }\n\n        lineWidths.push(currentWidth - prevLineEndingSpacesWidth)\n        baselines.push(currentBaselineOffset)\n        lines++\n        height += currentLineHeight\n        currentWidth = w\n        currentLineHeight = w ? engine.height(word) : 0\n        currentBaselineOffset = w ? engine.baseline(word) : 0\n        lineSegmentNumber.push(1)\n        lineIndex = -1\n\n        // If it's naturally broken, we update the max width.\n        // Since if there are multiple lines, the width should fit the\n        // container.\n        if (!forceBreak) {\n          maxWidth = Math.max(maxWidth, width)\n        }\n      } else {\n        // It fits into the current line.\n        currentWidth += w\n        const glyphHeight = engine.height(word)\n        if (glyphHeight > currentLineHeight) {\n          // Use the baseline of the highest segment as the baseline of the line.\n          currentLineHeight = glyphHeight\n          currentBaselineOffset = engine.baseline(word)\n        }\n        if (allowedToJustify) {\n          lineSegmentNumber[lineSegmentNumber.length - 1]++\n        }\n      }\n\n      if (allowedToJustify) {\n        lineIndex++\n      }\n\n      maxWidth = Math.max(maxWidth, currentWidth)\n\n      let x = currentWidth - w\n\n      if (w === 0) {\n        wordPositionInLayout.push({\n          y: height,\n          x,\n          width: 0,\n          line: lines,\n          lineIndex,\n          isImage: false,\n        })\n      } else {\n        const _texts = segment(word, 'word')\n\n        for (let j = 0; j < _texts.length; j++) {\n          const _text = _texts[j]\n          let _width = 0\n          let _isImage = false\n\n          if (isImage(_text)) {\n            _width = fontSize\n            _isImage = true\n          } else {\n            _width = measureGrapheme(_text)\n          }\n\n          texts.push(_text)\n          wordPositionInLayout.push({\n            y: height,\n            x,\n            width: _width,\n            line: lines,\n            lineIndex,\n            isImage: _isImage,\n          })\n\n          x += _width\n        }\n      }\n\n      i++\n      prevLineEndingSpacesWidth = lineEndingSpacesWidth\n    }\n\n    if (currentWidth) {\n      if (lines < lineLimit) {\n        height += currentLineHeight\n      }\n      lines++\n      lineWidths.push(currentWidth)\n      baselines.push(currentBaselineOffset)\n    }\n\n    // @TODO: Support `line-height`.\n    return { width: maxWidth, height }\n  }\n\n  // It's possible that the text's measured size is different from the container's\n  // size, because the container might have a fixed width or height or being\n  // expanded by its parent.\n  let measuredTextSize = { width: 0, height: 0 }\n  textContainer.setMeasureFunc((containerWidth) => {\n    const { width, height } = flow(containerWidth)\n\n    // When doing `text-wrap: balance`, we reflow the text multiple times\n    // using binary search to find the best width.\n    // https://www.w3.org/TR/css-text-4/#valdef-text-wrap-balance\n    if (textWrap === 'balance') {\n      let l = width / 2\n      let r = width\n      let m: number = width\n      while (l + 1 < r) {\n        m = (l + r) / 2\n        const { height: mHeight } = flow(m)\n        if (mHeight > height) {\n          l = m\n        } else {\n          r = m\n        }\n      }\n      flow(r)\n      const _width = Math.ceil(r)\n      measuredTextSize = { width: _width, height }\n      return { width: _width, height }\n    }\n    const _width = Math.ceil(width)\n    measuredTextSize = { width: _width, height }\n    // This may be a temporary fix, I didn't dig deep into yoga.\n    // But when the return value of width here doesn't change (assuming the value of width is 216.9),\n    // when we later get the width through `parent.getComputedWidth()`, sometimes it returns 216 and sometimes 217.\n    // I'm not sure if this is a yoga bug, but it seems related to the entire page width.\n    // So I use Math.ceil.\n    return { width: _width, height }\n  })\n\n  const [x, y] = yield\n\n  let result = ''\n  let backgroundClipDef = ''\n\n  const clipPathId = inheritedStyle._inheritedClipPathId as string | undefined\n  const overflowMaskId = inheritedStyle._inheritedMaskId as number | undefined\n\n  const {\n    left: containerLeft,\n    top: containerTop,\n    width: containerWidth,\n    height: containerHeight,\n  } = textContainer.getComputedLayout()\n\n  const parentContainerInnerWidth =\n    parent.getComputedWidth() -\n    parent.getComputedPadding(Yoga.EDGE_LEFT) -\n    parent.getComputedPadding(Yoga.EDGE_RIGHT) -\n    parent.getComputedBorder(Yoga.EDGE_LEFT) -\n    parent.getComputedBorder(Yoga.EDGE_RIGHT)\n\n  // Attach offset to the current node.\n  const left = x + containerLeft\n  const top = y + containerTop\n\n  const { matrix, opacity } = container(\n    {\n      left: containerLeft,\n      top: containerTop,\n      width: containerWidth,\n      height: containerHeight,\n      isInheritingTransform,\n    },\n    parentStyle\n  )\n\n  let filter = ''\n  if (parentStyle.textShadowOffset) {\n    const { textShadowColor, textShadowOffset, textShadowRadius } = parentStyle\n\n    filter = buildDropShadow(\n      {\n        width: measuredTextSize.width,\n        height: measuredTextSize.height,\n        id,\n      },\n      {\n        shadowColor: textShadowColor,\n        shadowOffset: textShadowOffset,\n        shadowRadius: textShadowRadius,\n      }\n    )\n\n    filter = buildXMLString('defs', {}, filter)\n  }\n\n  let decorationShape = ''\n  let mergedPath = ''\n  let extra = ''\n  let skippedLine = -1\n  let decorationLines: Record<number, null | number[]> = {}\n  let wordBuffer: string | null = null\n  let bufferedOffset = 0\n\n  for (let i = 0; i < texts.length; i++) {\n    // Skip whitespace and empty characters.\n    const layout = wordPositionInLayout[i]\n    const nextLayout = wordPositionInLayout[i + 1]\n\n    if (!layout) continue\n\n    let text = texts[i]\n    let path: string | null = null\n    let isLastDisplayedBeforeEllipsis = false\n\n    const image = graphemeImages ? graphemeImages[text] : null\n\n    let topOffset = layout.y\n    let leftOffset = layout.x\n    const width = layout.width\n    const line = layout.line\n\n    if (line === skippedLine) {\n      continue\n    }\n\n    // When `text-align` is `justify`, the width of the line will be adjusted.\n    let extendedWidth = false\n\n    if (lineWidths.length > 1) {\n      // Calculate alignment. Note that for Flexbox, there is only text\n      // alignment when the container is multi-line.\n      const remainingWidth = containerWidth - lineWidths[line]\n      if (textAlign === 'right' || textAlign === 'end') {\n        leftOffset += remainingWidth\n      } else if (textAlign === 'center') {\n        leftOffset += remainingWidth / 2\n      } else if (textAlign === 'justify') {\n        // Don't justify the last line.\n        if (line < lineWidths.length - 1) {\n          const segments = lineSegmentNumber[line]\n          const gutter = segments > 1 ? remainingWidth / (segments - 1) : 0\n          leftOffset += gutter * layout.lineIndex\n          extendedWidth = true\n        }\n      }\n    }\n\n    const baselineOfLine = baselines[line]\n    const baselineOfWord = engine.baseline(text)\n    const heightOfWord = engine.height(text)\n    const baselineDelta = baselineOfLine - baselineOfWord\n\n    if (!decorationLines[line]) {\n      decorationLines[line] = [\n        leftOffset,\n        top + topOffset + baselineDelta,\n        baselineOfWord,\n        extendedWidth ? containerWidth : lineWidths[line],\n      ]\n    }\n\n    if (lineLimit !== Infinity) {\n      let _blockEllipsis = blockEllipsis\n      let ellipsisWidth = measureGrapheme(blockEllipsis)\n      if (ellipsisWidth > parentContainerInnerWidth) {\n        _blockEllipsis = HorizontalEllipsis\n        ellipsisWidth = measureGrapheme(_blockEllipsis)\n      }\n      const spaceWidth = measureGrapheme(Space)\n      const isNotLastLine = line < lineWidths.length - 1\n      const isLastAllowedLine = line + 1 === lineLimit\n\n      function calcEllipsis(baseWidth: number, _text: string) {\n        const chars = segment(_text, 'grapheme', locale)\n\n        let subset = ''\n        let resolvedWidth = 0\n\n        for (const char of chars) {\n          const w = baseWidth + measureGraphemeArray([subset + char])\n          if (\n            // Keep at least one character:\n            // > The first character or atomic inline-level element on a line\n            // must be clipped rather than ellipsed.\n            // https://drafts.csswg.org/css-overflow/#text-overflow\n            subset &&\n            w + ellipsisWidth > parentContainerInnerWidth\n          ) {\n            break\n          }\n          subset += char\n          resolvedWidth = w\n        }\n\n        return {\n          subset,\n          resolvedWidth,\n        }\n      }\n\n      if (\n        isLastAllowedLine &&\n        (isNotLastLine || lineWidths[line] > parentContainerInnerWidth)\n      ) {\n        if (\n          leftOffset + width + ellipsisWidth + spaceWidth >\n          parentContainerInnerWidth\n        ) {\n          const { subset, resolvedWidth } = calcEllipsis(leftOffset, text)\n\n          text = subset + _blockEllipsis\n          skippedLine = line\n          decorationLines[line][2] = resolvedWidth\n          isLastDisplayedBeforeEllipsis = true\n        } else if (nextLayout && nextLayout.line !== line) {\n          if (textAlign === 'center') {\n            const { subset, resolvedWidth } = calcEllipsis(leftOffset, text)\n\n            text = subset + _blockEllipsis\n            skippedLine = line\n            decorationLines[line][2] = resolvedWidth\n            isLastDisplayedBeforeEllipsis = true\n          } else {\n            const nextLineText = texts[i + 1]\n\n            const { subset, resolvedWidth } = calcEllipsis(\n              width + leftOffset,\n              nextLineText\n            )\n\n            text = text + subset + _blockEllipsis\n            skippedLine = line\n            decorationLines[line][2] = resolvedWidth\n            isLastDisplayedBeforeEllipsis = true\n          }\n        }\n      }\n    }\n\n    if (image) {\n      // For images, we remove the baseline offset.\n      topOffset += 0\n    } else if (embedFont) {\n      // If the current word and the next word are on the same line, we try to\n      // merge them together to better handle the kerning.\n      if (\n        !text.includes(Tab) &&\n        !wordSeparators.includes(text) &&\n        texts[i + 1] &&\n        nextLayout &&\n        !nextLayout.isImage &&\n        topOffset === nextLayout.y &&\n        !isLastDisplayedBeforeEllipsis\n      ) {\n        if (wordBuffer === null) {\n          bufferedOffset = leftOffset\n        }\n        wordBuffer = wordBuffer === null ? text : wordBuffer + text\n        continue\n      }\n\n      const finalizedSegment = wordBuffer === null ? text : wordBuffer + text\n      const finalizedLeftOffset =\n        wordBuffer === null ? leftOffset : bufferedOffset\n      const finalizedWidth = layout.width + leftOffset - finalizedLeftOffset\n\n      path = engine.getSVG(finalizedSegment.replace(/(\\t)+/g, ''), {\n        fontSize,\n        left: left + finalizedLeftOffset,\n        // Since we need to pass the baseline position, add the ascender to the top.\n        top: top + topOffset + baselineOfWord + baselineDelta,\n        letterSpacing,\n      })\n\n      wordBuffer = null\n\n      if (debug) {\n        extra +=\n          // Glyph\n          buildXMLString('rect', {\n            x: left + finalizedLeftOffset,\n            y: top + topOffset + baselineDelta,\n            width: finalizedWidth,\n            height: heightOfWord,\n            fill: 'transparent',\n            stroke: '#575eff',\n            'stroke-width': 1,\n            transform: matrix ? matrix : undefined,\n            'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n          }) +\n          // Baseline\n          buildXMLString('line', {\n            x1: left + leftOffset,\n            x2: left + leftOffset + layout.width,\n            y1: top + topOffset + baselineDelta + baselineOfWord,\n            y2: top + topOffset + baselineDelta + baselineOfWord,\n            stroke: '#14c000',\n            'stroke-width': 1,\n            transform: matrix ? matrix : undefined,\n            'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n          })\n      }\n    } else {\n      // We need manually add the font ascender height to ensure it starts\n      // at the baseline because <text>'s alignment baseline is set to `hanging`\n      // by default and supported to change in SVG 1.1.\n      topOffset += baselineOfWord + baselineDelta\n    }\n\n    // Get the decoration shape.\n    if (parentStyle.textDecorationLine) {\n      const deco = decorationLines[line]\n      if (deco && !deco[4]) {\n        decorationShape += buildDecoration(\n          {\n            left: left + deco[0],\n            top: deco[1],\n            width: deco[3],\n            ascender: deco[2],\n            clipPathId,\n          },\n          parentStyle\n        )\n        deco[4] = 1\n      }\n    }\n\n    if (path !== null) {\n      mergedPath += path + ' '\n    } else {\n      const [t, shape] = buildText(\n        {\n          content: text,\n          filter,\n          id,\n          left: left + leftOffset,\n          top: top + topOffset,\n          width,\n          height: heightOfWord,\n          matrix,\n          opacity,\n          image,\n          clipPathId,\n          debug,\n          shape: !!_inheritedBackgroundClipTextPath,\n          decorationShape,\n        },\n        parentStyle\n      )\n      result += t\n      backgroundClipDef += shape\n      decorationShape = ''\n    }\n\n    if (isLastDisplayedBeforeEllipsis) {\n      break\n    }\n  }\n\n  // Embed the font as path.\n  if (mergedPath) {\n    const p =\n      parentStyle.color !== 'transparent' && opacity !== 0\n        ? buildXMLString('path', {\n            fill: parentStyle.color,\n            d: mergedPath,\n            transform: matrix ? matrix : undefined,\n            opacity: opacity !== 1 ? opacity : undefined,\n            'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n            mask: overflowMaskId ? `url(#${overflowMaskId})` : undefined,\n\n            style: cssFilter ? `filter:${cssFilter}` : undefined,\n          })\n        : ''\n\n    if (_inheritedBackgroundClipTextPath) {\n      backgroundClipDef = buildXMLString('path', {\n        d: mergedPath,\n        transform: matrix ? matrix : undefined,\n      })\n    }\n\n    result +=\n      (filter\n        ? filter +\n          buildXMLString(\n            'g',\n            { filter: `url(#satori_s-${id})` },\n            p + decorationShape\n          )\n        : p + decorationShape) + extra\n  }\n\n  // Attach information to the parent node.\n  if (backgroundClipDef) {\n    ;(parentStyle._inheritedBackgroundClipTextPath as any).value +=\n      backgroundClipDef\n  }\n\n  return result\n}\n\nfunction createTextContainerNode(\n  Yoga: Yoga,\n  textAlign: string\n): ReturnType<Yoga['Node']['create']> {\n  // Create a container node for this text fragment.\n  const textContainer = Yoga.Node.create()\n  textContainer.setAlignItems(Yoga.ALIGN_BASELINE)\n  textContainer.setJustifyContent(\n    v(\n      textAlign,\n      {\n        left: Yoga.JUSTIFY_FLEX_START,\n        right: Yoga.JUSTIFY_FLEX_END,\n        center: Yoga.JUSTIFY_CENTER,\n        justify: Yoga.JUSTIFY_SPACE_BETWEEN,\n        // We don't have other writing modes yet.\n        start: Yoga.JUSTIFY_FLEX_START,\n        end: Yoga.JUSTIFY_FLEX_END,\n      },\n      Yoga.JUSTIFY_FLEX_START,\n      'textAlign'\n    )\n  )\n\n  return textContainer\n}\n\nfunction detectTabs(text: string):\n  | {\n      index: null\n      tabCount: 0\n    }\n  | {\n      index: number\n      tabCount: number\n    } {\n  const result = /(\\t)+/.exec(text)\n  return result\n    ? {\n        index: result.index,\n        tabCount: result[0].length,\n      }\n    : {\n        index: null,\n        tabCount: 0,\n      }\n}\n","import CssDimension from '../vendor/parse-css-dimension/index.js'\nimport { buildXMLString, lengthToNumber } from '../utils.js'\nimport cssColorParse from 'parse-css-color'\n\nimport gradient from '../vendor/gradient-parser/index.js'\nimport { resolveImageData } from '../handler/image.js'\n\ninterface Background {\n  attachment?: string\n  color?: string\n  clip: string\n  image: string\n  origin?: string\n  position: string\n  size: string\n  repeat: string\n}\n\nfunction resolveColorFromStop(stop) {\n  if (stop.type === 'literal') return stop.value\n  if (stop.type === 'hex') return `#${stop.value}`\n  if (stop.type === 'rgb') return `rgb(${stop.value.join(',')})`\n  if (stop.type === 'rgba') return `rgba(${stop.value.join(',')})`\n  return 'transparent'\n}\n\nfunction resolveXYFromDirection(dir: string) {\n  let x1 = 0,\n    y1 = 0,\n    x2 = 0,\n    y2 = 0\n\n  if (dir.includes('top')) {\n    y1 = 1\n  } else if (dir.includes('bottom')) {\n    y2 = 1\n  }\n\n  if (dir.includes('left')) {\n    x1 = 1\n  } else if (dir.includes('right')) {\n    x2 = 1\n  }\n\n  if (!x1 && !x2 && !y1 && !y2) {\n    y1 = 1\n  }\n\n  return [x1, y1, x2, y2]\n}\n\nfunction toAbsoluteValue(v: string | number, base: number) {\n  if (typeof v === 'string' && v.endsWith('%')) {\n    return (base * parseFloat(v)) / 100\n  }\n  return +v\n}\n\nfunction parseLengthPairs(\n  str: string,\n  {\n    x,\n    y,\n    defaultX,\n    defaultY,\n  }: {\n    x: number\n    y: number\n    defaultX: number | string\n    defaultY: number | string\n  }\n) {\n  return (\n    str\n      ? str\n          .split(' ')\n          .map((value) => {\n            try {\n              const parsed = new CssDimension(value)\n              return parsed.type === 'length' || parsed.type === 'number'\n                ? parsed.value\n                : parsed.value + parsed.unit\n            } catch (e) {\n              return null\n            }\n          })\n          .filter((v) => v !== null)\n      : [defaultX, defaultY]\n  ).map((v, index) => toAbsoluteValue(v, [x, y][index]))\n}\n\nfunction normalizeStops(\n  totalLength: number,\n  colorStops: any[],\n  from?: 'background' | 'mask'\n) {\n  // Resolve the color stops based on the spec:\n  // https://drafts.csswg.org/css-images/#color-stop-syntax\n  const stops = []\n  for (const stop of colorStops) {\n    const color = resolveColorFromStop(stop)\n    if (!stops.length) {\n      // First stop, ensure it's at the start.\n      stops.push({\n        offset: 0,\n        color,\n      })\n\n      if (typeof stop.length === 'undefined') continue\n      if (stop.length.value === '0') continue\n    }\n\n    // All offsets are relative values (0-1) in SVG.\n    const offset =\n      typeof stop.length === 'undefined'\n        ? undefined\n        : stop.length.type === '%'\n        ? stop.length.value / 100\n        : stop.length.value / totalLength\n\n    stops.push({\n      offset,\n      color,\n    })\n  }\n  if (!stops.length) {\n    stops.push({\n      offset: 0,\n      color: 'transparent',\n    })\n  }\n  // Last stop, ensure it's at the end.\n  const lastStop = stops[stops.length - 1]\n  if (lastStop.offset !== 1) {\n    if (typeof lastStop.offset === 'undefined') {\n      lastStop.offset = 1\n    } else {\n      stops.push({\n        offset: 1,\n        color: lastStop.color,\n      })\n    }\n  }\n\n  let previousStop = 0\n  let nextStop = 1\n  // Evenly distribute the missing stop offsets.\n  for (let i = 0; i < stops.length; i++) {\n    if (typeof stops[i].offset === 'undefined') {\n      // Find the next stop that has an offset.\n      if (nextStop < i) nextStop = i\n      while (typeof stops[nextStop].offset === 'undefined') nextStop++\n\n      stops[i].offset =\n        ((stops[nextStop].offset - stops[previousStop].offset) /\n          (nextStop - previousStop)) *\n          (i - previousStop) +\n        stops[previousStop].offset\n    } else {\n      previousStop = i\n    }\n  }\n\n  if (from === 'mask') {\n    return stops.map((stop) => {\n      const color = cssColorParse(stop.color)\n      if (color.alpha === 0) {\n        return { ...stop, color: `rgba(0, 0, 0, 1)` }\n      } else {\n        return { ...stop, color: `rgba(255, 255, 255, ${color.alpha})` }\n      }\n    })\n  }\n\n  return stops\n}\n\nexport default async function backgroundImage(\n  {\n    id,\n    width,\n    height,\n    left,\n    top,\n  }: { id: string; width: number; height: number; left: number; top: number },\n  { image, size, position, repeat }: Background,\n  inheritableStyle: Record<string, number | string>,\n  from?: 'background' | 'mask'\n): Promise<string[]> {\n  // Default to `repeat`.\n  repeat = repeat || 'repeat'\n  from = from || 'background'\n\n  const repeatX = repeat === 'repeat-x' || repeat === 'repeat'\n  const repeatY = repeat === 'repeat-y' || repeat === 'repeat'\n\n  const dimensions = parseLengthPairs(size, {\n    x: width,\n    y: height,\n    defaultX: width,\n    defaultY: height,\n  })\n  const offsets = parseLengthPairs(position, {\n    x: width,\n    y: height,\n    defaultX: 0,\n    defaultY: 0,\n  })\n\n  if (image.startsWith('linear-gradient(')) {\n    const parsed = gradient.parse(image)[0]\n    const [imageWidth, imageHeight] = dimensions\n\n    // Calculate the direction.\n    let x1, y1, x2, y2, length\n\n    if (parsed.orientation.type === 'directional') {\n      ;[x1, y1, x2, y2] = resolveXYFromDirection(parsed.orientation.value)\n\n      length = Math.sqrt(\n        Math.pow((x2 - x1) * imageWidth, 2) +\n          Math.pow((y2 - y1) * imageHeight, 2)\n      )\n    } else if (parsed.orientation.type === 'angular') {\n      const EPS = 0.000001\n      const r = imageWidth / imageHeight\n\n      function calc(angle) {\n        angle = ((angle % (Math.PI * 2)) + Math.PI * 2) % (Math.PI * 2)\n\n        if (Math.abs(angle - Math.PI / 2) < EPS) {\n          x1 = 0\n          y1 = 0\n          x2 = 1\n          y2 = 0\n          length = imageWidth\n          return\n        } else if (Math.abs(angle) < EPS) {\n          x1 = 0\n          y1 = 1\n          x2 = 0\n          y2 = 0\n          length = imageHeight\n          return\n        }\n\n        // Assuming 0 <= angle < PI / 2.\n        if (angle >= Math.PI / 2 && angle < Math.PI) {\n          calc(Math.PI - angle)\n          y1 = 1 - y1\n          y2 = 1 - y2\n          return\n        } else if (angle >= Math.PI) {\n          calc(angle - Math.PI)\n          let tmp = x1\n          x1 = x2\n          x2 = tmp\n          tmp = y1\n          y1 = y2\n          y2 = tmp\n          return\n        }\n\n        // Remap SVG distortion\n        const tan = Math.tan(angle)\n        const tanTexture = tan * r\n        const angleTexture = Math.atan(tanTexture)\n        const l = Math.sqrt(2) * Math.cos(Math.PI / 4 - angleTexture)\n        x1 = 0\n        y1 = 1\n        x2 = Math.sin(angleTexture) * l\n        y2 = 1 - Math.cos(angleTexture) * l\n\n        // Get the angle between the distored gradient direction and diagonal.\n        const x = 1\n        const y = 1 / tan\n        const cosA = Math.abs(\n          (x * r + y) / Math.sqrt(x * x + y * y) / Math.sqrt(r * r + 1)\n        )\n\n        // Get the distored gradient length.\n        const diagonal = Math.sqrt(\n          imageWidth * imageWidth + imageHeight * imageHeight\n        )\n        length = diagonal * cosA\n      }\n\n      calc((+parsed.orientation.value / 180) * Math.PI)\n    }\n\n    const stops = normalizeStops(length, parsed.colorStops, from)\n\n    const gradientId = `satori_bi${id}`\n    const patternId = `satori_pattern_${id}`\n\n    const defs = buildXMLString(\n      'pattern',\n      {\n        id: patternId,\n        x: offsets[0] / width,\n        y: offsets[1] / height,\n        width: repeatX ? imageWidth / width : '1',\n        height: repeatY ? imageHeight / height : '1',\n        patternUnits: 'objectBoundingBox',\n      },\n      buildXMLString(\n        'linearGradient',\n        {\n          id: gradientId,\n          x1,\n          y1,\n          x2,\n          y2,\n        },\n        stops\n          .map((stop) =>\n            buildXMLString('stop', {\n              offset: stop.offset * 100 + '%',\n              'stop-color': stop.color,\n            })\n          )\n          .join('')\n      ) +\n        buildXMLString('rect', {\n          x: 0,\n          y: 0,\n          width: imageWidth,\n          height: imageHeight,\n          fill: `url(#${gradientId})`,\n        })\n    )\n    return [patternId, defs]\n  }\n\n  if (image.startsWith('radial-gradient(')) {\n    const parsed = gradient.parse(image)[0]\n    const orientation = parsed.orientation[0]\n    const [xDelta, yDelta] = dimensions\n\n    let shape = 'circle'\n    let cx: number = xDelta / 2\n    let cy: number = yDelta / 2\n\n    if (orientation.type === 'shape') {\n      shape = orientation.value\n      if (!orientation.at) {\n        // Defaults to center.\n      } else if (orientation.at.type === 'position') {\n        const pos = calcRadialGradient(\n          orientation.at.value.x,\n          orientation.at.value.y,\n          xDelta,\n          yDelta,\n          inheritableStyle.fontSize as number,\n          inheritableStyle\n        )\n        cx = pos.x\n        cy = pos.y\n      } else {\n        throw new Error(\n          'orientation.at.type not implemented: ' + orientation.at.type\n        )\n      }\n    } else {\n      throw new Error('orientation.type not implemented: ' + orientation.type)\n    }\n\n    const stops = normalizeStops(width, parsed.colorStops, from)\n\n    const gradientId = `satori_radial_${id}`\n    const patternId = `satori_pattern_${id}`\n    const maskId = `satori_mask_${id}`\n\n    // We currently only support `farthest-corner`:\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/radial-gradient()#values\n    const spread = calcRadius(\n      shape as Shape,\n      orientation.style,\n      inheritableStyle.fontSize as number,\n      { x: cx, y: cy },\n      [xDelta, yDelta],\n      inheritableStyle\n    )\n\n    // TODO: check for repeat-x/repeat-y\n    const defs = buildXMLString(\n      'pattern',\n      {\n        id: patternId,\n        x: offsets[0] / width,\n        y: offsets[1] / height,\n        width: repeatX ? xDelta / width : '1',\n        height: repeatY ? yDelta / height : '1',\n        patternUnits: 'objectBoundingBox',\n      },\n      buildXMLString(\n        'radialGradient',\n        {\n          id: gradientId,\n        },\n        stops\n          .map((stop) =>\n            buildXMLString('stop', {\n              offset: stop.offset,\n              'stop-color': stop.color,\n            })\n          )\n          .join('')\n      ) +\n        buildXMLString(\n          'mask',\n          {\n            id: maskId,\n          },\n          buildXMLString('rect', {\n            x: 0,\n            y: 0,\n            width: xDelta,\n            height: yDelta,\n            fill: '#fff',\n          })\n        ) +\n        buildXMLString('rect', {\n          x: 0,\n          y: 0,\n          width: xDelta,\n          height: yDelta,\n          fill: stops.at(-1).color,\n        }) +\n        buildXMLString(shape, {\n          cx: cx,\n          cy: cy,\n          width: xDelta,\n          height: yDelta,\n          ...spread,\n          fill: `url(#${gradientId})`,\n          mask: `url(#${maskId})`,\n        })\n    )\n\n    const result = [patternId, defs]\n    return result\n  }\n\n  if (image.startsWith('url(')) {\n    const dimensionsWithoutFallback = parseLengthPairs(size, {\n      x: width,\n      y: height,\n      defaultX: 0,\n      defaultY: 0,\n    })\n    const [src, imageWidth, imageHeight] = await resolveImageData(\n      image.slice(4, -1)\n    )\n    const resolvedWidth =\n      from === 'mask'\n        ? imageWidth || dimensionsWithoutFallback[0]\n        : dimensionsWithoutFallback[0] || imageWidth\n    const resolvedHeight =\n      from === 'mask'\n        ? imageHeight || dimensionsWithoutFallback[1]\n        : dimensionsWithoutFallback[1] || imageHeight\n\n    return [\n      `satori_bi${id}`,\n      buildXMLString(\n        'pattern',\n        {\n          id: `satori_bi${id}`,\n          patternContentUnits: 'userSpaceOnUse',\n          patternUnits: 'userSpaceOnUse',\n          x: offsets[0] + left,\n          y: offsets[1] + top,\n          width: repeatX ? resolvedWidth : '100%',\n          height: repeatY ? resolvedHeight : '100%',\n        },\n        buildXMLString('image', {\n          x: 0,\n          y: 0,\n          width: resolvedWidth,\n          height: resolvedHeight,\n          preserveAspectRatio: 'none',\n          href: src,\n        })\n      ),\n    ]\n  }\n\n  throw new Error(`Invalid background image: \"${image}\"`)\n}\n\ntype PositionKeyWord = 'center' | 'left' | 'right' | 'top' | 'bottom'\ninterface Position {\n  type: string\n  value: PositionKeyWord\n}\n\nfunction calcRadialGradient(\n  cx: Position,\n  cy: Position,\n  xDelta: number,\n  yDelta: number,\n  baseFontSize: number,\n  style: Record<string, string | number>\n) {\n  const pos: { x: number; y: number } = { x: xDelta / 2, y: yDelta / 2 }\n  if (cx.type === 'position-keyword') {\n    Object.assign(pos, calcPos(cx.value, xDelta, yDelta, 'x'))\n  } else {\n    pos.x = lengthToNumber(\n      `${cx.value}${cx.type}`,\n      baseFontSize,\n      xDelta,\n      style,\n      true\n    )\n  }\n\n  if (cy.type === 'position-keyword') {\n    Object.assign(pos, calcPos(cy.value, xDelta, yDelta, 'y'))\n  } else {\n    pos.y = lengthToNumber(\n      `${cy.value}${cy.type}`,\n      baseFontSize,\n      yDelta,\n      style,\n      true\n    )\n  }\n\n  return pos\n}\n\nfunction calcPos(\n  key: PositionKeyWord,\n  xDelta: number,\n  yDelta: number,\n  dir: 'x' | 'y'\n) {\n  switch (key) {\n    case 'center':\n      return { [dir]: dir === 'x' ? xDelta / 2 : yDelta / 2 }\n    case 'left':\n      return { x: 0 }\n    case 'top':\n      return { y: 0 }\n    case 'right':\n      return { x: xDelta }\n    case 'bottom':\n      return { y: yDelta }\n  }\n}\n\ntype Shape = 'circle' | 'ellipse'\nfunction calcRadius(\n  shape: Shape,\n  endingShape: Array<{ type: string; value: string }>,\n  baseFontSize: number,\n  centerAxis: { x: number; y: number },\n  length: [number, number],\n  inheritableStyle: Record<string, string | number>\n) {\n  const [xDelta, yDelta] = length\n  const { x: cx, y: cy } = centerAxis\n  const spread: Record<string, number> = {}\n  let fx = 0\n  let fy = 0\n  const isExtentKeyWord = endingShape.some((v) => v.type === 'extent-keyword')\n\n  if (!isExtentKeyWord) {\n    if (endingShape.some((v) => v.value.startsWith('-'))) {\n      throw new Error(\n        'disallow setting negative values to the size of the shape. Check https://w3c.github.io/csswg-drafts/css-images/#valdef-rg-size-length-0'\n      )\n    }\n    if (shape === 'circle') {\n      return {\n        r: lengthToNumber(\n          `${endingShape[0].value}${endingShape[0].type}`,\n          baseFontSize,\n          xDelta,\n          inheritableStyle,\n          true\n        ),\n      }\n    } else {\n      return {\n        rx: lengthToNumber(\n          `${endingShape[0].value}${endingShape[0].type}`,\n          baseFontSize,\n          xDelta,\n          inheritableStyle,\n          true\n        ),\n        ry: lengthToNumber(\n          `${endingShape[1].value}${endingShape[1].type}`,\n          baseFontSize,\n          yDelta,\n          inheritableStyle,\n          true\n        ),\n      }\n    }\n  }\n\n  switch (endingShape[0].value) {\n    case 'farthest-corner':\n      fx = Math.max(Math.abs(xDelta - cx), Math.abs(cx))\n      fy = Math.max(Math.abs(yDelta - cy), Math.abs(cy))\n      break\n    case 'closest-corner':\n      fx = Math.min(Math.abs(xDelta - cx), Math.abs(cx))\n      fy = Math.min(Math.abs(yDelta - cy), Math.abs(cy))\n      break\n    case 'farthest-side':\n      if (shape === 'circle') {\n        spread.r = Math.max(\n          Math.abs(xDelta - cx),\n          Math.abs(cx),\n          Math.abs(yDelta - cy),\n          Math.abs(cy)\n        )\n      } else {\n        spread.rx = Math.max(Math.abs(xDelta - cx), Math.abs(cx))\n        spread.ry = Math.max(Math.abs(yDelta - cy), Math.abs(cy))\n      }\n      return spread\n    case 'closest-side':\n      if (shape === 'circle') {\n        spread.r = Math.min(\n          Math.abs(xDelta - cx),\n          Math.abs(cx),\n          Math.abs(yDelta - cy),\n          Math.abs(cy)\n        )\n      } else {\n        spread.rx = Math.min(Math.abs(xDelta - cx), Math.abs(cx))\n        spread.ry = Math.min(Math.abs(yDelta - cy), Math.abs(cy))\n      }\n\n      return spread\n  }\n  if (shape === 'circle') {\n    spread.r = Math.sqrt(fx * fx + fy * fy)\n  } else {\n    // Spec: https://drafts.csswg.org/css-images/#typedef-size\n    // Get the aspect ratio of the closest-side size.\n    const ratio = fy !== 0 ? fx / fy : 1\n\n    if (fx === 0) {\n      spread.rx = 0\n      spread.ry = 0\n    } else {\n      // fx^2/a^2 + fy^2/b^2 = 1\n      // fx^2/(b*ratio)^2 + fy^2/b^2 = 1\n      // (fx^2+fy^2*ratio^2) = (b*ratio)^2\n      // b = sqrt(fx^2+fy^2*ratio^2)/ratio\n\n      spread.ry = Math.sqrt(fx * fx + fy * fy * ratio * ratio) / ratio\n      spread.rx = spread.ry * ratio\n    }\n  }\n\n  return spread\n}\n","// Copyright (c) 2014 Rafael Caricio. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nvar GradientParser = GradientParser || {}\n\n// https://w3c.github.io/csswg-drafts/css-images-3/#linear-gradients\n// It may be omitted; if so, it defaults to to bottom.\nconst FALLBACK_LINEAR_ORIENTATION = { type: 'directional', value: 'bottom' }\n\nGradientParser.parse = (function () {\n  var tokens = {\n    linearGradient: /^(\\-(webkit|o|ms|moz)\\-)?(linear\\-gradient)/i,\n    repeatingLinearGradient:\n      /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-linear\\-gradient)/i,\n    radialGradient: /^(\\-(webkit|o|ms|moz)\\-)?(radial\\-gradient)/i,\n    repeatingRadialGradient:\n      /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-radial\\-gradient)/i,\n    sideOrCorner:\n      /^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,\n    extentKeywords:\n      /^(closest\\-side|closest\\-corner|farthest\\-side|farthest\\-corner|contain|cover)/,\n    positionKeywords: /^(left|center|right|top|bottom)/i,\n    pixelValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))px/,\n    percentageValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))\\%/,\n    emLikeValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))(r?em|vw|vh)/,\n    angleValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))deg/,\n    zeroValue: /[0]/,\n    startCall: /^\\(/,\n    endCall: /^\\)/,\n    comma: /^,/,\n    hexColor: /^\\#([0-9a-fA-F]+)/,\n    literalColor: /^([a-zA-Z]+)/,\n    rgbColor: /^rgb/i,\n    rgbaColor: /^rgba/i,\n    number: /^(([0-9]*\\.[0-9]+)|([0-9]+\\.?))/,\n  }\n\n  var input = ''\n\n  function error(msg) {\n    var err = new Error(input + ': ' + msg)\n    err.source = input\n    throw err\n  }\n\n  function getAST() {\n    var ast = matchListDefinitions()\n\n    if (input.length > 0) {\n      error('Invalid input not EOF')\n    }\n    return ast\n  }\n\n  function matchListDefinitions() {\n    return matchListing(matchDefinition)\n  }\n\n  function matchDefinition() {\n    return (\n      matchGradient(\n        'linear-gradient',\n        tokens.linearGradient,\n        matchLinearOrientation,\n        FALLBACK_LINEAR_ORIENTATION\n      ) ||\n      matchGradient(\n        'repeating-linear-gradient',\n        tokens.repeatingLinearGradient,\n        matchLinearOrientation,\n        FALLBACK_LINEAR_ORIENTATION\n      ) ||\n      matchGradient(\n        'radial-gradient',\n        tokens.radialGradient,\n        matchListRadialOrientations\n      ) ||\n      matchGradient(\n        'repeating-radial-gradient',\n        tokens.repeatingRadialGradient,\n        matchListRadialOrientations\n      )\n    )\n  }\n\n  function getDefaultRadialGradient(orientation = {}) {\n    const res = { ...orientation }\n\n    Object.assign(res, {\n      style: (res.style || []).length > 0\n        ? res.style\n        : [{ type: 'extent-keyword', value: 'farthest-corner' }],\n      at: {\n        type: 'position',\n        value: {\n          x: {\n            type: 'position-keyword',\n            value: 'center',\n            ...(res.at?.value?.x || {})\n          },\n          y: {\n            type: 'position-keyword',\n            value: 'center',\n            ...(res.at?.value?.y || {})\n          }\n        }\n      }}\n    )\n\n    if (!orientation.value) {\n      Object.assign(res, {\n        type: 'shape',\n        value: res.style.some(v => ['%', 'extent-keyword'].includes(v.type))\n          ? 'ellipse'\n          : 'circle'\n      })\n    }\n\n    return res\n  }\n\n  function matchGradient(\n    gradientType,\n    pattern,\n    orientationMatcher,\n    fallbackOrientation\n  ) {\n    return matchCall(pattern, function (captures) {\n      var orientation = orientationMatcher()\n      if (orientation) {\n        if (!scan(tokens.comma)) {\n          error('Missing comma before color stops')\n        }\n      } else {\n        orientation = fallbackOrientation\n      }\n\n      return {\n        type: gradientType,\n        orientation: gradientType.endsWith('radial-gradient')\n          ? orientation?.map(v => getDefaultRadialGradient(v)) ?? [getDefaultRadialGradient()]\n          : orientation,\n        colorStops: matchListing(matchColorStop),\n      }\n    })\n  }\n\n  function matchCall(pattern, callback) {\n    var captures = scan(pattern)\n    if (captures) {\n      if (!scan(tokens.startCall)) {\n        error('Missing (')\n      }\n\n      var result = callback(captures)\n\n      if (!scan(tokens.endCall)) {\n        error('Missing )')\n      }\n\n      return result\n    }\n  }\n\n  function matchLinearOrientation() {\n    return matchSideOrCorner() || matchAngle() || matchZero();\n  }\n\n  function matchSideOrCorner() {\n    return match('directional', tokens.sideOrCorner, 1)\n  }\n\n  function matchAngle() {\n    return match('angular', tokens.angleValue, 1)\n  }\n\n  // For zero value passed into linear-gradient first arg:\n  function matchZero() {\n    return match('directional', tokens.zeroValue, 0)\n  }\n\n  function matchListRadialOrientations() {\n    var radialOrientations,\n      radialOrientation = matchRadialOrientation(),\n      lookaheadCache\n\n    if (radialOrientation) {\n      radialOrientations = []\n      radialOrientations.push(radialOrientation)\n\n      lookaheadCache = input\n      if (scan(tokens.comma)) {\n        radialOrientation = matchRadialOrientation()\n        if (radialOrientation) {\n          radialOrientations.push(radialOrientation)\n        } else {\n          input = lookaheadCache\n        }\n      }\n    }\n\n    return radialOrientations\n  }\n\n  function matchRadialOrientation() {\n    const pre = preMatchRadialOrientation()\n    const at = matchAtPosition()\n\n    if (!pre && !at) return\n\n    return { ...pre, at }\n  }\n\n  function preMatchRadialOrientation() {\n    let rgEndingShape = matchCircle() || matchEllipse()\n    let rgSize = matchExtentKeyword() || matchLength() || matchDistance()\n    const extra = match('%', tokens.percentageValue, 1)\n\n    if (rgEndingShape) {\n      return {\n        ...rgEndingShape,\n        style: [rgSize, extra].filter(v => v)\n      }\n    } else if (rgSize){\n      return {\n        style: [rgSize, extra].filter(v => v),\n        ...(matchCircle() || matchEllipse())\n      }\n    } else {\n      //\n    }\n  }\n\n  function matchCircle() {\n    return match('shape', /^(circle)/i, 0)\n  }\n\n  function matchEllipse() {\n    return match('shape', /^(ellipse)/i, 0)\n  }\n\n  function matchExtentKeyword() {\n    return match('extent-keyword', tokens.extentKeywords, 1)\n  }\n\n  function matchAtPosition() {\n    if (match('position', /^at/, 0)) {\n      var positioning = matchPositioning()\n\n      if (!positioning) {\n        error('Missing positioning value')\n      }\n\n      return positioning\n    }\n  }\n\n  function matchPositioning() {\n    var location = matchCoordinates()\n\n    if (location.x || location.y) {\n      return {\n        type: 'position',\n        value: location,\n      }\n    }\n  }\n\n  function matchCoordinates() {\n    return {\n      x: matchDistance(),\n      y: matchDistance(),\n    }\n  }\n\n  function matchListing(matcher) {\n    var captures = matcher(),\n      result = []\n\n    if (captures) {\n      result.push(captures)\n      while (scan(tokens.comma)) {\n        captures = matcher()\n        if (captures) {\n          result.push(captures)\n        } else {\n          error('One extra comma')\n        }\n      }\n    }\n\n    return result\n  }\n\n  function matchColorStop() {\n    var color = matchColor()\n\n    if (!color) {\n      error('Expected color definition')\n    }\n\n    color.length = matchDistance()\n    return color\n  }\n\n  function matchColor() {\n    return (\n      matchHexColor() ||\n      matchRGBAColor() ||\n      matchRGBColor() ||\n      matchLiteralColor()\n    )\n  }\n\n  function matchLiteralColor() {\n    return match('literal', tokens.literalColor, 0)\n  }\n\n  function matchHexColor() {\n    return match('hex', tokens.hexColor, 1)\n  }\n\n  function matchRGBColor() {\n    return matchCall(tokens.rgbColor, function () {\n      return {\n        type: 'rgb',\n        value: matchListing(matchNumber),\n      }\n    })\n  }\n\n  function matchRGBAColor() {\n    return matchCall(tokens.rgbaColor, function () {\n      return {\n        type: 'rgba',\n        value: matchListing(matchNumber),\n      }\n    })\n  }\n\n  function matchNumber() {\n    return scan(tokens.number)[1]\n  }\n\n  function matchDistance() {\n    return (\n      match('%', tokens.percentageValue, 1) ||\n      matchPositionKeyword() ||\n      matchLength()\n    )\n  }\n\n  function matchPositionKeyword() {\n    return match('position-keyword', tokens.positionKeywords, 1)\n  }\n\n  function matchLength() {\n    return match('px', tokens.pixelValue, 1) || matchRelativeLength(tokens.emLikeValue, 1)\n  }\n\n  function matchRelativeLength(pattern, captureIndex) {\n    var captures = scan(pattern)\n    if (captures) {\n      return {\n        type: captures[5],\n        value: captures[captureIndex],\n      }\n    }\n  }\n\n  function match(type, pattern, captureIndex) {\n    var captures = scan(pattern)\n    if (captures) {\n      return {\n        type: type,\n        value: captures[captureIndex],\n      }\n    }\n  }\n\n  function scan(regexp) {\n    var captures, blankCaptures\n\n    blankCaptures = /^[\\n\\r\\t\\s]+/.exec(input)\n    if (blankCaptures) {\n      consume(blankCaptures[0].length)\n    }\n\n    captures = regexp.exec(input)\n    if (captures) {\n      consume(captures[0].length)\n    }\n\n    return captures\n  }\n\n  function consume(size) {\n    input = input.substr(size)\n  }\n\n  return function (code) {\n    input = code.toString()\n    return getAST()\n  }\n})()\n\nexport default GradientParser\n","/**\n * CSS border radius to SVG path.\n */\n\n// TODO: Support the `border-radius: 10px / 20px` syntax.\n// https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius\n\nimport { lengthToNumber } from '../utils.js'\n\n// Getting the intersection of a 45deg ray with the elliptical arc x^2/rx^2 + y^2/ry^2 = 1.\n// Reference:\n// https://www.w3.org/TR/SVG/implnote.html#ArcConversionEndpointToCenter\nfunction svgArcCenterOffset([rx, ry]: number[]) {\n  if (Math.round(rx * 1000) === 0 && Math.round(ry * 1000) === 0) {\n    return 0\n  }\n  return Math.round(((rx * ry) / Math.sqrt(rx * rx + ry * ry)) * 1000) / 1000\n}\n\nfunction resolveSize(a: number, b: number, limit: number) {\n  if (limit < a + b) {\n    if (limit / 2 < a && limit / 2 < b) {\n      a = b = limit / 2\n    } else if (limit / 2 < a) {\n      a = limit - b\n    } else if (limit / 2 < b) {\n      b = limit - a\n    }\n  }\n  return [a, b]\n}\n\nfunction makeSmaller(arr: [number, number]) {\n  arr[0] = arr[1] = Math.min(arr[0], arr[1])\n}\n\n// Each corner can have 2 values, the first is the horizontal radius, the second is the vertical radius.\nfunction resolveRadius(\n  v: number | string | undefined,\n  width: number,\n  height: number,\n  fontSize: number,\n  style: any\n): [boolean, undefined | [number, number]] {\n  if (typeof v === 'string') {\n    const sides = v.split(' ').map((s) => s.trim())\n    const singleValue = !sides[1] && !sides[0].endsWith('%')\n    sides[1] = sides[1] || sides[0]\n    return [\n      singleValue,\n      [\n        Math.min(lengthToNumber(sides[0], fontSize, width, style, true), width),\n        Math.min(\n          lengthToNumber(sides[1], fontSize, height, style, true),\n          height\n        ),\n      ],\n    ]\n  }\n  if (typeof v === 'number') {\n    return [true, [Math.min(v, width), Math.min(v, height)]]\n  }\n  return [true, undefined]\n}\n\nconst radiusZeroOrNull = (_radius?: [number, number]) =>\n  _radius && _radius[0] !== 0 && _radius[1] !== 0\n\nexport default function radius(\n  {\n    left,\n    top,\n    width,\n    height,\n  }: {\n    left: number\n    top: number\n    width: number\n    height: number\n  },\n  style: Record<string, any>,\n  partialSides?: boolean[]\n) {\n  let {\n    borderTopLeftRadius,\n    borderTopRightRadius,\n    borderBottomLeftRadius,\n    borderBottomRightRadius,\n    fontSize,\n  } = style\n\n  let singleAbsValueTopLeftCorner\n  let singleAbsValueTopRightCorner\n  let singleAbsValueBottomLeftCorner\n  let singleAbsValueBottomRightCorner\n  ;[singleAbsValueTopLeftCorner, borderTopLeftRadius] = resolveRadius(\n    borderTopLeftRadius,\n    width,\n    height,\n    fontSize,\n    style\n  )\n  ;[singleAbsValueTopRightCorner, borderTopRightRadius] = resolveRadius(\n    borderTopRightRadius,\n    width,\n    height,\n    fontSize,\n    style\n  )\n  ;[singleAbsValueBottomLeftCorner, borderBottomLeftRadius] = resolveRadius(\n    borderBottomLeftRadius,\n    width,\n    height,\n    fontSize,\n    style\n  )\n  ;[singleAbsValueBottomRightCorner, borderBottomRightRadius] = resolveRadius(\n    borderBottomRightRadius,\n    width,\n    height,\n    fontSize,\n    style\n  )\n\n  if (\n    !partialSides &&\n    !radiusZeroOrNull(borderTopLeftRadius) &&\n    !radiusZeroOrNull(borderTopRightRadius) &&\n    !radiusZeroOrNull(borderBottomLeftRadius) &&\n    !radiusZeroOrNull(borderBottomRightRadius)\n  ) {\n    return ''\n  }\n  borderTopLeftRadius ||= [0, 0]\n  borderTopRightRadius ||= [0, 0]\n  borderBottomLeftRadius ||= [0, 0]\n  borderBottomRightRadius ||= [0, 0]\n\n  // Limit the radius sizes of each edge to make sure they will never overlap.\n\n  // Top\n  ;[borderTopLeftRadius[0], borderTopRightRadius[0]] = resolveSize(\n    borderTopLeftRadius[0],\n    borderTopRightRadius[0],\n    width\n  )\n  // Bottom\n  ;[borderBottomLeftRadius[0], borderBottomRightRadius[0]] = resolveSize(\n    borderBottomLeftRadius[0],\n    borderBottomRightRadius[0],\n    width\n  )\n  // Left\n  ;[borderTopLeftRadius[1], borderBottomLeftRadius[1]] = resolveSize(\n    borderTopLeftRadius[1],\n    borderBottomLeftRadius[1],\n    height\n  )\n  // Right\n  ;[borderTopRightRadius[1], borderBottomRightRadius[1]] = resolveSize(\n    borderTopRightRadius[1],\n    borderBottomRightRadius[1],\n    height\n  )\n\n  // If the specified border radius is a single value (e.g. 10px or 10em), we take\n  // the minimum of the resolved horizontal and vertical radius and apply to both.\n  if (singleAbsValueTopLeftCorner) {\n    makeSmaller(borderTopLeftRadius)\n  }\n  if (singleAbsValueTopRightCorner) {\n    makeSmaller(borderTopRightRadius)\n  }\n  if (singleAbsValueBottomLeftCorner) {\n    makeSmaller(borderBottomLeftRadius)\n  }\n  if (singleAbsValueBottomRightCorner) {\n    makeSmaller(borderBottomRightRadius)\n  }\n\n  type Arc = [[number, number], [number, number]]\n  const p: Arc[] = []\n  p[0] = [borderTopRightRadius, borderTopRightRadius]\n  p[1] = [\n    borderBottomRightRadius,\n    [-borderBottomRightRadius[0], borderBottomRightRadius[1]],\n  ]\n  p[2] = [\n    borderBottomLeftRadius,\n    [-borderBottomLeftRadius[0], -borderBottomLeftRadius[1]],\n  ]\n  p[3] = [\n    borderTopLeftRadius,\n    [borderTopLeftRadius[0], -borderTopLeftRadius[1]],\n  ]\n\n  const T = `h${width - borderTopLeftRadius[0] - borderTopRightRadius[0]} a${\n    p[0][0]\n  } 0 0 1 ${p[0][1]}`\n  const R = `v${\n    height - borderTopRightRadius[1] - borderBottomRightRadius[1]\n  } a${p[1][0]} 0 0 1 ${p[1][1]}`\n  const B = `h${\n    borderBottomRightRadius[0] + borderBottomLeftRadius[0] - width\n  } a${p[2][0]} 0 0 1 ${p[2][1]}`\n  const L = `v${borderBottomLeftRadius[1] + borderTopLeftRadius[1] - height} a${\n    p[3][0]\n  } 0 0 1 ${p[3][1]}`\n\n  if (partialSides) {\n    // \"However it is not defined what these transitions look like or what function maps from this ratio to a point on the curve.\"\n    // https://w3c.github.io/csswg-drafts/css-backgrounds-3/#corner-transitions\n    let start = partialSides.indexOf(false)\n\n    if (!partialSides.includes(true)) throw new Error('Invalid `partialSides`.')\n\n    if (start === -1) {\n      start = 0\n    } else {\n      while (!partialSides[start]) {\n        start = (start + 1) % 4\n      }\n    }\n\n    function getArc(i: number) {\n      const c0 = svgArcCenterOffset(\n        [\n          borderTopLeftRadius,\n          borderTopRightRadius,\n          borderBottomRightRadius,\n          borderBottomLeftRadius,\n        ][i]\n      )\n      return i === 0\n        ? [\n            [\n              left + borderTopLeftRadius[0] - c0,\n              top + borderTopLeftRadius[1] - c0,\n            ],\n            [left + borderTopLeftRadius[0], top],\n          ]\n        : i === 1\n        ? [\n            [\n              left + width - borderTopRightRadius[0] + c0,\n              top + borderTopRightRadius[1] - c0,\n            ],\n            [left + width, top + borderTopRightRadius[1]],\n          ]\n        : i === 2\n        ? [\n            [\n              left + width - borderBottomRightRadius[0] + c0,\n              top + height - borderBottomRightRadius[1] + c0,\n            ],\n            [left + width - borderBottomRightRadius[0], top + height],\n          ]\n        : [\n            [\n              left + borderBottomLeftRadius[0] - c0,\n              top + height - borderBottomLeftRadius[1] + c0,\n            ],\n            [left, top + height - borderBottomLeftRadius[1]],\n          ]\n    }\n\n    let result = ''\n\n    const arc0 = getArc(start)\n\n    let l = `M${arc0[0]} A${p[(start + 3) % 4][0]} 0 0 1 ${arc0[1]}`\n\n    let len = 0\n    for (; len < 4 && partialSides[(start + len) % 4]; len++) {\n      result += l + ' '\n      l = [T, R, B, L][(start + len) % 4]\n    }\n    const end = (start + len) % 4\n\n    // For the last segment, we skip the full arc and add the half arc.\n    result += l.split(' ')[0]\n\n    const arc1 = getArc(end)\n    result += ` A${p[(end + 3) % 4][0]} 0 0 1 ${arc1[0]}`\n\n    return result\n  }\n\n  // Generate the path\n  return `M${left + borderTopLeftRadius[0]},${top} ${T} ${R} ${B} ${L}`\n}\n","import { buildXMLString } from '../utils.js'\nimport radius from './border-radius.js'\n\nfunction compareBorderDirections(a: string, b: string, style: any) {\n  return (\n    style[a + 'Width'] === style[b + 'Width'] &&\n    style[a + 'Style'] === style[b + 'Style'] &&\n    style[a + 'Color'] === style[b + 'Color']\n  )\n}\n\nexport function getBorderClipPath(\n  {\n    id,\n    // Can be `overflow: hidden` from parent containers.\n    currentClipPathId,\n    borderPath,\n    borderType,\n    left,\n    top,\n    width,\n    height,\n  }: {\n    id: string\n    currentClipPathId?: string | number\n    borderPath?: string\n    borderType?: 'rect' | 'path'\n    left: number\n    top: number\n    width: number\n    height: number\n  },\n  style: Record<string, number | string>\n) {\n  const hasBorder =\n    style.borderTopWidth ||\n    style.borderRightWidth ||\n    style.borderBottomWidth ||\n    style.borderLeftWidth\n\n  if (!hasBorder) return null\n\n  // In SVG, stroke is always centered on the path and there is no\n  // existing property to make it behave like CSS border. So here we\n  // 2x the border width and introduce another clip path to clip the\n  // overflowed part.\n  const rectClipId = `satori_bc-${id}`\n  const defs = buildXMLString(\n    'clipPath',\n    {\n      id: rectClipId,\n      'clip-path': currentClipPathId ? `url(#${currentClipPathId})` : undefined,\n    },\n    buildXMLString(borderType, {\n      x: left,\n      y: top,\n      width,\n      height,\n      d: borderPath ? borderPath : undefined,\n    })\n  )\n\n  return [defs, rectClipId]\n}\n\nexport default function border(\n  {\n    left,\n    top,\n    width,\n    height,\n    props,\n    asContentMask,\n    maskBorderOnly,\n  }: {\n    left: number\n    top: number\n    width: number\n    height: number\n    props: any\n    asContentMask?: boolean\n    maskBorderOnly?: boolean\n  },\n  style: Record<string, number | string>\n) {\n  const directions = ['borderTop', 'borderRight', 'borderBottom', 'borderLeft']\n\n  // No border\n  if (\n    !asContentMask &&\n    !directions.some((direction) => style[direction + 'Width'])\n  )\n    return ''\n\n  let fullBorder = ''\n\n  let start = 0\n  while (\n    start > 0 &&\n    compareBorderDirections(\n      directions[start],\n      directions[(start + 3) % 4],\n      style\n    )\n  ) {\n    start = (start + 3) % 4\n  }\n\n  let partialSides = [false, false, false, false]\n  let currentStyle = []\n  for (let _i = 0; _i < 4; _i++) {\n    const i = (start + _i) % 4\n    const ni = (start + _i + 1) % 4\n\n    const d = directions[i]\n    const nd = directions[ni]\n\n    partialSides[i] = true\n    currentStyle = [\n      style[d + 'Width'],\n      style[d + 'Style'],\n      style[d + 'Color'],\n      d,\n    ]\n\n    if (!compareBorderDirections(d, nd, style)) {\n      const w =\n        (currentStyle[0] || 0) +\n        (asContentMask && !maskBorderOnly\n          ? style[d.replace('border', 'padding')] || 0\n          : 0)\n      if (w) {\n        fullBorder += buildXMLString('path', {\n          width,\n          height,\n          ...props,\n          fill: 'none',\n          stroke: asContentMask ? '#000' : currentStyle[2],\n          'stroke-width': w * 2,\n          'stroke-dasharray':\n            !asContentMask && currentStyle[1] === 'dashed'\n              ? w * 2 + ' ' + w\n              : undefined,\n          d: radius(\n            { left, top, width, height },\n            style as Record<string, number>,\n            partialSides\n          ),\n        })\n      }\n      partialSides = [false, false, false, false]\n    }\n  }\n\n  if (partialSides.some(Boolean)) {\n    const w =\n      (currentStyle[0] || 0) +\n      (asContentMask && !maskBorderOnly\n        ? style[currentStyle[3].replace('border', 'padding')] || 0\n        : 0)\n    if (w) {\n      fullBorder += buildXMLString('path', {\n        width,\n        height,\n        ...props,\n        fill: 'none',\n        stroke: asContentMask ? '#000' : currentStyle[2],\n        'stroke-width': w * 2,\n        'stroke-dasharray':\n          !asContentMask && currentStyle[1] === 'dashed'\n            ? w * 2 + ' ' + w\n            : undefined,\n        d: radius(\n          { left, top, width, height },\n          style as Record<string, number>,\n          partialSides\n        ),\n      })\n    }\n  }\n\n  return fullBorder\n}\n","/**\n * When there is border radius, the content area should be clipped by the\n * inner path of border + padding. This applies to <img> element as well as any\n * child element inside a `overflow: hidden` container.\n */\n\nimport { buildXMLString } from '../utils.js'\nimport border from './border.js'\n\nexport default function contentMask(\n  {\n    id,\n    left,\n    top,\n    width,\n    height,\n    matrix,\n    borderOnly,\n  }: {\n    id: string\n    left: number\n    top: number\n    width: number\n    height: number\n    matrix: string | undefined\n    borderOnly?: boolean\n  },\n  style: Record<string, number | string>\n) {\n  const offsetLeft =\n    ((style.borderLeftWidth as number) || 0) +\n    (borderOnly ? 0 : (style.paddingLeft as number) || 0)\n  const offsetTop =\n    ((style.borderTopWidth as number) || 0) +\n    (borderOnly ? 0 : (style.paddingTop as number) || 0)\n  const offsetRight =\n    ((style.borderRightWidth as number) || 0) +\n    (borderOnly ? 0 : (style.paddingRight as number) || 0)\n  const offsetBottom =\n    ((style.borderBottomWidth as number) || 0) +\n    (borderOnly ? 0 : (style.paddingBottom as number) || 0)\n\n  const contentArea = {\n    x: left + offsetLeft,\n    y: top + offsetTop,\n    width: width - offsetLeft - offsetRight,\n    height: height - offsetTop - offsetBottom,\n  }\n\n  const _contentMask = buildXMLString(\n    'mask',\n    { id },\n    buildXMLString('rect', {\n      ...contentArea,\n      fill: '#fff',\n      mask: style._inheritedMaskId\n        ? `url(#${style._inheritedMaskId})`\n        : undefined,\n    }) +\n      border(\n        {\n          left,\n          top,\n          width,\n          height,\n          props: {\n            transform: matrix ? matrix : undefined,\n          },\n          asContentMask: true,\n          maskBorderOnly: borderOnly,\n        },\n        style\n      )\n  )\n\n  return _contentMask\n}\n","import { lengthToNumber } from '../utils.js'\nimport { default as buildBorderRadius } from '../builder/border-radius.js'\nimport { getStylesForProperty } from 'css-to-react-native'\n\nconst regexMap = {\n  circle: /circle\\((.+)\\)/,\n  ellipse: /ellipse\\((.+)\\)/,\n  path: /path\\((.+)\\)/,\n  polygon: /polygon\\((.+)\\)/,\n  inset: /inset\\((.+)\\)/,\n}\n\nexport function createShapeParser(\n  {\n    width,\n    height,\n  }: {\n    width: number\n    height: number\n  },\n  style: Record<string, string | number>,\n  inheritedStyle: Record<string, string | number>\n) {\n  function parseCircle(str: string) {\n    const res = str.match(regexMap['circle'])\n\n    if (!res) return null\n\n    const [, value] = res\n    const [radius, pos = ''] = value.split('at').map((v) => v.trim())\n    const { x, y } = resolvePosition(pos, width, height)\n\n    return {\n      type: 'circle',\n      r: lengthToNumber(\n        radius,\n        inheritedStyle.fontSize as number,\n        Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2)) / Math.sqrt(2),\n        inheritedStyle,\n        true\n      ),\n      cx: lengthToNumber(\n        x,\n        inheritedStyle.fontSize as number,\n        width,\n        inheritedStyle,\n        true\n      ),\n      cy: lengthToNumber(\n        y,\n        inheritedStyle.fontSize as number,\n        height,\n        inheritedStyle,\n        true\n      ),\n    }\n  }\n  function parseEllipse(str: string) {\n    const res = str.match(regexMap['ellipse'])\n\n    if (!res) return null\n\n    const [, value] = res\n    const [radius, pos = ''] = value.split('at').map((v) => v.trim())\n    const [rx, ry] = radius.split(' ')\n    const { x, y } = resolvePosition(pos, width, height)\n\n    return {\n      type: 'ellipse',\n      rx: lengthToNumber(\n        rx || '50%',\n        inheritedStyle.fontSize as number,\n        width,\n        inheritedStyle,\n        true\n      ),\n      ry: lengthToNumber(\n        ry || '50%',\n        inheritedStyle.fontSize as number,\n        height,\n        inheritedStyle,\n        true\n      ),\n      cx: lengthToNumber(\n        x,\n        inheritedStyle.fontSize as number,\n        width,\n        inheritedStyle,\n        true\n      ),\n      cy: lengthToNumber(\n        y,\n        inheritedStyle.fontSize as number,\n        height,\n        inheritedStyle,\n        true\n      ),\n    }\n  }\n  function parsePath(str: string) {\n    const res = str.match(regexMap['path'])\n\n    if (!res) return null\n\n    const [fillRule, d] = resolveFillRule(res[1])\n\n    return {\n      type: 'path',\n      d,\n      'fill-rule': fillRule,\n    }\n  }\n  function parsePolygon(str: string) {\n    const res = str.match(regexMap['polygon'])\n\n    if (!res) return null\n\n    const [fillRule, points] = resolveFillRule(res[1])\n\n    return {\n      type: 'polygon',\n      'fill-rule': fillRule,\n      points: points\n        .split(',')\n        .map((v) =>\n          v\n            .split(' ')\n            .map((k, i) =>\n              lengthToNumber(\n                k,\n                inheritedStyle.fontSize as number,\n                i === 0 ? width : height,\n                inheritedStyle,\n                true\n              )\n            )\n            .join(' ')\n        )\n        .join(','),\n    }\n  }\n  function parseInset(str: string) {\n    const res = str.match(regexMap['inset'])\n\n    if (!res) return null\n\n    const [inset, radius] = (\n      res[1].includes('round') ? res[1] : `${res[1].trim()} round 0`\n    ).split('round')\n    const radiusMap = getStylesForProperty('borderRadius', radius, true)\n    const r = Object.values(radiusMap)\n      .map((s) => String(s))\n      .map(\n        (s, i) =>\n          lengthToNumber(\n            s,\n            inheritedStyle.fontSize as number,\n            i === 0 || i === 2 ? height : width,\n            inheritedStyle,\n            true\n          ) || 0\n      )\n    const offsets = Object.values(getStylesForProperty('margin', inset, true))\n      .map((s) => String(s))\n      .map(\n        (s, i) =>\n          lengthToNumber(\n            s,\n            inheritedStyle.fontSize as number,\n            i === 0 || i === 2 ? height : width,\n            inheritedStyle,\n            true\n          ) || 0\n      )\n    const x = offsets[3]\n    const y = offsets[0]\n    const w = width - (offsets[1] + offsets[3])\n    const h = height - (offsets[0] + offsets[2])\n\n    if (r.some((v) => v > 0)) {\n      const d = buildBorderRadius(\n        { left: x, top: y, width: w, height: h },\n        { ...style, ...radiusMap }\n      )\n\n      return { type: 'path', d }\n    }\n\n    return {\n      type: 'rect',\n      x,\n      y,\n      width: w,\n      height: h,\n    }\n  }\n\n  return {\n    parseCircle,\n    parseEllipse,\n    parsePath,\n    parsePolygon,\n    parseInset,\n  }\n}\n\nfunction resolveFillRule(str: string) {\n  const [, fillRule = 'nonzero', d] =\n    str.replace(/('|\")/g, '').match(/^(nonzero|evenodd)?,?(.+)/) || []\n\n  return [fillRule, d]\n}\n\nfunction resolvePosition(position: string, xDelta: number, yDelta: number) {\n  const pos = position.split(' ')\n  const res: { x: number | string; y: number | string } = {\n    x: pos[0] || '50%',\n    y: pos[1] || '50%',\n  }\n\n  pos.forEach((v) => {\n    if (v === 'top') {\n      res.y = 0\n    } else if (v === 'bottom') {\n      res.y = yDelta\n    } else if (v === 'left') {\n      res.x = 0\n    } else if (v === 'right') {\n      res.x = xDelta\n    } else if (v === 'center') {\n      res.x = xDelta / 2\n      res.y = yDelta / 2\n    } else {\n      // do nothing\n    }\n  })\n\n  return res\n}\n","import { buildXMLString } from '../utils.js'\nimport { createShapeParser } from '../parser/shape.js'\n\nexport function genClipPathId(id: string) {\n  return `satori_cp-${id}`\n}\nexport function genClipPath(id: string) {\n  return `url(#${genClipPathId(id)})`\n}\n\nexport function buildClipPath(\n  v: {\n    left: number\n    top: number\n    width: number\n    height: number\n    path: string\n    matrix: string | undefined\n    id: string\n    currentClipPath: string | string\n    src?: string\n  },\n  style: Record<string, string | number>,\n  inheritedStyle: Record<string, string | number>\n) {\n  if (style.clipPath === 'none') return ''\n\n  const parser = createShapeParser(v, style, inheritedStyle)\n  const clipPath = style.clipPath as string\n\n  let tmp: { type: string; [p: string]: string | number } = { type: '' }\n\n  for (const k of Object.keys(parser)) {\n    tmp = parser[k](clipPath)\n    if (tmp) break\n  }\n\n  if (tmp) {\n    const { type, ...rest } = tmp\n    return buildXMLString(\n      'clipPath',\n      {\n        id: genClipPathId(v.id),\n        'clip-path': v.currentClipPath,\n        transform: `translate(${v.left}, ${v.top})`,\n      },\n      buildXMLString(type, rest)\n    )\n  }\n  return ''\n}\n","/**\n * Generate clip path for the given element.\n */\n\nimport { buildXMLString } from '../utils.js'\nimport mask from './content-mask.js'\nimport { buildClipPath, genClipPathId } from './clip-path.js'\n\nexport default function overflow(\n  {\n    left,\n    top,\n    width,\n    height,\n    path,\n    matrix,\n    id,\n    currentClipPath,\n    src,\n  }: {\n    left: number\n    top: number\n    width: number\n    height: number\n    path: string\n    matrix: string | undefined\n    id: string\n    currentClipPath: string | string\n    src?: string\n  },\n  style: Record<string, string | number>,\n  inheritableStyle: Record<string, string | number>\n) {\n  let overflowClipPath = ''\n  const clipPath =\n    style.clipPath && style.clipPath !== 'none'\n      ? buildClipPath(\n          { left, top, width, height, path, id, matrix, currentClipPath, src },\n          style as Record<string, number>,\n          inheritableStyle\n        )\n      : ''\n\n  if (style.overflow !== 'hidden' && !src) {\n    overflowClipPath = ''\n  } else {\n    const _id = clipPath ? `satori_ocp-${id}` : genClipPathId(id)\n\n    overflowClipPath = buildXMLString(\n      'clipPath',\n      {\n        id: _id,\n        'clip-path': currentClipPath,\n      },\n      buildXMLString(path ? 'path' : 'rect', {\n        x: left,\n        y: top,\n        width,\n        height,\n        d: path ? path : undefined,\n      })\n    )\n  }\n\n  const contentMask = mask(\n    {\n      id: `satori_om-${id}`,\n      left,\n      top,\n      width,\n      height,\n      matrix,\n      borderOnly: src ? false : true,\n    },\n    style\n  )\n\n  return clipPath + overflowClipPath + contentMask\n}\n","import { buildXMLString } from '../utils.js'\nimport buildBackgroundImage from './background-image.js'\nimport type { MaskProperty } from '../parser/mask.js'\n\nconst genMaskImageId = (id: string) => `satori_mi-${id}`\n\nexport default async function buildMaskImage(\n  v: {\n    id: string\n    left: number\n    top: number\n    width: number\n    height: number\n  },\n  style: Record<string, string | number>,\n  inheritedStyle: Record<string, string | number>\n): Promise<[string, string]> {\n  if (!style.maskImage) return ['', '']\n  const { left, top, width, height, id } = v\n  const maskImage = style.maskImage as unknown as MaskProperty[]\n  const length = maskImage.length\n  if (!length) return ['', '']\n  const miId = genMaskImageId(id)\n\n  let mask = ''\n\n  for (let i = 0; i < length; i++) {\n    const m = maskImage[i]\n\n    const [_id, def] = await buildBackgroundImage(\n      { id: `${miId}-${i}`, left, top, width, height },\n      m,\n      inheritedStyle,\n      'mask'\n    )\n\n    mask +=\n      def +\n      buildXMLString('rect', {\n        x: 0,\n        y: 0,\n        width,\n        height,\n        fill: `url(#${_id})`,\n      })\n  }\n\n  mask = buildXMLString('mask', { id: miId }, mask)\n\n  return [miId, mask]\n}\n","import type { ParsedTransformOrigin } from '../transform-origin.js'\n\nimport backgroundImage from './background-image.js'\nimport radius from './border-radius.js'\nimport { boxShadow } from './shadow.js'\nimport transform from './transform.js'\nimport overflow from './overflow.js'\nimport { buildXMLString } from '../utils.js'\nimport border, { getBorderClipPath } from './border.js'\nimport { genClipPath } from './clip-path.js'\nimport buildMaskImage from './mask-image.js'\n\nexport default async function rect(\n  {\n    id,\n    left,\n    top,\n    width,\n    height,\n    isInheritingTransform,\n    src,\n    debug,\n  }: {\n    id: string\n    left: number\n    top: number\n    width: number\n    height: number\n    isInheritingTransform: boolean\n    src?: string\n    debug?: boolean\n  },\n  style: Record<string, number | string>,\n  inheritableStyle: Record<string, number | string>\n) {\n  if (style.display === 'none') return ''\n\n  const isImage = !!src\n\n  let type: 'rect' | 'path' = 'rect'\n  let matrix = ''\n  let defs = ''\n  let fills: string[] = []\n  let opacity = 1\n  let extra = ''\n\n  if (style.backgroundColor) {\n    fills.push(style.backgroundColor as string)\n  }\n\n  if (style.opacity !== undefined) {\n    opacity = +style.opacity\n  }\n\n  if (style.transform) {\n    matrix = transform(\n      {\n        left,\n        top,\n        width,\n        height,\n      },\n      style.transform as unknown as number[],\n      isInheritingTransform,\n      style.transformOrigin as ParsedTransformOrigin | undefined\n    )\n  }\n\n  let backgroundShapes = ''\n  if (style.backgroundImage) {\n    const backgrounds: string[][] = []\n\n    for (\n      let index = 0;\n      index < (style.backgroundImage as any).length;\n      index++\n    ) {\n      const background = (style.backgroundImage as any)[index]\n      const image = await backgroundImage(\n        { id: id + '_' + index, width, height, left, top },\n        background,\n        inheritableStyle\n      )\n      if (image) {\n        // Background images that come first in the array are rendered last.\n        backgrounds.unshift(image)\n      }\n    }\n\n    for (const background of backgrounds) {\n      fills.push(`url(#${background[0]})`)\n      defs += background[1]\n      if (background[2]) {\n        backgroundShapes += background[2]\n      }\n    }\n  }\n\n  const [miId, mi] = await buildMaskImage(\n    { id, left, top, width, height },\n    style,\n    inheritableStyle\n  )\n\n  defs += mi\n  const maskId = miId\n    ? `url(#${miId})`\n    : style._inheritedMaskId\n    ? `url(#${style._inheritedMaskId})`\n    : undefined\n\n  const path = radius(\n    { left, top, width, height },\n    style as Record<string, number>\n  )\n  if (path) {\n    type = 'path'\n  }\n\n  const clipPathId = style._inheritedClipPathId as number | undefined\n\n  if (debug) {\n    extra = buildXMLString('rect', {\n      x: left,\n      y: top,\n      width,\n      height,\n      fill: 'transparent',\n      stroke: '#ff5757',\n      'stroke-width': 1,\n      transform: matrix || undefined,\n      'clip-path': clipPathId ? `url(#${clipPathId})` : undefined,\n    })\n  }\n\n  const { backgroundClip, filter: cssFilter } = style\n\n  const currentClipPath =\n    backgroundClip === 'text'\n      ? `url(#satori_bct-${id})`\n      : clipPathId\n      ? `url(#${clipPathId})`\n      : style.clipPath\n      ? genClipPath(id)\n      : undefined\n\n  const clip = overflow(\n    { left, top, width, height, path, id, matrix, currentClipPath, src },\n    style as Record<string, number>,\n    inheritableStyle\n  )\n\n  // Each background generates a new rectangle.\n  // @TODO: Not sure if this is the best way to do it, maybe <pattern> with\n  // multiple <image>s is better.\n  let shape = fills\n    .map((fill) =>\n      buildXMLString(type, {\n        x: left,\n        y: top,\n        width,\n        height,\n        fill,\n        d: path ? path : undefined,\n        transform: matrix ? matrix : undefined,\n        'clip-path': currentClipPath,\n        style: cssFilter ? `filter:${cssFilter}` : undefined,\n        mask: maskId,\n      })\n    )\n    .join('')\n\n  const borderClip = getBorderClipPath(\n    {\n      id,\n      left,\n      top,\n      width,\n      height,\n      currentClipPathId: clipPathId,\n      borderPath: path,\n      borderType: type,\n    },\n    style\n  )\n\n  // If it's an image (<img>) tag, we add an extra layer of the image itself.\n  if (isImage) {\n    // We need to subtract the border and padding sizes from the image size.\n    const offsetLeft =\n      ((style.borderLeftWidth as number) || 0) +\n      ((style.paddingLeft as number) || 0)\n    const offsetTop =\n      ((style.borderTopWidth as number) || 0) +\n      ((style.paddingTop as number) || 0)\n    const offsetRight =\n      ((style.borderRightWidth as number) || 0) +\n      ((style.paddingRight as number) || 0)\n    const offsetBottom =\n      ((style.borderBottomWidth as number) || 0) +\n      ((style.paddingBottom as number) || 0)\n\n    const preserveAspectRatio =\n      style.objectFit === 'contain'\n        ? 'xMidYMid'\n        : style.objectFit === 'cover'\n        ? 'xMidYMid slice'\n        : 'none'\n\n    shape += buildXMLString('image', {\n      x: left + offsetLeft,\n      y: top + offsetTop,\n      width: width - offsetLeft - offsetRight,\n      height: height - offsetTop - offsetBottom,\n      href: src,\n      preserveAspectRatio,\n      transform: matrix ? matrix : undefined,\n      style: cssFilter ? `filter:${cssFilter}` : undefined,\n      'clip-path': `url(#satori_cp-${id})`,\n      mask: miId ? `url(#${miId})` : `url(#satori_om-${id})`,\n    })\n  }\n\n  if (borderClip) {\n    defs += borderClip[0]\n    const rectClipId = borderClip[1]\n\n    shape += border(\n      {\n        left,\n        top,\n        width,\n        height,\n        props: {\n          transform: matrix ? matrix : undefined,\n          // When using `background-clip: text`, we need to draw the extra border because\n          // it shouldn't be clipped by the clip path, so we are not using currentClipPath here.\n          'clip-path': `url(#${rectClipId})`,\n        },\n      },\n      style\n    )\n  }\n\n  // box-shadow.\n  const shadow = boxShadow(\n    {\n      width,\n      height,\n      id,\n      opacity,\n      shape: buildXMLString(type, {\n        x: left,\n        y: top,\n        width,\n        height,\n        fill: '#fff',\n        stroke: '#fff',\n        'stroke-width': 0,\n        d: path ? path : undefined,\n        transform: matrix ? matrix : undefined,\n        'clip-path': currentClipPath,\n        mask: maskId,\n      }),\n    },\n    style\n  )\n\n  return (\n    (defs ? buildXMLString('defs', {}, defs) : '') +\n    (shadow ? shadow[0] : '') +\n    clip +\n    (opacity !== 1 ? `<g opacity=\"${opacity}\">` : '') +\n    (backgroundShapes || shape) +\n    (opacity !== 1 ? `</g>` : '') +\n    (shadow ? shadow[1] : '') +\n    extra\n  )\n}\n","export default () => {\n\t// https://mths.be/emoji\n\treturn /[#*0-9]\\uFE0F?\\u20E3|[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23ED-\\u23EF\\u23F1\\u23F2\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB\\u25FC\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692\\u2694-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A7\\u26AA\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C8\\u26CF\\u26D1\\u26D3\\u26E9\\u26F0-\\u26F5\\u26F7\\u26F8\\u26FA\\u2702\\u2708\\u2709\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u27A1\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B55\\u3030\\u303D\\u3297\\u3299]\\uFE0F?|[\\u261D\\u270C\\u270D](?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?|[\\u270A\\u270B](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u2693\\u26A1\\u26AB\\u26C5\\u26CE\\u26D4\\u26EA\\u26FD\\u2705\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2795-\\u2797\\u27B0\\u27BF\\u2B50]|\\u26F9(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\u2764\\uFE0F?(?:\\u200D(?:\\uD83D\\uDD25|\\uD83E\\uDE79))?|\\uD83C(?:[\\uDC04\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDE02\\uDE37\\uDF21\\uDF24-\\uDF2C\\uDF36\\uDF7D\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E\\uDF9F\\uDFCD\\uDFCE\\uDFD4-\\uDFDF\\uDFF5\\uDFF7]\\uFE0F?|[\\uDF85\\uDFC2\\uDFC7](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDFC3\\uDFC4\\uDFCA](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDFCB\\uDFCC](?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF84\\uDF86-\\uDF93\\uDFA0-\\uDFC1\\uDFC5\\uDFC6\\uDFC8\\uDFC9\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF8-\\uDFFF]|\\uDDE6\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF]|\\uDDE7\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF]|\\uDDE8\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF]|\\uDDE9\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF]|\\uDDEA\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA]|\\uDDEB\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7]|\\uDDEC\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE]|\\uDDED\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA]|\\uDDEE\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9]|\\uDDEF\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5]|\\uDDF0\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF]|\\uDDF1\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE]|\\uDDF2\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF]|\\uDDF3\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF]|\\uDDF4\\uD83C\\uDDF2|\\uDDF5\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE]|\\uDDF6\\uD83C\\uDDE6|\\uDDF7\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC]|\\uDDF8\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF]|\\uDDF9\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF]|\\uDDFA\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF]|\\uDDFB\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA]|\\uDDFC\\uD83C[\\uDDEB\\uDDF8]|\\uDDFD\\uD83C\\uDDF0|\\uDDFE\\uD83C[\\uDDEA\\uDDF9]|\\uDDFF\\uD83C[\\uDDE6\\uDDF2\\uDDFC]|\\uDFF3\\uFE0F?(?:\\u200D(?:\\u26A7\\uFE0F?|\\uD83C\\uDF08))?|\\uDFF4(?:\\u200D\\u2620\\uFE0F?|\\uDB40\\uDC67\\uDB40\\uDC62\\uDB40(?:\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67|\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73)\\uDB40\\uDC7F)?)|\\uD83D(?:[\\uDC08\\uDC26](?:\\u200D\\u2B1B)?|[\\uDC3F\\uDCFD\\uDD49\\uDD4A\\uDD6F\\uDD70\\uDD73\\uDD76-\\uDD79\\uDD87\\uDD8A-\\uDD8D\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA\\uDECB\\uDECD-\\uDECF\\uDEE0-\\uDEE5\\uDEE9\\uDEF0\\uDEF3]\\uFE0F?|[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD74\\uDD90](?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDC00-\\uDC07\\uDC09-\\uDC14\\uDC16-\\uDC25\\uDC27-\\uDC3A\\uDC3C-\\uDC3E\\uDC40\\uDC44\\uDC45\\uDC51-\\uDC65\\uDC6A\\uDC79-\\uDC7B\\uDC7D-\\uDC80\\uDC84\\uDC88-\\uDC8E\\uDC90\\uDC92-\\uDCA9\\uDCAB-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDDA4\\uDDFB-\\uDE2D\\uDE2F-\\uDE34\\uDE37-\\uDE44\\uDE48-\\uDE4A\\uDE80-\\uDEA2\\uDEA4-\\uDEB3\\uDEB7-\\uDEBF\\uDEC1-\\uDEC5\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEDC-\\uDEDF\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB\\uDFF0]|\\uDC15(?:\\u200D\\uD83E\\uDDBA)?|\\uDC3B(?:\\u200D\\u2744\\uFE0F?)?|\\uDC41\\uFE0F?(?:\\u200D\\uD83D\\uDDE8\\uFE0F?)?|\\uDC68(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDC68\\uDC69]\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC69(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?[\\uDC68\\uDC69]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?|\\uDC69\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?))|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC6F(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDD75(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDE2E(?:\\u200D\\uD83D\\uDCA8)?|\\uDE35(?:\\u200D\\uD83D\\uDCAB)?|\\uDE36(?:\\u200D\\uD83C\\uDF2B\\uFE0F?)?)|\\uD83E(?:[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5\\uDEC3-\\uDEC5\\uDEF0\\uDEF2-\\uDEF8](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDDDE\\uDDDF](?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD0D\\uDD0E\\uDD10-\\uDD17\\uDD20-\\uDD25\\uDD27-\\uDD2F\\uDD3A\\uDD3F-\\uDD45\\uDD47-\\uDD76\\uDD78-\\uDDB4\\uDDB7\\uDDBA\\uDDBC-\\uDDCC\\uDDD0\\uDDE0-\\uDDFF\\uDE70-\\uDE7C\\uDE80-\\uDE88\\uDE90-\\uDEBD\\uDEBF-\\uDEC2\\uDECE-\\uDEDB\\uDEE0-\\uDEE8]|\\uDD3C(?:\\u200D[\\u2640\\u2642]\\uFE0F?|\\uD83C[\\uDFFB-\\uDFFF])?|\\uDDD1(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFC-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFD-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFD\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFE]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?))?|\\uDEF1(?:\\uD83C(?:\\uDFFB(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFC-\\uDFFF])?|\\uDFFC(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])?|\\uDFFD(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])?|\\uDFFE(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])?|\\uDFFF(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFE])?))?)/g;\n};\n","// This function guesses the human language (writing system) of the given\n// JavaScript string, using the Unicode Alias in extended RegExp.\n//\n// You can learn more about this in:\n// - https://en.wikipedia.org/wiki/Script_(Unicode)\n// - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Unicode_Property_Escapes\n// - https://unicode.org/reports/tr18/#General_Category_Property\n// - https://tc39.es/ecma262/multipage/text-processing.html#table-unicode-script-values\n\nimport createEmojiRegex from 'emoji-regex'\n\n// Remove the \"g\" flag\nconst emojiRegex = new RegExp(createEmojiRegex(), '')\n\n// Supported languages. The order matters.\n// Usually, this is only for \"special cases\" like CJKV languages as latin\n// characters are usually included in the base font, and can be safely fallback\n// to the Noto Sans font. A list of special cases we want to support can be\n// found here (sort by popularity):\n// - https://fonts.google.com/noto/fonts?sort=popularity&noto.query=sans\n//\n// We can't tell if a hanzi(kanji) is Chinese or Japanese by regular expressions.\n// - https://unicode.org/faq/han_cjk.html\n\nconst specialCode = {\n  emoji: emojiRegex,\n  symbol: /\\p{Symbol}/u,\n  math: /\\p{Math}/u,\n} as const\n\nconst code = {\n  'ja-JP': /\\p{scx=Hira}|\\p{scx=Kana}|\\p{scx=Han}|[\\u3000]|[\\uFF00-\\uFFEF]/u,\n  'ko-KR': /\\p{scx=Hangul}/u,\n  'zh-CN': /\\p{scx=Han}/u,\n  'zh-TW': /\\p{scx=Han}/u,\n  'zh-HK': /\\p{scx=Han}/u,\n  'th-TH': /\\p{scx=Thai}/u,\n  'bn-IN': /\\p{scx=Bengali}/u,\n  'ar-AR': /\\p{scx=Arabic}/u,\n  'ta-IN': /\\p{scx=Tamil}/u,\n  'ml-IN': /\\p{scx=Malayalam}/u,\n  'he-IL': /\\p{scx=Hebrew}/u,\n  'te-IN': /\\p{scx=Telugu}/u,\n  devanagari: /\\p{scx=Devanagari}/u,\n  kannada: /\\p{scx=Kannada}/u,\n} as const\n\ntype SpecialCodeKey = keyof typeof specialCode\ntype CodeKey = keyof typeof specialCode | keyof typeof code\nexport type Locale = keyof typeof code\nexport type LangCode = CodeKey | 'unknown'\n\nexport const locales = Object.keys({ ...code, ...specialCode }) as Locale[]\nexport function isValidLocale(x: any): x is Locale {\n  return locales.includes(x)\n}\n\nexport function detectLanguageCode(\n  segment: string,\n  locale?: Locale\n): Array<Locale> | ['unknown'] | [SpecialCodeKey] {\n  for (const c of Object.keys(specialCode) as SpecialCodeKey[]) {\n    if (specialCode[c].test(segment)) {\n      return [c]\n    }\n  }\n\n  const languages = Object.keys(code).filter((lang) =>\n    code[lang].test(segment)\n  ) as Locale[]\n\n  if (languages.length === 0) {\n    return ['unknown']\n  }\n\n  if (locale) {\n    const index = languages.findIndex((lang) => lang === locale)\n    if (index !== -1) {\n      languages.splice(index, 1)\n      languages.unshift(locale)\n    }\n  }\n\n  return languages\n}\n\nexport function normalizeLocale(locale?: string): Locale | undefined {\n  if (locale) {\n    return locales.find((l) => l.toLowerCase().startsWith(locale.toLowerCase()))\n  }\n}\n","/**\n * This module is used to calculate the layout of the current sub-tree.\n */\n\nimport type { ReactNode } from 'react'\nimport type { Node as YogaNode } from 'yoga-wasm-web'\n\nimport getYoga from './yoga/index.js'\nimport {\n  isReactElement,\n  isClass,\n  buildXMLString,\n  normalizeChildren,\n  hasDangerouslySetInnerHTMLProp,\n} from './utils.js'\nimport { SVGNodeToImage } from './handler/preprocess.js'\nimport computeStyle from './handler/compute.js'\nimport FontLoader from './font.js'\nimport buildTextNodes from './text/index.js'\nimport rect from './builder/rect.js'\nimport { Locale, normalizeLocale } from './language.js'\nimport { SerializedStyle } from './handler/expand.js'\n\nexport interface LayoutContext {\n  id: string\n  parentStyle: SerializedStyle\n  inheritedStyle: SerializedStyle\n  isInheritingTransform?: boolean\n  parent: YogaNode\n  font: FontLoader\n  embedFont: boolean\n  debug?: boolean\n  graphemeImages?: Record<string, string>\n  canLoadAdditionalAssets: boolean\n  locale?: Locale\n  getTwStyles: (tw: string, style: any) => any\n  onNodeDetected?: (node: SatoriNode) => void\n}\n\nexport interface SatoriNode {\n  // Layout information.\n  left: number\n  top: number\n  width: number\n  height: number\n  type: string\n  key?: string | number\n  props: Record<string, any>\n  textContent?: string\n}\n\nexport default async function* layout(\n  element: ReactNode,\n  context: LayoutContext\n): AsyncGenerator<\n  { word: string; locale?: string }[],\n  string,\n  [number, number]\n> {\n  const Yoga = await getYoga()\n  const {\n    id,\n    inheritedStyle,\n    parent,\n    font,\n    debug,\n    locale,\n    embedFont = true,\n    graphemeImages,\n    canLoadAdditionalAssets,\n    getTwStyles,\n  } = context\n\n  // 1. Pre-process the node.\n  if (element === null || typeof element === 'undefined') {\n    yield\n    yield\n    return ''\n  }\n\n  // Not a regular element.\n  if (!isReactElement(element) || typeof element.type === 'function') {\n    let iter: ReturnType<typeof layout>\n\n    if (!isReactElement(element)) {\n      // Process as text node.\n      iter = buildTextNodes(String(element), context)\n      yield (await iter.next()).value as { word: string; locale?: Locale }[]\n    } else {\n      if (isClass(element.type as Function)) {\n        throw new Error('Class component is not supported.')\n      }\n      // If it's a custom component, Satori strictly requires it to be pure,\n      // stateless, and not relying on any React APIs such as hooks or suspense.\n      // So we can safely evaluate it to render. Otherwise, an error will be\n      // thrown by React.\n      iter = layout((element.type as Function)(element.props), context)\n      yield (await iter.next()).value as { word: string; locale?: string }[]\n    }\n\n    await iter.next()\n    const offset = yield\n    return (await iter.next(offset)).value as string\n  }\n\n  // Process as element.\n  const { type, props } = element\n  if (props && hasDangerouslySetInnerHTMLProp(props)) {\n    throw new Error(\n      'dangerouslySetInnerHTML property is not supported. See documentation for more information https://github.com/vercel/satori#jsx.'\n    )\n  }\n  let { style, children, tw, lang: _newLocale = locale } = props || {}\n  const newLocale = normalizeLocale(_newLocale)\n\n  // Extend Tailwind styles.\n  if (tw) {\n    const twStyles = getTwStyles(tw, style)\n    style = Object.assign(twStyles, style)\n  }\n\n  const node = Yoga.Node.create()\n  parent.insertChild(node, parent.getChildCount())\n\n  const [computedStyle, newInheritableStyle] = await computeStyle(\n    node,\n    type,\n    inheritedStyle,\n    style,\n    props\n  )\n  // Post-process styles to attach inheritable properties for Satori.\n\n  // If the element is inheriting the parent `transform`, or applying its own.\n  // This affects the coordinate system.\n  const isInheritingTransform =\n    computedStyle.transform === inheritedStyle.transform\n  if (!isInheritingTransform) {\n    ;(computedStyle.transform as any).__parent = inheritedStyle.transform\n  }\n\n  // If the element has `overflow` set to `hidden` or clip-path is set, we need to create a clip\n  // path and use it in all its children.\n  if (\n    computedStyle.overflow === 'hidden' ||\n    (computedStyle.clipPath && computedStyle.clipPath !== 'none')\n  ) {\n    newInheritableStyle._inheritedClipPathId = `satori_cp-${id}`\n    newInheritableStyle._inheritedMaskId = `satori_om-${id}`\n  }\n\n  if (computedStyle.maskImage) {\n    newInheritableStyle._inheritedMaskId = `satori_mi-${id}`\n  }\n\n  // If the element has `background-clip: text` set, we need to create a clip\n  // path and use it in all its children.\n  if (computedStyle.backgroundClip === 'text') {\n    const mutateRefValue = { value: '' } as any\n    newInheritableStyle._inheritedBackgroundClipTextPath = mutateRefValue\n    computedStyle._inheritedBackgroundClipTextPath = mutateRefValue\n  }\n\n  // 2. Do layout recursively for its children.\n  const normalizedChildren = normalizeChildren(children)\n  const iterators: ReturnType<typeof layout>[] = []\n\n  let i = 0\n  const segmentsMissingFont: { word: string; locale?: string }[] = []\n  for (const child of normalizedChildren) {\n    const iter = layout(child, {\n      id: id + '-' + i++,\n      parentStyle: computedStyle,\n      inheritedStyle: newInheritableStyle,\n      isInheritingTransform: true,\n      parent: node,\n      font,\n      embedFont,\n      debug,\n      graphemeImages,\n      canLoadAdditionalAssets,\n      locale: newLocale,\n      getTwStyles,\n      onNodeDetected: context.onNodeDetected,\n    })\n    if (canLoadAdditionalAssets) {\n      segmentsMissingFont.push(...(((await iter.next()).value as any) || []))\n    } else {\n      await iter.next()\n    }\n    iterators.push(iter)\n  }\n  yield segmentsMissingFont\n  for (const iter of iterators) await iter.next()\n\n  // 3. Post-process the node.\n  const [x, y] = yield\n  let { left, top, width, height } = node.getComputedLayout()\n  // Attach offset to the current node.\n  left += x\n  top += y\n\n  let childrenRenderResult = ''\n  let baseRenderResult = ''\n  let depsRenderResult = ''\n\n  // Emit event for the current node. We don't pass the children prop to the\n  // event handler because everything is already flattened, unless it's a text\n  // node.\n  const { children: childrenNode, ...restProps } = props\n  context.onNodeDetected?.({\n    left,\n    top,\n    width,\n    height,\n    type,\n    props: restProps,\n    key: element.key,\n    textContent: isReactElement(childrenNode) ? undefined : childrenNode,\n  })\n\n  // Generate the rendered markup for the current node.\n  if (type === 'img') {\n    const src = computedStyle.__src as string\n    baseRenderResult = await rect(\n      {\n        id,\n        left,\n        top,\n        width,\n        height,\n        src,\n        isInheritingTransform,\n        debug,\n      },\n      computedStyle,\n      newInheritableStyle\n    )\n  } else if (type === 'svg') {\n    // When entering a <svg> node, we need to convert it to a <img> with the\n    // SVG data URL embedded.\n    const currentColor = computedStyle.color\n    const src = await SVGNodeToImage(element, currentColor)\n    baseRenderResult = await rect(\n      {\n        id,\n        left,\n        top,\n        width,\n        height,\n        src,\n        isInheritingTransform,\n        debug,\n      },\n      computedStyle,\n      newInheritableStyle\n    )\n  } else {\n    const display = style?.display\n    if (\n      type === 'div' &&\n      children &&\n      typeof children !== 'string' &&\n      display !== 'flex' &&\n      display !== 'none'\n    ) {\n      throw new Error(\n        `Expected <div> to have explicit \"display: flex\" or \"display: none\" if it has more than one child node.`\n      )\n    }\n    baseRenderResult = await rect(\n      { id, left, top, width, height, isInheritingTransform, debug },\n      computedStyle,\n      newInheritableStyle\n    )\n  }\n\n  // Generate the rendered markup for the children.\n  for (const iter of iterators) {\n    childrenRenderResult += (await iter.next([left, top])).value\n  }\n\n  // An extra pass to generate the special background-clip shape collected from\n  // children.\n  if (computedStyle._inheritedBackgroundClipTextPath) {\n    depsRenderResult += buildXMLString(\n      'clipPath',\n      {\n        id: `satori_bct-${id}`,\n        'clip-path': computedStyle._inheritedClipPathId\n          ? `url(#${computedStyle._inheritedClipPathId})`\n          : undefined,\n      },\n      (computedStyle._inheritedBackgroundClipTextPath as any).value\n    )\n  }\n\n  return depsRenderResult + baseRenderResult + childrenRenderResult\n}\n","/**\n * This class handles everything related to fonts.\n */\nimport opentype from '@shuding/opentype.js'\nimport { Locale, locales, isValidLocale } from './language.js'\n\nexport type Weight = 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900\nexport type WeightName = 'normal' | 'bold'\nexport type FontWeight = Weight | WeightName\nexport type FontStyle = 'normal' | 'italic'\nconst SUFFIX_WHEN_LANG_NOT_SET = 'unknown'\n\nexport interface FontOptions {\n  data: Buffer | ArrayBuffer\n  name: string\n  weight?: Weight\n  style?: FontStyle\n  lang?: string\n}\n\nexport type FontEngine = {\n  has: (s: string) => boolean\n  baseline: (s?: string, resolvedFont?: any) => number\n  height: (s?: string, resolvedFont?: any) => number\n  measure: (\n    s: string,\n    style: {\n      fontSize: number\n      letterSpacing: number\n    }\n  ) => number\n  getSVG: (\n    s: string,\n    style: {\n      fontSize: number\n      top: number\n      left: number\n      letterSpacing: number\n    }\n  ) => string\n}\n\nfunction compareFont(\n  weight,\n  style,\n  [matchedWeight, matchedStyle],\n  [nextWeight, nextStyle]\n) {\n  if (matchedWeight !== nextWeight) {\n    // Put the defined weight first.\n    if (!matchedWeight) return 1\n    if (!nextWeight) return -1\n\n    // Exact match.\n    if (matchedWeight === weight) return -1\n    if (nextWeight === weight) return 1\n\n    // 400 and 500.\n    if (weight === 400 && matchedWeight === 500) return -1\n    if (weight === 500 && matchedWeight === 400) return -1\n    if (weight === 400 && nextWeight === 500) return 1\n    if (weight === 500 && nextWeight === 400) return 1\n\n    // Less than 400.\n    if (weight < 400) {\n      if (matchedWeight < weight && nextWeight < weight)\n        return nextWeight - matchedWeight\n      if (matchedWeight < weight) return -1\n      if (nextWeight < weight) return 1\n      return matchedWeight - nextWeight\n    }\n\n    // Greater than 500.\n    if (weight < matchedWeight && weight < nextWeight)\n      return matchedWeight - nextWeight\n    if (weight < matchedWeight) return -1\n    if (weight < nextWeight) return 1\n    return nextWeight - matchedWeight\n  }\n\n  if (matchedStyle !== nextStyle) {\n    // Exact match.\n    if (matchedStyle === style) return -1\n    if (nextStyle === style) return 1\n  }\n\n  return -1\n}\n\nexport default class FontLoader {\n  defaultFont: opentype.Font\n  fonts = new Map<string, [opentype.Font, Weight?, FontStyle?][]>()\n  constructor(fontOptions: FontOptions[]) {\n    this.addFonts(fontOptions)\n  }\n\n  // Get font by name and weight.\n  private get({\n    name,\n    weight,\n    style,\n  }: {\n    name: string\n    weight: Weight | WeightName\n    style: FontStyle\n  }) {\n    if (!this.fonts.has(name)) {\n      return null\n    }\n\n    if (weight === 'normal') weight = 400\n    if (weight === 'bold') weight = 700\n    if (typeof weight === 'string')\n      weight = Number.parseInt(weight, 10) as Weight\n\n    const fonts = [...this.fonts.get(name)]\n\n    let matchedFont = fonts[0]\n\n    // Fallback to the closest weight and style according to the strategy here:\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#fallback_weights\n    for (let i = 1; i < fonts.length; i++) {\n      const [, weight1, style1] = matchedFont\n      const [, weight2, style2] = fonts[i]\n      if (\n        compareFont(weight, style, [weight1, style1], [weight2, style2]) > 0\n      ) {\n        matchedFont = fonts[i]\n      }\n    }\n\n    return matchedFont[0]\n  }\n\n  public addFonts(fontOptions: FontOptions[]) {\n    for (const fontOption of fontOptions) {\n      const { name, data, lang } = fontOption\n      if (lang && !isValidLocale(lang)) {\n        throw new Error(\n          `Invalid value for props \\`lang\\`: \"${lang}\". The value must be one of the following: ${locales.join(\n            ', '\n          )}.`\n        )\n      }\n      const _lang = lang ?? SUFFIX_WHEN_LANG_NOT_SET\n      const font = opentype.parse(\n        // Buffer to ArrayBuffer.\n        'buffer' in data\n          ? data.buffer.slice(\n              data.byteOffset,\n              data.byteOffset + data.byteLength\n            )\n          : data,\n        // @ts-ignore\n        { lowMemory: true }\n      )\n\n      // Modify the `charToGlyphIndex` method, so we can know which char is\n      // being mapped to which glyph.\n      const originalCharToGlyphIndex = font.charToGlyphIndex\n      font.charToGlyphIndex = (char) => {\n        const index = originalCharToGlyphIndex.call(font, char)\n        if (index === 0) {\n          // The current requested char is missing a glyph.\n          if ((font as any)._trackBrokenChars) {\n            ;(font as any)._trackBrokenChars.push(char)\n          }\n        }\n        return index\n      }\n\n      // We use the first font as the default font fallback.\n      if (!this.defaultFont) this.defaultFont = font\n\n      const _name = `${name.toLowerCase()}_${_lang}`\n\n      if (!this.fonts.has(_name)) {\n        this.fonts.set(_name, [])\n      }\n      this.fonts.get(_name).push([font, fontOption.weight, fontOption.style])\n    }\n  }\n\n  public getEngine(\n    fontSize = 16,\n    lineHeight = 1.2,\n    {\n      fontFamily = 'sans-serif',\n      fontWeight = 400,\n      fontStyle = 'normal',\n    }: {\n      fontFamily?: string | string[]\n      fontWeight?: FontWeight\n      fontStyle?: FontStyle\n    },\n    locale: Locale | undefined\n  ): FontEngine {\n    if (!this.fonts.size) {\n      throw new Error(\n        'No fonts are loaded. At least one font is required to calculate the layout.'\n      )\n    }\n\n    fontFamily = (Array.isArray(fontFamily) ? fontFamily : [fontFamily]).map(\n      (name) => name.toLowerCase()\n    )\n    const fonts = []\n    fontFamily.forEach((face) => {\n      const getNormal = this.get({\n        name: face,\n        weight: fontWeight,\n        style: fontStyle,\n      })\n      if (getNormal) {\n        fonts.push(getNormal)\n        return\n      }\n\n      const getUnknown = this.get({\n        name: face + '_unknown',\n        weight: fontWeight,\n        style: fontStyle,\n      })\n\n      if (getUnknown) {\n        fonts.push(getUnknown)\n        return\n      }\n    })\n\n    // Add additional fonts as the fallback.\n    const keys = Array.from(this.fonts.keys())\n    const specifiedLangFonts = []\n    const nonSpecifiedLangFonts = []\n    const additionalFonts = []\n    for (const name of keys) {\n      if (fontFamily.includes(name)) continue\n      if (locale) {\n        const lang = getLangFromFontName(name)\n        if (lang) {\n          if (lang === locale) {\n            specifiedLangFonts.push(\n              this.get({\n                name,\n                weight: fontWeight,\n                style: fontStyle,\n              })\n            )\n          } else {\n            nonSpecifiedLangFonts.push(\n              this.get({\n                name,\n                weight: fontWeight,\n                style: fontStyle,\n              })\n            )\n          }\n        } else {\n          additionalFonts.push(\n            this.get({\n              name,\n              weight: fontWeight,\n              style: fontStyle,\n            })\n          )\n        }\n      } else {\n        additionalFonts.push(\n          this.get({\n            name,\n            weight: fontWeight,\n            style: fontStyle,\n          })\n        )\n      }\n    }\n\n    const cachedFontResolver = new Map<number, opentype.Font | undefined>()\n    const resolveFont = (word: string, fallback = true) => {\n      const _fonts = [\n        ...fonts,\n        ...additionalFonts,\n        ...specifiedLangFonts,\n        ...(fallback ? nonSpecifiedLangFonts : []),\n      ]\n\n      if (typeof word === 'undefined') {\n        if (fallback) {\n          return _fonts[_fonts.length - 1]\n        }\n        return undefined\n      }\n\n      const code = word.charCodeAt(0)\n      if (cachedFontResolver.has(code)) return cachedFontResolver.get(code)\n\n      const font = _fonts.find((_font, index) => {\n        return (\n          !!_font.charToGlyphIndex(word) ||\n          (fallback && index === _fonts.length - 1)\n        )\n      })\n\n      if (font) {\n        cachedFontResolver.set(code, font)\n      }\n\n      return font\n    }\n\n    const ascender = (resolvedFont: opentype.Font, useOS2Table = false) => {\n      const _ascender =\n        (useOS2Table ? resolvedFont.tables?.os2?.sTypoAscender : 0) ||\n        resolvedFont.ascender\n      return (_ascender / resolvedFont.unitsPerEm) * fontSize\n    }\n    const descender = (resolvedFont: opentype.Font, useOS2Table = false) => {\n      const _descender =\n        (useOS2Table ? resolvedFont.tables?.os2?.sTypoDescender : 0) ||\n        resolvedFont.descender\n      return (_descender / resolvedFont.unitsPerEm) * fontSize\n    }\n\n    const resolve = (s: string) => {\n      return resolveFont(s, false)\n    }\n\n    const engine = {\n      has: (s: string) => {\n        if (s === '\\n') return true\n        const font = resolve(s)\n        if (!font) return false\n        ;(font as any)._trackBrokenChars = []\n        font.stringToGlyphs(s)\n        if (!(font as any)._trackBrokenChars.length) return true\n        ;(font as any)._trackBrokenChars = undefined\n        return false\n      },\n      baseline: (\n        s?: string,\n        resolvedFont = typeof s === 'undefined' ? fonts[0] : resolveFont(s)\n      ) => {\n        // https://www.w3.org/TR/css-inline-3/#css-metrics\n        // https://www.w3.org/TR/CSS2/visudet.html#leading\n        // Note. It is recommended that implementations that use OpenType or\n        // TrueType fonts use the metrics \"sTypoAscender\" and \"sTypoDescender\"\n        // from the font's OS/2 table for A and D (after scaling to the current\n        // element's font size). In the absence of these metrics, the \"Ascent\"\n        // and \"Descent\" metrics from the HHEA table should be used.\n        const A = ascender(resolvedFont, true)\n        const D = descender(resolvedFont, true)\n        const glyphHeight = engine.height(s, resolvedFont)\n        const { yMax, yMin } = resolvedFont.tables.head\n\n        const sGlyphHeight = A - D\n        const baselineOffset = (yMax / (yMax - yMin) - 1) * sGlyphHeight\n\n        return glyphHeight * ((1.2 / lineHeight + 1) / 2) + baselineOffset\n      },\n      height: (\n        s?: string,\n        resolvedFont = typeof s === 'undefined' ? fonts[0] : resolveFont(s)\n      ) => {\n        return (\n          (ascender(resolvedFont) - descender(resolvedFont)) *\n          (lineHeight / 1.2)\n        )\n      },\n      measure: (\n        s: string,\n        style: {\n          fontSize: number\n          letterSpacing: number\n        }\n      ) => {\n        return this.measure(resolveFont, s, style)\n      },\n      getSVG: (\n        s: string,\n        style: {\n          fontSize: number\n          top: number\n          left: number\n          letterSpacing: number\n        }\n      ) => {\n        return this.getSVG(resolveFont, s, style)\n      },\n    }\n\n    return engine\n  }\n\n  private patchFontFallbackResolver(\n    font: opentype.Font,\n    resolveFont: (word: string, fallback?: boolean) => opentype.Font\n  ) {\n    const brokenChars = []\n    ;(font as any)._trackBrokenChars = brokenChars\n\n    const originalStringToGlyphs = font.stringToGlyphs\n    font.stringToGlyphs = (s: string, ...args: any) => {\n      const glyphs = originalStringToGlyphs.call(font, s, ...args)\n\n      for (let i = 0; i < glyphs.length; i++) {\n        // Hitting an undefined glyph. We have to try to resolve it from other\n        // fonts.\n        // @TODO: This affects the kerning resolution but should be fine for now.\n        if (glyphs[i].unicode === undefined) {\n          const char = brokenChars.shift()\n          const anotherFont = resolveFont(char)\n          if (anotherFont !== font) {\n            const glyph = anotherFont.charToGlyph(char)\n            // Scale the glyph to match the current units per em.\n            const scale = font.unitsPerEm / anotherFont.unitsPerEm\n            const p = new opentype.Path()\n            p.unitsPerEm = font.unitsPerEm\n            p.commands = glyph.path.commands.map((command) => {\n              const scaledCommand = { ...command }\n              for (let k in scaledCommand) {\n                if (typeof scaledCommand[k] === 'number') {\n                  scaledCommand[k] *= scale\n                }\n              }\n              return scaledCommand\n            })\n            const g = new opentype.Glyph({\n              ...glyph,\n              advanceWidth: glyph.advanceWidth * scale,\n              xMin: glyph.xMin * scale,\n              xMax: glyph.xMax * scale,\n              yMin: glyph.yMin * scale,\n              yMax: glyph.yMax * scale,\n              path: p,\n            })\n\n            glyphs[i] = g\n          }\n        }\n      }\n\n      return glyphs\n    }\n\n    return () => {\n      font.stringToGlyphs = originalStringToGlyphs\n      ;(font as any)._trackBrokenChars = undefined\n    }\n  }\n\n  private measure(\n    resolveFont: (word: string, fallback?: boolean) => opentype.Font,\n    content: string,\n    {\n      fontSize,\n      letterSpacing = 0,\n    }: {\n      fontSize: number\n      letterSpacing: number\n    }\n  ) {\n    const font = resolveFont(content)\n    const unpatch = this.patchFontFallbackResolver(font, resolveFont)\n\n    try {\n      return font.getAdvanceWidth(content, fontSize, {\n        letterSpacing: letterSpacing / fontSize,\n      })\n    } finally {\n      unpatch()\n    }\n  }\n\n  private getSVG(\n    resolveFont: (word: string, fallback?: boolean) => opentype.Font,\n    content: string,\n    {\n      fontSize,\n      top,\n      left,\n      letterSpacing = 0,\n    }: {\n      fontSize: number\n      top: number\n      left: number\n      letterSpacing: number\n    }\n  ) {\n    const font = resolveFont(content)\n    const unpatch = this.patchFontFallbackResolver(font, resolveFont)\n\n    try {\n      if (fontSize === 0) {\n        return ''\n      }\n      return font\n        .getPath(content.replace(/\\n/g, ''), left, top, fontSize, {\n          letterSpacing: letterSpacing / fontSize,\n        })\n        .toPathData(1)\n    } finally {\n      unpatch()\n    }\n  }\n}\n\nfunction getLangFromFontName(name: string): Locale | undefined {\n  const arr = name.split('_')\n  const lang = arr[arr.length - 1]\n\n  return lang === SUFFIX_WHEN_LANG_NOT_SET ? undefined : (lang as Locale)\n}\n","import { buildXMLString } from '../utils.js'\n\nexport default function svg({\n  width,\n  height,\n  content,\n}: {\n  width: number\n  height: number\n  content: string\n}) {\n  return buildXMLString(\n    'svg',\n    {\n      width,\n      height,\n      viewBox: `0 0 ${width} ${height}`,\n      xmlns: 'http://www.w3.org/2000/svg',\n    },\n    content\n  )\n}\n","import resolveConfig from 'tailwindcss/resolveConfig';\nimport Cache from './cache';\nimport ClassParser from './ClassParser';\nimport { parseInputs } from './parse-inputs';\nimport { complete, warn } from './helpers';\nimport { getAddedUtilities } from './plugin';\nimport { removeOpacityHelpers } from './resolve/color';\nexport function create(customConfig, platform) {\n    const config = resolveConfig(withContent(customConfig));\n    const device = {};\n    const pluginUtils = getAddedUtilities(config.plugins);\n    const customStringUtils = {};\n    const customStyleUtils = Object.entries(pluginUtils)\n        .map(([util, style]) => {\n        if (typeof style === `string`) {\n            // mutating while mapping, i know - bad form, but for performance sake... \\_()_/\n            customStringUtils[util] = style;\n            return [util, { kind: `null` }];\n        }\n        return [util, complete(style)];\n    })\n        .filter(([, ir]) => ir.kind !== `null`);\n    function deriveCacheGroup() {\n        return ([\n            device.windowDimensions ? `w${device.windowDimensions.width}` : false,\n            device.windowDimensions ? `h${device.windowDimensions.height}` : false,\n            device.fontScale ? `fs${device.fontScale}` : false,\n            device.colorScheme === `dark` ? `dark` : false,\n            device.pixelDensity === 2 ? `retina` : false,\n        ]\n            .filter(Boolean)\n            .join(`--`) || `default`);\n    }\n    let cacheGroup = deriveCacheGroup();\n    const contextCaches = {};\n    function getCache() {\n        const existing = contextCaches[cacheGroup];\n        if (existing) {\n            return existing;\n        }\n        const cache = new Cache(customStyleUtils);\n        contextCaches[cacheGroup] = cache;\n        return cache;\n    }\n    function style(...inputs) {\n        const cache = getCache();\n        let resolved = {};\n        const dependents = [];\n        const ordered = [];\n        const [utilities, userStyle] = parseInputs(inputs);\n        // check if we've seen this full set of classes before\n        // if we have a cached copy, we can skip examining each utility\n        const joined = utilities.join(` `);\n        const cached = cache.getStyle(joined);\n        if (cached) {\n            return { ...cached, ...(userStyle ? userStyle : {}) };\n        }\n        for (const utility of utilities) {\n            let styleIr = cache.getIr(utility);\n            if (!styleIr && utility in customStringUtils) {\n                const customStyle = style(customStringUtils[utility]);\n                cache.setIr(utility, complete(customStyle));\n                resolved = { ...resolved, ...customStyle };\n                continue;\n            }\n            const parser = new ClassParser(utility, config, cache, device, platform);\n            styleIr = parser.parse();\n            switch (styleIr.kind) {\n                case `complete`:\n                    resolved = { ...resolved, ...styleIr.style };\n                    cache.setIr(utility, styleIr);\n                    break;\n                case `dependent`:\n                    dependents.push(styleIr);\n                    break;\n                case `ordered`:\n                    ordered.push(styleIr);\n                    break;\n                case `null`:\n                    cache.setIr(utility, styleIr);\n                    break;\n            }\n        }\n        if (ordered.length > 0) {\n            ordered.sort((a, b) => a.order - b.order);\n            for (const orderedStyle of ordered) {\n                switch (orderedStyle.styleIr.kind) {\n                    case `complete`:\n                        resolved = { ...resolved, ...orderedStyle.styleIr.style };\n                        break;\n                    case `dependent`:\n                        dependents.push(orderedStyle.styleIr);\n                        break;\n                }\n            }\n        }\n        if (dependents.length > 0) {\n            for (const dependent of dependents) {\n                const error = dependent.complete(resolved);\n                if (error) {\n                    warn(error);\n                }\n            }\n            removeOpacityHelpers(resolved);\n        }\n        // cache the full set of classes for future re-renders\n        // it's important we cache BEFORE merging in userStyle below\n        if (joined !== ``) {\n            cache.setStyle(joined, resolved);\n        }\n        if (userStyle) {\n            resolved = { ...resolved, ...userStyle };\n        }\n        return resolved;\n    }\n    function color(utils) {\n        const styleObj = style(utils\n            .split(/\\s+/g)\n            .map((util) => util.replace(/^(bg|text|border)-/, ``))\n            .map((util) => `bg-${util}`)\n            .join(` `));\n        return typeof styleObj.backgroundColor === `string`\n            ? styleObj.backgroundColor\n            : undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    const tailwindFn = (strings, ...values) => {\n        let str = ``;\n        strings.forEach((string, i) => {\n            var _a;\n            str += string + ((_a = values[i]) !== null && _a !== void 0 ? _a : ``);\n        });\n        return style(str);\n    };\n    tailwindFn.style = style;\n    tailwindFn.color = color;\n    tailwindFn.prefixMatch = (...prefixes) => {\n        const joined = prefixes.sort().join(`:`);\n        const cache = getCache();\n        const cached = cache.getPrefixMatch(joined);\n        if (cached !== undefined) {\n            return cached;\n        }\n        const parser = new ClassParser(`${joined}:flex`, config, cache, device, platform);\n        const ir = parser.parse();\n        const prefixMatches = ir.kind !== `null`;\n        cache.setPrefixMatch(joined, prefixMatches);\n        return prefixMatches;\n    };\n    tailwindFn.setWindowDimensions = (newDimensions) => {\n        device.windowDimensions = newDimensions;\n        cacheGroup = deriveCacheGroup();\n    };\n    tailwindFn.setFontScale = (newFontScale) => {\n        device.fontScale = newFontScale;\n        cacheGroup = deriveCacheGroup();\n    };\n    tailwindFn.setPixelDensity = (newPixelDensity) => {\n        device.pixelDensity = newPixelDensity;\n        cacheGroup = deriveCacheGroup();\n    };\n    tailwindFn.setColorScheme = (newColorScheme) => {\n        device.colorScheme = newColorScheme;\n        cacheGroup = deriveCacheGroup();\n    };\n    return tailwindFn;\n}\nexport default create;\nfunction withContent(config) {\n    return {\n        ...config,\n        // prevent warnings from tailwind about not having a `content` prop\n        // we don't need one because we have our own jit parser which\n        // does not rely on knowing content paths to search\n        content: [`_no_warnings_please`],\n    };\n}\n","export const PLATFORMS = [`ios`, `android`, `windows`, `macos`, `web`];\nexport function isPlatform(x) {\n    return PLATFORMS.includes(x);\n}\nexport const ORIENTATIONS = [`portrait`, `landscape`];\nexport function isOrientation(x) {\n    return ORIENTATIONS.includes(x);\n}\nexport var ConfigType;\n(function (ConfigType) {\n    ConfigType[\"fontSize\"] = \"fontSize\";\n    ConfigType[\"lineHeight\"] = \"lineHeight\";\n})(ConfigType || (ConfigType = {}));\nexport var Unit;\n(function (Unit) {\n    Unit[\"rem\"] = \"rem\";\n    Unit[\"em\"] = \"em\";\n    Unit[\"px\"] = \"px\";\n    Unit[\"percent\"] = \"%\";\n    Unit[\"vw\"] = \"vw\";\n    Unit[\"vh\"] = \"vh\";\n    Unit[\"none\"] = \"<no-css-unit>\";\n})(Unit || (Unit = {}));\nexport function isString(value) {\n    return typeof value === `string`;\n}\nexport function isObject(value) {\n    return typeof value === `object`;\n}\n","var _a;\nimport { Unit } from './types';\nexport function complete(style) {\n    return { kind: `complete`, style };\n}\nexport function parseNumericValue(value, context = {}) {\n    const { fractions } = context;\n    if (fractions && value.includes(`/`)) {\n        const [numerator = ``, denominator = ``] = value.split(`/`, 2);\n        const parsedNumerator = parseNumericValue(numerator);\n        const parsedDenominator = parseNumericValue(denominator);\n        if (!parsedNumerator || !parsedDenominator) {\n            return null;\n        }\n        return [parsedNumerator[0] / parsedDenominator[0], parsedDenominator[1]];\n    }\n    const number = parseFloat(value);\n    if (Number.isNaN(number)) {\n        return null;\n    }\n    const match = value.match(/(([a-z]{2,}|%))$/);\n    if (!match) {\n        return [number, Unit.none];\n    }\n    switch (match === null || match === void 0 ? void 0 : match[1]) {\n        case `rem`:\n            return [number, Unit.rem];\n        case `px`:\n            return [number, Unit.px];\n        case `em`:\n            return [number, Unit.em];\n        case `%`:\n            return [number, Unit.percent];\n        case `vw`:\n            return [number, Unit.vw];\n        case `vh`:\n            return [number, Unit.vh];\n        default:\n            return null;\n    }\n}\nexport function getCompleteStyle(prop, value, context = {}) {\n    const styleVal = parseStyleVal(value, context);\n    return styleVal === null ? null : complete({ [prop]: styleVal });\n}\nexport function mergeStyle(prop, value, style) {\n    const styleVal = parseStyleVal(value);\n    if (styleVal !== null) {\n        style[prop] = styleVal;\n    }\n    return style;\n}\nexport function getStyle(prop, value) {\n    const styleVal = parseStyleVal(value);\n    return styleVal === null ? null : { [prop]: styleVal };\n}\nexport function parseStyleVal(value, context = {}) {\n    if (value === undefined) {\n        return null;\n    }\n    const parsed = parseNumericValue(String(value), context);\n    if (parsed) {\n        return toStyleVal(...parsed, context);\n    }\n    else {\n        return null;\n    }\n}\nexport function toStyleVal(number, unit, context = {}) {\n    const { isNegative, device } = context;\n    switch (unit) {\n        case Unit.rem:\n            return number * 16 * (isNegative ? -1 : 1);\n        case Unit.px:\n            return number * (isNegative ? -1 : 1);\n        case Unit.percent:\n            return `${isNegative ? `-` : ``}${number}%`;\n        case Unit.none:\n            return number * (isNegative ? -1 : 1);\n        case Unit.vw:\n            if (!(device === null || device === void 0 ? void 0 : device.windowDimensions)) {\n                warn(`\\`vw\\` CSS unit requires configuration with \\`useDeviceContext()\\``);\n                return null;\n            }\n            return device.windowDimensions.width * (number / 100);\n        case Unit.vh:\n            if (!(device === null || device === void 0 ? void 0 : device.windowDimensions)) {\n                warn(`\\`vh\\` CSS unit requires configuration with \\`useDeviceContext()\\``);\n                return null;\n            }\n            return device.windowDimensions.height * (number / 100);\n        default:\n            return null;\n    }\n}\nexport function toPx(value) {\n    const parsed = parseNumericValue(value);\n    if (!parsed) {\n        return null;\n    }\n    const [number, unit] = parsed;\n    switch (unit) {\n        case Unit.rem:\n            return number * 16;\n        case Unit.px:\n            return number;\n        default:\n            return null;\n    }\n}\nconst DIR_MAP = {\n    t: `Top`,\n    tr: `TopRight`,\n    tl: `TopLeft`,\n    b: `Bottom`,\n    br: `BottomRight`,\n    bl: `BottomLeft`,\n    l: `Left`,\n    r: `Right`,\n    x: `Horizontal`,\n    y: `Vertical`,\n};\nexport function getDirection(string) {\n    return DIR_MAP[string !== null && string !== void 0 ? string : ``] || `All`;\n}\nexport function parseAndConsumeDirection(utilityFragment) {\n    let direction = `All`;\n    const consumed = utilityFragment.replace(/^-(t|b|r|l|tr|tl|br|bl)(-|$)/, (_, dir) => {\n        direction = getDirection(dir);\n        return ``;\n    });\n    return [consumed, direction];\n}\nexport function parseUnconfigged(value, context = {}) {\n    if (value.includes(`/`)) {\n        const style = unconfiggedStyleVal(value, { ...context, fractions: true });\n        if (style)\n            return style;\n    }\n    if (value[0] === `[`) {\n        value = value.slice(1, -1);\n    }\n    return unconfiggedStyleVal(value, context);\n}\nexport function unconfiggedStyle(prop, value, context = {}) {\n    const styleVal = parseUnconfigged(value, context);\n    if (styleVal === null) {\n        return null;\n    }\n    return complete({ [prop]: styleVal });\n}\nfunction unconfiggedStyleVal(value, context = {}) {\n    if (value === `px`) {\n        return 1;\n    }\n    const parsed = parseNumericValue(value, context);\n    if (!parsed) {\n        return null;\n    }\n    let [number, unit] = parsed;\n    if (context.fractions) {\n        unit = Unit.percent;\n        number *= 100;\n    }\n    // not sure if this is the right approach, but this allows arbitrary\n    // non-bracket numbers, like top-73 and it INFERS the meaning to be\n    // tailwind's default scale for spacing, which is 1 = 0.25rem\n    if (unit === Unit.none) {\n        number = number / 4;\n        unit = Unit.rem;\n    }\n    return toStyleVal(number, unit, context);\n}\nfunction consoleWarn(...args) {\n    console.warn(...args);\n}\nfunction noopWarn(..._) {\n    // \\_()_/\n}\nexport const warn = typeof process === `undefined` || ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.JEST_WORKER_ID) === undefined\n    ? consoleWarn\n    : noopWarn;\n","import { complete } from './helpers';\nconst defaultStyles = [\n    [`aspect-square`, complete({ aspectRatio: 1 })],\n    [`aspect-video`, complete({ aspectRatio: 16 / 9 })],\n    [`items-center`, complete({ alignItems: `center` })],\n    [`items-start`, complete({ alignItems: `flex-start` })],\n    [`items-end`, complete({ alignItems: `flex-end` })],\n    [`items-baseline`, complete({ alignItems: `baseline` })],\n    [`items-stretch`, complete({ alignItems: `stretch` })],\n    [`justify-start`, complete({ justifyContent: `flex-start` })],\n    [`justify-end`, complete({ justifyContent: `flex-end` })],\n    [`justify-center`, complete({ justifyContent: `center` })],\n    [`justify-between`, complete({ justifyContent: `space-between` })],\n    [`justify-around`, complete({ justifyContent: `space-around` })],\n    [`justify-evenly`, complete({ justifyContent: `space-evenly` })],\n    [`content-start`, complete({ alignContent: `flex-start` })],\n    [`content-end`, complete({ alignContent: `flex-end` })],\n    [`content-between`, complete({ alignContent: `space-between` })],\n    [`content-around`, complete({ alignContent: `space-around` })],\n    [`content-stretch`, complete({ alignContent: `stretch` })],\n    [`content-center`, complete({ alignContent: `center` })],\n    [`self-auto`, complete({ alignSelf: `auto` })],\n    [`self-start`, complete({ alignSelf: `flex-start` })],\n    [`self-end`, complete({ alignSelf: `flex-end` })],\n    [`self-center`, complete({ alignSelf: `center` })],\n    [`self-stretch`, complete({ alignSelf: `stretch` })],\n    [`self-baseline`, complete({ alignSelf: `baseline` })],\n    [`direction-inherit`, complete({ direction: `inherit` })],\n    [`direction-ltr`, complete({ direction: `ltr` })],\n    [`direction-rtl`, complete({ direction: `rtl` })],\n    [`hidden`, complete({ display: `none` })],\n    [`flex`, complete({ display: `flex` })],\n    [`flex-row`, complete({ flexDirection: `row` })],\n    [`flex-row-reverse`, complete({ flexDirection: `row-reverse` })],\n    [`flex-col`, complete({ flexDirection: `column` })],\n    [`flex-col-reverse`, complete({ flexDirection: `column-reverse` })],\n    [`flex-wrap`, complete({ flexWrap: `wrap` })],\n    [`flex-wrap-reverse`, complete({ flexWrap: `wrap-reverse` })],\n    [`flex-nowrap`, complete({ flexWrap: `nowrap` })],\n    [`flex-auto`, complete({ flexGrow: 1, flexShrink: 1, flexBasis: `auto` })],\n    [`flex-initial`, complete({ flexGrow: 0, flexShrink: 1, flexBasis: `auto` })],\n    [`flex-none`, complete({ flexGrow: 0, flexShrink: 0, flexBasis: `auto` })],\n    [`overflow-hidden`, complete({ overflow: `hidden` })],\n    [`overflow-visible`, complete({ overflow: `visible` })],\n    [`overflow-scroll`, complete({ overflow: `scroll` })],\n    [`absolute`, complete({ position: `absolute` })],\n    [`relative`, complete({ position: `relative` })],\n    [`italic`, complete({ fontStyle: `italic` })],\n    [`not-italic`, complete({ fontStyle: `normal` })],\n    [`oldstyle-nums`, fontVariant(`oldstyle-nums`)],\n    [`small-caps`, fontVariant(`small-caps`)],\n    [`lining-nums`, fontVariant(`lining-nums`)],\n    [`tabular-nums`, fontVariant(`tabular-nums`)],\n    [`proportional-nums`, fontVariant(`proportional-nums`)],\n    [`font-thin`, complete({ fontWeight: `100` })],\n    [`font-100`, complete({ fontWeight: `100` })],\n    [`font-extralight`, complete({ fontWeight: `200` })],\n    [`font-200`, complete({ fontWeight: `200` })],\n    [`font-light`, complete({ fontWeight: `300` })],\n    [`font-300`, complete({ fontWeight: `300` })],\n    [`font-normal`, complete({ fontWeight: `normal` })],\n    [`font-400`, complete({ fontWeight: `400` })],\n    [`font-medium`, complete({ fontWeight: `500` })],\n    [`font-500`, complete({ fontWeight: `500` })],\n    [`font-semibold`, complete({ fontWeight: `600` })],\n    [`font-600`, complete({ fontWeight: `600` })],\n    [`font-bold`, complete({ fontWeight: `bold` })],\n    [`font-700`, complete({ fontWeight: `700` })],\n    [`font-extrabold`, complete({ fontWeight: `800` })],\n    [`font-800`, complete({ fontWeight: `800` })],\n    [`font-black`, complete({ fontWeight: `900` })],\n    [`font-900`, complete({ fontWeight: `900` })],\n    [`include-font-padding`, complete({ includeFontPadding: true })],\n    [`remove-font-padding`, complete({ includeFontPadding: false })],\n    // not sure if RN supports `max-width: none;`, but this should be equivalent\n    [`max-w-none`, complete({ maxWidth: `99999%` })],\n    [`text-left`, complete({ textAlign: `left` })],\n    [`text-center`, complete({ textAlign: `center` })],\n    [`text-right`, complete({ textAlign: `right` })],\n    [`text-justify`, complete({ textAlign: `justify` })],\n    [`text-auto`, complete({ textAlign: `auto` })],\n    [`underline`, complete({ textDecorationLine: `underline` })],\n    [`line-through`, complete({ textDecorationLine: `line-through` })],\n    [`no-underline`, complete({ textDecorationLine: `none` })],\n    [`uppercase`, complete({ textTransform: `uppercase` })],\n    [`lowercase`, complete({ textTransform: `lowercase` })],\n    [`capitalize`, complete({ textTransform: `capitalize` })],\n    [`normal-case`, complete({ textTransform: `none` })],\n    [`w-auto`, complete({ width: `auto` })],\n    [`h-auto`, complete({ height: `auto` })],\n    // default box-shadow implementations\n    [\n        `shadow-sm`,\n        complete({\n            shadowOffset: { width: 1, height: 1 },\n            shadowColor: `#000`,\n            shadowRadius: 1,\n            shadowOpacity: 0.025,\n            elevation: 1,\n        }),\n    ],\n    [\n        `shadow`,\n        complete({\n            shadowOffset: { width: 1, height: 1 },\n            shadowColor: `#000`,\n            shadowRadius: 1,\n            shadowOpacity: 0.075,\n            elevation: 2,\n        }),\n    ],\n    [\n        `shadow-md`,\n        complete({\n            shadowOffset: { width: 1, height: 1 },\n            shadowColor: `#000`,\n            shadowRadius: 3,\n            shadowOpacity: 0.125,\n            elevation: 3,\n        }),\n    ],\n    [\n        `shadow-lg`,\n        complete({\n            shadowOffset: { width: 1, height: 1 },\n            shadowColor: `#000`,\n            shadowOpacity: 0.15,\n            shadowRadius: 8,\n            elevation: 8,\n        }),\n    ],\n    [\n        `shadow-xl`,\n        complete({\n            shadowOffset: { width: 1, height: 1 },\n            shadowColor: `#000`,\n            shadowOpacity: 0.19,\n            shadowRadius: 20,\n            elevation: 12,\n        }),\n    ],\n    [\n        `shadow-2xl`,\n        complete({\n            shadowOffset: { width: 1, height: 1 },\n            shadowColor: `#000`,\n            shadowOpacity: 0.25,\n            shadowRadius: 30,\n            elevation: 16,\n        }),\n    ],\n    [\n        `shadow-none`,\n        complete({\n            shadowOffset: { width: 0, height: 0 },\n            shadowColor: `#000`,\n            shadowRadius: 0,\n            shadowOpacity: 0,\n            elevation: 0,\n        }),\n    ],\n];\nexport default defaultStyles;\nfunction fontVariant(type) {\n    return {\n        kind: `dependent`,\n        complete(style) {\n            if (!style.fontVariant || !Array.isArray(style.fontVariant)) {\n                style.fontVariant = [];\n            }\n            style.fontVariant.push(type);\n        },\n    };\n}\n","import defaultStyles from './styles';\nexport default class Cache {\n    constructor(customStyles) {\n        this.ir = new Map(defaultStyles);\n        this.styles = new Map();\n        this.prefixes = new Map();\n        this.ir = new Map([...defaultStyles, ...(customStyles !== null && customStyles !== void 0 ? customStyles : [])]);\n    }\n    getStyle(key) {\n        return this.styles.get(key);\n    }\n    setStyle(key, style) {\n        this.styles.set(key, style);\n    }\n    getIr(key) {\n        return this.ir.get(key);\n    }\n    setIr(key, ir) {\n        this.ir.set(key, ir);\n    }\n    getPrefixMatch(key) {\n        return this.prefixes.get(key);\n    }\n    setPrefixMatch(key, value) {\n        this.prefixes.set(key, value);\n    }\n}\n","import { Unit } from '../types';\nimport { getCompleteStyle, complete, getStyle, mergeStyle, parseNumericValue, unconfiggedStyle, } from '../helpers';\nexport default function fontSize(value, config, context = {}) {\n    const configValue = config === null || config === void 0 ? void 0 : config[value];\n    if (!configValue) {\n        return unconfiggedStyle(`fontSize`, value, context);\n    }\n    if (typeof configValue === `string`) {\n        return getCompleteStyle(`fontSize`, configValue);\n    }\n    let style = {};\n    const [fontSize, rest] = configValue;\n    const fontSizeStyle = getStyle(`fontSize`, fontSize);\n    if (fontSizeStyle) {\n        style = fontSizeStyle;\n    }\n    if (typeof rest === `string`) {\n        return complete(mergeStyle(`lineHeight`, calculateLineHeight(rest, style), style));\n    }\n    const { lineHeight, letterSpacing } = rest;\n    if (lineHeight) {\n        mergeStyle(`lineHeight`, calculateLineHeight(lineHeight, style), style);\n    }\n    if (letterSpacing) {\n        mergeStyle(`letterSpacing`, letterSpacing, style);\n    }\n    return complete(style);\n}\n// calculates line-height for relative units\nfunction calculateLineHeight(lineHeight, style) {\n    const parsed = parseNumericValue(lineHeight);\n    if (parsed) {\n        const [number, unit] = parsed;\n        if ((unit === Unit.none || unit === Unit.em) && typeof style.fontSize === `number`) {\n            return style.fontSize * number;\n        }\n    }\n    return lineHeight;\n}\n","import { Unit } from '../types';\nimport { parseNumericValue, complete, toStyleVal } from '../helpers';\nexport default function lineHeight(value, config) {\n    var _a;\n    const parseValue = (_a = config === null || config === void 0 ? void 0 : config[value]) !== null && _a !== void 0 ? _a : (value.startsWith(`[`) ? value.slice(1, -1) : value);\n    const parsed = parseNumericValue(parseValue);\n    if (!parsed) {\n        return null;\n    }\n    const [number, unit] = parsed;\n    if (unit === Unit.none) {\n        // we have a relative line-height like `2` for `leading-loose`\n        return {\n            kind: `dependent`,\n            complete(style) {\n                if (typeof style.fontSize !== `number`) {\n                    return `relative line-height utilities require that font-size be set`;\n                }\n                style.lineHeight = style.fontSize * number;\n            },\n        };\n    }\n    const styleVal = toStyleVal(number, unit);\n    return styleVal !== null ? complete({ lineHeight: styleVal }) : null;\n}\n","import { Unit } from '../types';\nimport { parseNumericValue, parseUnconfigged, toStyleVal } from '../helpers';\nexport default function spacing(type, direction, isNegative, value, config) {\n    let numericValue = ``;\n    if (value[0] === `[`) {\n        numericValue = value.slice(1, -1);\n    }\n    else {\n        const configValue = config === null || config === void 0 ? void 0 : config[value];\n        if (!configValue) {\n            const unconfigged = parseUnconfigged(value);\n            if (unconfigged && typeof unconfigged === `number`) {\n                return spacingStyle(unconfigged, Unit.px, direction, type);\n            }\n            return null;\n        }\n        else {\n            numericValue = configValue;\n        }\n    }\n    if (numericValue === `auto`) {\n        return expand(direction, type, `auto`);\n    }\n    const parsed = parseNumericValue(numericValue);\n    if (!parsed) {\n        return null;\n    }\n    let [number, unit] = parsed;\n    if (isNegative) {\n        number = -number;\n    }\n    return spacingStyle(number, unit, direction, type);\n}\nfunction spacingStyle(number, unit, direction, type) {\n    const pixels = toStyleVal(number, unit);\n    if (pixels === null) {\n        return null;\n    }\n    return expand(direction, type, pixels);\n}\nfunction expand(direction, type, value) {\n    switch (direction) {\n        case `All`:\n            return {\n                kind: `complete`,\n                style: {\n                    [`${type}Top`]: value,\n                    [`${type}Right`]: value,\n                    [`${type}Bottom`]: value,\n                    [`${type}Left`]: value,\n                },\n            };\n        case `Bottom`:\n        case `Top`:\n        case `Left`:\n        case `Right`:\n            return {\n                kind: `complete`,\n                style: {\n                    [`${type}${direction}`]: value,\n                },\n            };\n        case `Vertical`:\n            return {\n                kind: `complete`,\n                style: {\n                    [`${type}Top`]: value,\n                    [`${type}Bottom`]: value,\n                },\n            };\n        case `Horizontal`:\n            return {\n                kind: `complete`,\n                style: {\n                    [`${type}Left`]: value,\n                    [`${type}Right`]: value,\n                },\n            };\n        default:\n            return null;\n    }\n}\n","import { toPx, warn } from './helpers';\nexport default function screens(input) {\n    if (!input) {\n        return {};\n    }\n    const screenData = Object.entries(input).reduce((acc, [screen, value]) => {\n        const data = [0, Infinity, 0];\n        const values = typeof value === `string` ? { min: value } : value;\n        const minPx = values.min ? toPx(values.min) : 0;\n        if (minPx === null) {\n            warn(`invalid screen config value: ${screen}->min: ${values.min}`);\n        }\n        else {\n            data[0] = minPx;\n        }\n        const maxPx = values.max ? toPx(values.max) : Infinity;\n        if (maxPx === null) {\n            warn(`invalid screen config value: ${screen}->max: ${values.max}`);\n        }\n        else {\n            data[1] = maxPx;\n        }\n        acc[screen] = data;\n        return acc;\n    }, {});\n    const values = Object.values(screenData);\n    values.sort((a, b) => {\n        const [minA, maxA] = a;\n        const [minB, maxB] = b;\n        if (maxA === Infinity || maxB === Infinity) {\n            return minA - minB;\n        }\n        return maxA - maxB;\n    });\n    let order = 0;\n    values.forEach((value) => (value[2] = order++));\n    return screenData;\n}\n","import { complete } from '../helpers';\nexport default function fontFamily(value, config) {\n    const configValue = config === null || config === void 0 ? void 0 : config[value];\n    if (!configValue) {\n        return null;\n    }\n    if (typeof configValue === `string`) {\n        return complete({ fontFamily: configValue });\n    }\n    const firstFamily = configValue[0];\n    if (!firstFamily) {\n        return null;\n    }\n    return complete({ fontFamily: firstFamily });\n}\n","import { isObject, isString } from '../types';\nimport { warn, complete } from '../helpers';\nexport function color(type, value, config) {\n    if (!config) {\n        return null;\n    }\n    // support opacity shorthand: `bg-red-200/50`\n    let shorthandOpacity = undefined;\n    if (value.includes(`/`)) {\n        [value = ``, shorthandOpacity] = value.split(`/`, 2);\n    }\n    let color = ``;\n    // for arbitrary support: `bg-[#eaeaea]`, `text-[rgba(1, 1, 1, 0.5)]`\n    if (value.startsWith(`[#`) || value.startsWith(`[rgb`)) {\n        color = value.slice(1, -1);\n        // search for color in config\n    }\n    else {\n        color = findColorInConfigRecursive(value, config);\n    }\n    if (!color) {\n        return null;\n    }\n    if (shorthandOpacity) {\n        const opacity = Number(shorthandOpacity);\n        if (!Number.isNaN(opacity)) {\n            color = addOpacity(color, opacity / 100);\n            return complete({ [STYLE_PROPS[type].color]: color });\n        }\n    }\n    // return a dependent style to support merging of classes\n    // like `bg-red-800 bg-opacity-75`\n    return {\n        kind: `dependent`,\n        complete(style) {\n            const opacityProp = STYLE_PROPS[type].opacity;\n            const opacity = style[opacityProp];\n            if (typeof opacity === `number`) {\n                color = addOpacity(color, opacity);\n            }\n            style[STYLE_PROPS[type].color] = color;\n        },\n    };\n}\nexport function colorOpacity(type, value) {\n    const percentage = parseInt(value, 10);\n    if (Number.isNaN(percentage)) {\n        return null;\n    }\n    const opacity = percentage / 100;\n    const style = { [STYLE_PROPS[type].opacity]: opacity };\n    return { kind: `complete`, style };\n}\nfunction addOpacity(color, opacity) {\n    if (color.startsWith(`#`)) {\n        color = hexToRgba(color);\n    }\n    else if (color.startsWith(`rgb(`)) {\n        color = color.replace(/^rgb\\(/, `rgba(`).replace(/\\)$/, `, 1)`);\n    }\n    // @TODO: support hls/hlsa if anyone opens an issue...\n    return color.replace(/, ?\\d*\\.?(\\d+)\\)$/, `, ${opacity})`);\n}\nexport function removeOpacityHelpers(style) {\n    for (const key in style) {\n        if (key.startsWith(`__opacity_`)) {\n            delete style[key];\n        }\n    }\n}\nconst STYLE_PROPS = {\n    bg: { opacity: `__opacity_bg`, color: `backgroundColor` },\n    text: { opacity: `__opacity_text`, color: `color` },\n    border: { opacity: `__opacity_border`, color: `borderColor` },\n    borderTop: { opacity: `__opacity_border`, color: `borderTopColor` },\n    borderBottom: { opacity: `__opacity_border`, color: `borderBottomColor` },\n    borderLeft: { opacity: `__opacity_border`, color: `borderLeftColor` },\n    borderRight: { opacity: `__opacity_border`, color: `borderRightColor` },\n    shadow: { opacity: `__opacity_shadow`, color: `shadowColor` },\n    tint: { opacity: `__opacity_tint`, color: `tintColor` },\n};\nfunction hexToRgba(hex) {\n    const orig = hex;\n    hex = hex.replace(MATCH_SHORT_HEX, (_, r, g, b) => r + r + g + g + b + b);\n    const result = MATCH_FULL_HEX.exec(hex);\n    if (!result) {\n        warn(`invalid config hex color value: ${orig}`);\n        return `rgba(0, 0, 0, 1)`;\n    }\n    const r = parseInt(result[1], 16);\n    const g = parseInt(result[2], 16);\n    const b = parseInt(result[3], 16);\n    return `rgba(${r}, ${g}, ${b}, 1)`;\n}\nfunction findColorInConfigRecursive(colorName, config) {\n    const configColor = config[colorName];\n    // the color is found at the current config level\n    if (isString(configColor)) {\n        return configColor;\n    }\n    else if (isObject(configColor) && isString(configColor.DEFAULT)) {\n        return configColor.DEFAULT;\n    }\n    // search for a matching sub-string at the current config level\n    let [colorNameStart = ``, ...colorNameRest] = colorName.split(`-`);\n    while (colorNameStart !== colorName) {\n        const subConfig = config[colorNameStart];\n        if (isObject(subConfig)) {\n            return findColorInConfigRecursive(colorNameRest.join(`-`), subConfig);\n        }\n        else if (colorNameRest.length === 0) {\n            return ``;\n        }\n        colorNameStart = `${colorNameStart}-${colorNameRest.shift()}`;\n    }\n    return ``;\n}\nconst MATCH_SHORT_HEX = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\nconst MATCH_FULL_HEX = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n","import { parseAndConsumeDirection, complete, getCompleteStyle, unconfiggedStyle, } from '../helpers';\nimport { color } from './color';\nexport function border(value, theme) {\n    let [rest, direction] = parseAndConsumeDirection(value);\n    const widthUtilityMatch = rest.match(/^(-?(\\d)+)?$/);\n    if (widthUtilityMatch) {\n        return borderWidth(rest, direction, theme === null || theme === void 0 ? void 0 : theme.borderWidth);\n    }\n    rest = rest.replace(/^-/, ``);\n    if ([`dashed`, `solid`, `dotted`].includes(rest)) {\n        return complete({ borderStyle: rest });\n    }\n    let colorType = `border`;\n    switch (direction) {\n        case `Bottom`:\n            colorType = `borderBottom`;\n            break;\n        case `Top`:\n            colorType = `borderTop`;\n            break;\n        case `Left`:\n            colorType = `borderLeft`;\n            break;\n        case `Right`:\n            colorType = `borderRight`;\n            break;\n    }\n    const colorStyle = color(colorType, rest, theme === null || theme === void 0 ? void 0 : theme.borderColor);\n    if (colorStyle) {\n        return colorStyle;\n    }\n    // Finally Handling Arbitrary Width Case\n    // border-[20px] or border-[2.5rem]\n    const prop = `border${direction === `All` ? `` : direction}Width`;\n    rest = rest.replace(/^-/, ``);\n    const numericValue = rest.slice(1, -1);\n    const arbitraryWidth = unconfiggedStyle(prop, numericValue);\n    // can't use % for border-radius in RN\n    if (typeof (arbitraryWidth === null || arbitraryWidth === void 0 ? void 0 : arbitraryWidth.style[prop]) !== `number`) {\n        return null;\n    }\n    return arbitraryWidth;\n}\nfunction borderWidth(value, direction, config) {\n    if (!config) {\n        return null;\n    }\n    value = value.replace(/^-/, ``);\n    const key = value === `` ? `DEFAULT` : value;\n    const configValue = config[key];\n    if (configValue === undefined) {\n        return null;\n    }\n    const prop = `border${direction === `All` ? `` : direction}Width`;\n    return getCompleteStyle(prop, configValue);\n}\nexport function borderRadius(value, config) {\n    if (!config) {\n        return null;\n    }\n    let [rest, direction] = parseAndConsumeDirection(value);\n    rest = rest.replace(/^-/, ``);\n    if (rest === ``) {\n        rest = `DEFAULT`;\n    }\n    const prop = `border${direction === `All` ? `` : direction}Radius`;\n    const configValue = config[rest];\n    if (configValue) {\n        return expand(getCompleteStyle(prop, configValue));\n    }\n    const arbitrary = unconfiggedStyle(prop, rest);\n    // can't use % for border-radius in RN\n    if (typeof (arbitrary === null || arbitrary === void 0 ? void 0 : arbitrary.style[prop]) !== `number`) {\n        return null;\n    }\n    return expand(arbitrary);\n}\n// RN only supports `borderRadius` + `border(top|bottom)(left|right)Radius`\nfunction expand(ir) {\n    if ((ir === null || ir === void 0 ? void 0 : ir.kind) !== `complete`)\n        return ir;\n    const top = ir.style.borderTopRadius;\n    if (top !== undefined) {\n        ir.style.borderTopLeftRadius = top;\n        ir.style.borderTopRightRadius = top;\n        delete ir.style.borderTopRadius;\n    }\n    const bottom = ir.style.borderBottomRadius;\n    if (bottom !== undefined) {\n        ir.style.borderBottomLeftRadius = bottom;\n        ir.style.borderBottomRightRadius = bottom;\n        delete ir.style.borderBottomRadius;\n    }\n    const left = ir.style.borderLeftRadius;\n    if (left !== undefined) {\n        ir.style.borderBottomLeftRadius = left;\n        ir.style.borderTopLeftRadius = left;\n        delete ir.style.borderLeftRadius;\n    }\n    const right = ir.style.borderRightRadius;\n    if (right !== undefined) {\n        ir.style.borderBottomRightRadius = right;\n        ir.style.borderTopRightRadius = right;\n        delete ir.style.borderRightRadius;\n    }\n    return ir;\n}\n","import { complete, parseStyleVal, parseUnconfigged } from '../helpers';\nexport function inset(type, value, isNegative, config) {\n    let insetDir = null;\n    if (type === `inset`) {\n        value = value.replace(/^(x|y)-/, (_, dir) => {\n            insetDir = dir === `x` ? `x` : `y`;\n            return ``;\n        });\n    }\n    const configValue = config === null || config === void 0 ? void 0 : config[value];\n    if (configValue) {\n        const styleVal = parseStyleVal(configValue, { isNegative });\n        if (styleVal !== null) {\n            return insetStyle(type, insetDir, styleVal);\n        }\n    }\n    const unconfigged = parseUnconfigged(value, { isNegative });\n    if (unconfigged !== null) {\n        return insetStyle(type, insetDir, unconfigged);\n    }\n    return null;\n}\nfunction insetStyle(type, dir, styleVal) {\n    if (type !== `inset`) {\n        return complete({ [type]: styleVal });\n    }\n    switch (dir) {\n        case null:\n            return complete({\n                top: styleVal,\n                left: styleVal,\n                right: styleVal,\n                bottom: styleVal,\n            });\n        case `y`:\n            return complete({\n                top: styleVal,\n                bottom: styleVal,\n            });\n        case `x`:\n            return complete({\n                left: styleVal,\n                right: styleVal,\n            });\n    }\n}\n","import { complete, parseStyleVal } from '../helpers';\nexport function flexGrowShrink(type, value, config) {\n    var _a;\n    value = value.replace(/^-/, ``);\n    const configKey = value === `` ? `DEFAULT` : value;\n    const numericValue = Number((_a = config === null || config === void 0 ? void 0 : config[configKey]) !== null && _a !== void 0 ? _a : value);\n    if (!Number.isNaN(numericValue)) {\n        return complete({ [`flex${type}`]: numericValue });\n    }\n    return null;\n}\nexport function flex(value, config) {\n    var _a, _b;\n    value = (config === null || config === void 0 ? void 0 : config[value]) || value;\n    if ([`min-content`, `revert`, `unset`].includes(value)) {\n        // unsupported\n        return null;\n    }\n    // @see https://developer.mozilla.org/en-US/docs/Web/CSS/flex\n    // MDN: One value, unitless number: flex-grow flex-basis is then equal to 0.\n    if (value.match(/^\\d+(\\.\\d+)?$/)) {\n        return complete({\n            flexGrow: Number(value),\n            flexBasis: `0%`,\n        });\n    }\n    // MDN: Two values (both integers): flex-grow | flex-basis\n    let match = value.match(/^(\\d+)\\s+(\\d+)$/);\n    if (match) {\n        return complete({\n            flexGrow: Number(match[1]),\n            flexShrink: Number(match[2]),\n        });\n    }\n    // MDN: Two values: flex-grow | flex-basis\n    match = value.match(/^(\\d+)\\s+([^ ]+)$/);\n    if (match) {\n        const flexBasis = parseStyleVal((_a = match[2]) !== null && _a !== void 0 ? _a : ``);\n        if (!flexBasis) {\n            return null;\n        }\n        return complete({\n            flexGrow: Number(match[1]),\n            flexBasis,\n        });\n    }\n    // MDN: Three values: flex-grow | flex-shrink | flex-basis\n    match = value.match(/^(\\d+)\\s+(\\d+)\\s+(.+)$/);\n    if (match) {\n        const flexBasis = parseStyleVal((_b = match[3]) !== null && _b !== void 0 ? _b : ``);\n        if (!flexBasis) {\n            return null;\n        }\n        return complete({\n            flexGrow: Number(match[1]),\n            flexShrink: Number(match[2]),\n            flexBasis,\n        });\n    }\n    return null;\n}\n","import { getCompleteStyle, complete, parseStyleVal, unconfiggedStyle } from '../helpers';\nexport function widthHeight(type, value, context = {}, config) {\n    const configValue = config === null || config === void 0 ? void 0 : config[value];\n    if (configValue !== undefined) {\n        return getCompleteStyle(type, configValue, context);\n    }\n    return unconfiggedStyle(type, value, context);\n}\nexport function minMaxWidthHeight(type, value, context = {}, config) {\n    const styleVal = parseStyleVal(config === null || config === void 0 ? void 0 : config[value], context);\n    if (styleVal) {\n        return complete({ [type]: styleVal });\n    }\n    if (value === `screen`) {\n        value = type.includes(`Width`) ? `100vw` : `100vh`;\n    }\n    return unconfiggedStyle(type, value, context);\n}\n","import { Unit } from '../types';\nimport { parseNumericValue, complete, toStyleVal, unconfiggedStyle, warn, } from '../helpers';\nexport function letterSpacing(value, isNegative, config) {\n    const configValue = config === null || config === void 0 ? void 0 : config[value];\n    if (configValue) {\n        const parsed = parseNumericValue(configValue, { isNegative });\n        if (!parsed) {\n            return null;\n        }\n        const [number, unit] = parsed;\n        if (unit === Unit.em) {\n            return relativeLetterSpacing(number);\n        }\n        // @TODO, if we get a percentage based config value, theoretically we could\n        // make a font-size dependent style as well, wait for someone to raise an issue\n        if (unit === Unit.percent) {\n            warn(`percentage-based letter-spacing configuration currently unsupported, switch to \\`em\\`s, or open an issue if you'd like to see support added.`);\n            return null;\n        }\n        const styleVal = toStyleVal(number, unit, { isNegative });\n        if (styleVal !== null) {\n            return complete({ letterSpacing: styleVal });\n        }\n        return null;\n    }\n    return unconfiggedStyle(`letterSpacing`, value, { isNegative });\n}\nfunction relativeLetterSpacing(ems) {\n    return {\n        kind: `dependent`,\n        complete(style) {\n            const fontSize = style.fontSize;\n            if (typeof fontSize !== `number` || Number.isNaN(fontSize)) {\n                return `tracking-X relative letter spacing classes require font-size to be set`;\n            }\n            style.letterSpacing = Math.round((ems * fontSize + Number.EPSILON) * 100) / 100;\n        },\n    };\n}\n","import { parseNumericValue, complete } from '../helpers';\nexport function opacity(value, config) {\n    const configValue = config === null || config === void 0 ? void 0 : config[value];\n    if (configValue) {\n        const parsedConfig = parseNumericValue(String(configValue));\n        if (parsedConfig) {\n            return complete({ opacity: parsedConfig[0] });\n        }\n    }\n    const parsedArbitrary = parseNumericValue(value);\n    if (parsedArbitrary) {\n        return complete({ opacity: parsedArbitrary[0] / 100 });\n    }\n    return null;\n}\n","import { parseUnconfigged } from '../helpers';\nexport function shadowOpacity(value) {\n    const percentage = parseInt(value, 10);\n    if (Number.isNaN(percentage)) {\n        return null;\n    }\n    return {\n        kind: `complete`,\n        style: { shadowOpacity: percentage / 100 },\n    };\n}\nexport function shadowOffset(value) {\n    if (value.includes(`/`)) {\n        const [widthStr = ``, heightStr = ``] = value.split(`/`, 2);\n        const width = offsetValue(widthStr);\n        const height = offsetValue(heightStr);\n        if (width === null || height === null) {\n            return null;\n        }\n        return {\n            kind: `complete`,\n            style: {\n                shadowOffset: {\n                    width,\n                    height,\n                },\n            },\n        };\n    }\n    const number = offsetValue(value);\n    if (number === null) {\n        return null;\n    }\n    return {\n        kind: `complete`,\n        style: {\n            shadowOffset: {\n                width: number,\n                height: number,\n            },\n        },\n    };\n}\nfunction offsetValue(value) {\n    const parsed = parseUnconfigged(value);\n    return typeof parsed === `number` ? parsed : null;\n}\n","import fontSize from './resolve/font-size';\nimport lineHeight from './resolve/line-height';\nimport spacing from './resolve/spacing';\nimport screens from './screens';\nimport { isOrientation, isPlatform, } from './types';\nimport fontFamily from './resolve/font-family';\nimport { color, colorOpacity } from './resolve/color';\nimport { border, borderRadius } from './resolve/borders';\nimport { getCompleteStyle, getDirection, unconfiggedStyle, warn, complete, parseNumericValue, } from './helpers';\nimport { inset } from './resolve/inset';\nimport { flexGrowShrink, flex } from './resolve/flex';\nimport { widthHeight, minMaxWidthHeight } from './resolve/width-height';\nimport { letterSpacing } from './resolve/letter-spacing';\nimport { opacity } from './resolve/opacity';\nimport { shadowOpacity, shadowOffset } from './resolve/shadow';\nexport default class ClassParser {\n    constructor(input, config = {}, cache, device, platform) {\n        var _a, _b, _c, _d, _e, _f;\n        this.config = config;\n        this.cache = cache;\n        this.position = 0;\n        this.isNull = false;\n        this.isNegative = false;\n        this.context = {};\n        this.context.device = device;\n        const parts = input.trim().split(`:`);\n        let prefixes = [];\n        if (parts.length === 1) {\n            this.string = input;\n        }\n        else {\n            this.string = (_a = parts.pop()) !== null && _a !== void 0 ? _a : ``;\n            prefixes = parts;\n        }\n        this.char = this.string[0];\n        const widthBreakpoints = screens((_b = this.config.theme) === null || _b === void 0 ? void 0 : _b.screens);\n        // loop through the prefixes ONE time, extracting useful info\n        for (const prefix of prefixes) {\n            if (widthBreakpoints[prefix]) {\n                const breakpointOrder = (_c = widthBreakpoints[prefix]) === null || _c === void 0 ? void 0 : _c[2];\n                if (breakpointOrder !== undefined) {\n                    this.order = ((_d = this.order) !== null && _d !== void 0 ? _d : 0) + breakpointOrder;\n                }\n                const windowWidth = (_e = device.windowDimensions) === null || _e === void 0 ? void 0 : _e.width;\n                if (windowWidth) {\n                    const [min, max] = (_f = widthBreakpoints[prefix]) !== null && _f !== void 0 ? _f : [0, 0];\n                    if (windowWidth <= min || windowWidth > max) {\n                        // breakpoint does not match\n                        this.isNull = true;\n                    }\n                }\n                else {\n                    this.isNull = true;\n                }\n            }\n            else if (isPlatform(prefix)) {\n                this.isNull = prefix !== platform;\n            }\n            else if (isOrientation(prefix)) {\n                if (!device.windowDimensions) {\n                    this.isNull = true;\n                }\n                else {\n                    const deviceOrientation = device.windowDimensions.width > device.windowDimensions.height\n                        ? `landscape`\n                        : `portrait`;\n                    if (deviceOrientation !== prefix) {\n                        this.isNull = true;\n                    }\n                    else {\n                        this.incrementOrder();\n                    }\n                }\n            }\n            else if (prefix === `retina`) {\n                if (device.pixelDensity === 2) {\n                    this.incrementOrder();\n                }\n                else {\n                    this.isNull = true;\n                }\n            }\n            else if (prefix === `dark`) {\n                if (device.colorScheme !== `dark`) {\n                    this.isNull = true;\n                }\n                else {\n                    this.incrementOrder();\n                }\n            }\n            else if (!this.handlePossibleArbitraryBreakpointPrefix(prefix)) {\n                this.isNull = true;\n            }\n        }\n    }\n    parse() {\n        if (this.isNull) {\n            return { kind: `null` };\n        }\n        // resolve things like ios:hidden, after prefix removed\n        const cached = this.cache.getIr(this.rest);\n        if (cached) {\n            return cached;\n        }\n        this.parseIsNegative();\n        const ir = this.parseUtility();\n        if (!ir) {\n            return { kind: `null` };\n        }\n        if (this.order !== undefined) {\n            return { kind: `ordered`, order: this.order, styleIr: ir };\n        }\n        return ir;\n    }\n    parseUtility() {\n        var _a, _b, _c, _d, _e;\n        const theme = this.config.theme;\n        let style = null;\n        switch (this.char) {\n            case `m`:\n            case `p`: {\n                const match = this.peekSlice(1, 3).match(/^(t|b|r|l|x|y)?-/);\n                if (match) {\n                    const prop = this.char === `m` ? `margin` : `padding`;\n                    this.advance(((_b = (_a = match[0]) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + 1);\n                    const spacingDirection = getDirection(match[1]);\n                    const style = spacing(prop, spacingDirection, this.isNegative, this.rest, (_c = this.config.theme) === null || _c === void 0 ? void 0 : _c[prop]);\n                    if (style)\n                        return style;\n                }\n            }\n        }\n        if (this.consumePeeked(`h-`)) {\n            style = widthHeight(`height`, this.rest, this.context, theme === null || theme === void 0 ? void 0 : theme.height);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`w-`)) {\n            style = widthHeight(`width`, this.rest, this.context, theme === null || theme === void 0 ? void 0 : theme.width);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`min-w-`)) {\n            style = minMaxWidthHeight(`minWidth`, this.rest, this.context, theme === null || theme === void 0 ? void 0 : theme.minWidth);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`min-h-`)) {\n            style = minMaxWidthHeight(`minHeight`, this.rest, this.context, theme === null || theme === void 0 ? void 0 : theme.minHeight);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`max-w-`)) {\n            style = minMaxWidthHeight(`maxWidth`, this.rest, this.context, theme === null || theme === void 0 ? void 0 : theme.maxWidth);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`max-h-`)) {\n            style = minMaxWidthHeight(`maxHeight`, this.rest, this.context, theme === null || theme === void 0 ? void 0 : theme.maxHeight);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`leading-`)) {\n            style = lineHeight(this.rest, theme === null || theme === void 0 ? void 0 : theme.lineHeight);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`text-`)) {\n            style = fontSize(this.rest, theme === null || theme === void 0 ? void 0 : theme.fontSize, this.context);\n            if (style)\n                return style;\n            style = color(`text`, this.rest, theme === null || theme === void 0 ? void 0 : theme.textColor);\n            if (style)\n                return style;\n            if (this.consumePeeked(`opacity-`)) {\n                style = colorOpacity(`text`, this.rest);\n                if (style)\n                    return style;\n            }\n        }\n        if (this.consumePeeked(`font-`)) {\n            style = fontFamily(this.rest, theme === null || theme === void 0 ? void 0 : theme.fontFamily);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`aspect-`)) {\n            if (this.consumePeeked(`ratio-`)) {\n                warn(`\\`aspect-ratio-{ratio}\\` is deprecated, use \\`aspect-{ratio}\\` instead`);\n            }\n            style = getCompleteStyle(`aspectRatio`, this.rest, { fractions: true });\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`tint-`)) {\n            style = color(`tint`, this.rest, theme === null || theme === void 0 ? void 0 : theme.colors);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`bg-`)) {\n            style = color(`bg`, this.rest, theme === null || theme === void 0 ? void 0 : theme.backgroundColor);\n            if (style)\n                return style;\n            if (this.consumePeeked(`opacity-`)) {\n                style = colorOpacity(`bg`, this.rest);\n                if (style)\n                    return style;\n            }\n        }\n        if (this.consumePeeked(`border`)) {\n            style = border(this.rest, theme);\n            if (style)\n                return style;\n            if (this.consumePeeked(`-opacity-`)) {\n                style = colorOpacity(`border`, this.rest);\n                if (style)\n                    return style;\n            }\n        }\n        if (this.consumePeeked(`rounded`)) {\n            style = borderRadius(this.rest, theme === null || theme === void 0 ? void 0 : theme.borderRadius);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`bottom-`)) {\n            style = inset(`bottom`, this.rest, this.isNegative, theme === null || theme === void 0 ? void 0 : theme.inset);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`top-`)) {\n            style = inset(`top`, this.rest, this.isNegative, theme === null || theme === void 0 ? void 0 : theme.inset);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`left-`)) {\n            style = inset(`left`, this.rest, this.isNegative, theme === null || theme === void 0 ? void 0 : theme.inset);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`right-`)) {\n            style = inset(`right`, this.rest, this.isNegative, theme === null || theme === void 0 ? void 0 : theme.inset);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`inset-`)) {\n            style = inset(`inset`, this.rest, this.isNegative, theme === null || theme === void 0 ? void 0 : theme.inset);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`flex-`)) {\n            if (this.consumePeeked(`grow`)) {\n                style = flexGrowShrink(`Grow`, this.rest, theme === null || theme === void 0 ? void 0 : theme.flexGrow);\n            }\n            else if (this.consumePeeked(`shrink`)) {\n                style = flexGrowShrink(`Shrink`, this.rest, theme === null || theme === void 0 ? void 0 : theme.flexShrink);\n            }\n            else {\n                style = flex(this.rest, theme === null || theme === void 0 ? void 0 : theme.flex);\n            }\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`grow`)) {\n            style = flexGrowShrink(`Grow`, this.rest, theme === null || theme === void 0 ? void 0 : theme.flexGrow);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`shrink`)) {\n            style = flexGrowShrink(`Shrink`, this.rest, theme === null || theme === void 0 ? void 0 : theme.flexShrink);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`shadow-color-opacity-`)) {\n            style = colorOpacity(`shadow`, this.rest);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`shadow-opacity-`)) {\n            style = shadowOpacity(this.rest);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`shadow-offset-`)) {\n            style = shadowOffset(this.rest);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`shadow-radius-`)) {\n            style = unconfiggedStyle(`shadowRadius`, this.rest);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`shadow-`)) {\n            style = color(`shadow`, this.rest, theme === null || theme === void 0 ? void 0 : theme.colors);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`elevation-`)) {\n            const elevation = parseInt(this.rest, 10);\n            if (!Number.isNaN(elevation)) {\n                return complete({ elevation });\n            }\n        }\n        if (this.consumePeeked(`opacity-`)) {\n            style = opacity(this.rest, theme === null || theme === void 0 ? void 0 : theme.opacity);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`tracking-`)) {\n            style = letterSpacing(this.rest, this.isNegative, theme === null || theme === void 0 ? void 0 : theme.letterSpacing);\n            if (style)\n                return style;\n        }\n        if (this.consumePeeked(`z-`)) {\n            const zIndex = Number((_e = (_d = theme === null || theme === void 0 ? void 0 : theme.zIndex) === null || _d === void 0 ? void 0 : _d[this.rest]) !== null && _e !== void 0 ? _e : this.rest);\n            if (!Number.isNaN(zIndex)) {\n                return complete({ zIndex });\n            }\n        }\n        warn(`\\`${this.rest}\\` unknown or invalid utility`);\n        return null;\n    }\n    handlePossibleArbitraryBreakpointPrefix(prefix) {\n        var _a;\n        // save the expense of running the regex with a quick sniff test\n        if (prefix[0] !== `m`)\n            return false;\n        const match = prefix.match(/^(min|max)-(w|h)-\\[([^\\]]+)\\]$/);\n        if (!match)\n            return false;\n        if (!((_a = this.context.device) === null || _a === void 0 ? void 0 : _a.windowDimensions)) {\n            this.isNull = true;\n            return true;\n        }\n        const windowDims = this.context.device.windowDimensions;\n        const [, type = ``, dir = ``, amount = ``] = match;\n        const checkDimension = dir === `w` ? windowDims.width : windowDims.height;\n        const parsedAmount = parseNumericValue(amount, this.context);\n        if (parsedAmount === null) {\n            this.isNull = true;\n            return true;\n        }\n        const [bound, unit] = parsedAmount;\n        if (unit !== `px`) {\n            this.isNull = true;\n        }\n        if (type === `min` ? checkDimension >= bound : checkDimension <= bound) {\n            this.incrementOrder();\n        }\n        else {\n            this.isNull = true;\n        }\n        return true;\n    }\n    advance(amount = 1) {\n        this.position += amount;\n        this.char = this.string[this.position];\n    }\n    get rest() {\n        return this.peekSlice(0, this.string.length);\n    }\n    peekSlice(begin, end) {\n        return this.string.slice(this.position + begin, this.position + end);\n    }\n    consumePeeked(string) {\n        if (this.peekSlice(0, string.length) === string) {\n            this.advance(string.length);\n            return true;\n        }\n        return false;\n    }\n    parseIsNegative() {\n        if (this.char === `-`) {\n            this.advance();\n            this.isNegative = true;\n            this.context.isNegative = true;\n        }\n    }\n    incrementOrder() {\n        var _a;\n        this.order = ((_a = this.order) !== null && _a !== void 0 ? _a : 0) + 1;\n    }\n}\n","export function parseInputs(inputs) {\n    let classNames = [];\n    let styles = null;\n    inputs.forEach((input) => {\n        if (typeof input === `string`) {\n            classNames = [...classNames, ...split(input)];\n        }\n        else if (Array.isArray(input)) {\n            classNames = [...classNames, ...input.flatMap(split)];\n        }\n        else if (typeof input === `object` && input !== null) {\n            for (const [key, value] of Object.entries(input)) {\n                if (typeof value === `boolean`) {\n                    classNames = [...classNames, ...(value ? split(key) : [])];\n                }\n                else if (styles) {\n                    styles[key] = value;\n                }\n                else {\n                    styles = { [key]: value };\n                }\n            }\n        }\n    });\n    return [classNames.filter(Boolean).filter(unique), styles];\n}\nfunction split(str) {\n    return str.trim().split(/\\s+/);\n}\nfunction unique(className, index, classes) {\n    return classes.indexOf(className) === index;\n}\n","const plugin = (handler) => {\n    return { handler, config: undefined };\n};\nexport default plugin;\nexport function getAddedUtilities(plugins) {\n    var _a;\n    return ((_a = plugins === null || plugins === void 0 ? void 0 : plugins.reduce((utils, plugin) => ({ ...utils, ...callPluginFunction(plugin.handler) }), {})) !== null && _a !== void 0 ? _a : {});\n}\nfunction callPluginFunction(pluginFn) {\n    let added = {};\n    pluginFn({\n        addUtilities: (utilities) => {\n            added = utilities;\n        },\n        ...core,\n    });\n    return added;\n}\nfunction notImplemented(fn) {\n    throw new Error(`tailwindcss plugin function argument object prop \"${fn}\" not implemented`);\n}\nconst core = {\n    addComponents: notImplemented,\n    addBase: notImplemented,\n    addVariant: notImplemented,\n    e: notImplemented,\n    prefix: notImplemented,\n    theme: notImplemented,\n    variants: notImplemented,\n    config: notImplemented,\n    corePlugins: notImplemented,\n    matchUtilities: notImplemented,\n    postcss: null,\n};\n","import type { TwConfig } from 'twrnc'\n\nimport * as twrnc from 'twrnc/create'\n\ntype TwPlugin = TwConfig['plugins'][number]\n\nconst defaultShadows: TwPlugin = {\n  handler: ({ addUtilities }) => {\n    const presets = {\n      'shadow-sm': { boxShadow: '0 1px 2px 0 rgb(0 0 0 / 0.05)' },\n      shadow: {\n        boxShadow:\n          '0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)',\n      },\n      'shadow-md': {\n        boxShadow:\n          '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',\n      },\n      'shadow-lg': {\n        boxShadow:\n          '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)',\n      },\n      'shadow-xl': {\n        boxShadow:\n          '0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)',\n      },\n      'shadow-2xl': {\n        boxShadow: '0 25px 50px -12px rgb(0 0 0 / 0.25)',\n      },\n      'shadow-inner': {\n        boxShadow: 'inset 0 2px 4px 0 rgb(0 0 0 / 0.05)',\n      },\n      'shadow-none': { boxShadow: '0 0 #0000' },\n    }\n\n    addUtilities(presets)\n  },\n}\n\nfunction createTw(config?: TwConfig) {\n  return twrnc.create(\n    {\n      ...config,\n      plugins: [...(config?.plugins ?? []), defaultShadows],\n    },\n    'web'\n  )\n}\n\nlet tw\nexport default function getTw({\n  width,\n  height,\n  config,\n}: {\n  width: number\n  height: number\n  config?: TwConfig\n}) {\n  if (!tw) {\n    tw = createTw(config)\n  }\n  tw.setWindowDimensions({ width: +width, height: +height })\n  return tw\n}\n","import type { ReactNode } from 'react'\nimport type { TwConfig } from 'twrnc'\nimport type { SatoriNode } from './layout.js'\n\nimport getYoga, { init } from './yoga/index.js'\nimport layout from './layout.js'\nimport FontLoader, { FontOptions } from './font.js'\nimport svg from './builder/svg.js'\nimport { segment } from './utils.js'\nimport { detectLanguageCode, LangCode, Locale } from './language.js'\nimport getTw from './handler/tailwind.js'\nimport { preProcessNode } from './handler/preprocess.js'\nimport { cache } from './handler/image.js'\n\n// We don't need to initialize the opentype instances every time.\nconst fontCache = new WeakMap()\n\nexport type SatoriOptions = (\n  | {\n      width: number\n      height: number\n    }\n  | {\n      width: number\n    }\n  | {\n      height: number\n    }\n) & {\n  fonts: FontOptions[]\n  embedFont?: boolean\n  debug?: boolean\n  graphemeImages?: Record<string, string>\n  loadAdditionalAsset?: (\n    languageCode: string,\n    segment: string\n  ) => Promise<string | Array<FontOptions>>\n  tailwindConfig?: TwConfig\n  onNodeDetected?: (node: SatoriNode) => void\n}\nexport type { SatoriNode }\n\nexport { init }\n\nexport default async function satori(\n  element: ReactNode,\n  options: SatoriOptions\n): Promise<string> {\n  const Yoga = await getYoga()\n  if (!Yoga || !Yoga.Node) {\n    throw new Error(\n      'Satori is not initialized: expect `yoga` to be loaded, got ' + Yoga\n    )\n  }\n  options.fonts = options.fonts || []\n\n  let font: FontLoader\n  if (fontCache.has(options.fonts)) {\n    font = fontCache.get(options.fonts)\n  } else {\n    fontCache.set(options.fonts, (font = new FontLoader(options.fonts)))\n  }\n\n  const definedWidth = 'width' in options ? options.width : undefined\n  const definedHeight = 'height' in options ? options.height : undefined\n\n  const root = Yoga.Node.create()\n  if (definedWidth) root.setWidth(definedWidth)\n  if (definedHeight) root.setHeight(definedHeight)\n  root.setFlexDirection(Yoga.FLEX_DIRECTION_ROW)\n  root.setFlexWrap(Yoga.WRAP_WRAP)\n  root.setAlignContent(Yoga.ALIGN_AUTO)\n  root.setAlignItems(Yoga.ALIGN_FLEX_START)\n  root.setJustifyContent(Yoga.JUSTIFY_FLEX_START)\n  root.setOverflow(Yoga.OVERFLOW_HIDDEN)\n\n  const graphemeImages = { ...options.graphemeImages }\n  // Some Chinese characters have different glyphs in Chinese and\n  // Japanese, but their Unicode is the same. If the user needs to display\n  // the Chinese and Japanese characters simultaneously correctly, the user\n  // needs to download the Chinese and Japanese fonts, respectively.\n  // Assuming that the user has downloaded the corresponding Japanese font,\n  // to let the program realize that the font has not been downloaded in Chinese,\n  // we need to prohibit Japanese as the fallback when executing `engine.has`.\n  //\n  // This causes a problem. Consider a scenario where we need to display Chinese\n  // correctly under tags with `lang=\"ja\"` set. `engine.has` will repeatedly treat\n  // the Chinese as missing font because we have removed the Chinese as a fallback.\n  // To address this situation, we may need to add `processedWordsMissingFont`\n  const processedWordsMissingFonts = new Set()\n\n  cache.clear()\n  await preProcessNode(element)\n\n  const handler = layout(element, {\n    id: 'id',\n    parentStyle: {},\n    inheritedStyle: {\n      fontSize: 16,\n      fontWeight: 'normal',\n      fontFamily: 'serif',\n      fontStyle: 'normal',\n      lineHeight: 1.2,\n      color: 'black',\n      opacity: 1,\n      whiteSpace: 'normal',\n\n      // Special style properties:\n      _viewportWidth: definedWidth,\n      _viewportHeight: definedHeight,\n    },\n    parent: root,\n    font,\n    embedFont: options.embedFont,\n    debug: options.debug,\n    graphemeImages,\n    canLoadAdditionalAssets: !!options.loadAdditionalAsset,\n    onNodeDetected: options.onNodeDetected,\n    getTwStyles: (tw, style) => {\n      const twToStyles = getTw({\n        width: definedWidth,\n        height: definedHeight,\n        config: options.tailwindConfig,\n      })\n      const twStyles = { ...twToStyles([tw] as any) }\n      if (typeof twStyles.lineHeight === 'number') {\n        twStyles.lineHeight =\n          twStyles.lineHeight / (+twStyles.fontSize || style.fontSize || 16)\n      }\n      if (twStyles.shadowColor && twStyles.boxShadow) {\n        twStyles.boxShadow = (twStyles.boxShadow as string).replace(\n          /rgba?\\([^)]+\\)/,\n          twStyles.shadowColor as string\n        )\n      }\n      return twStyles\n    },\n  })\n\n  const segmentsMissingFont = (await handler.next()).value as {\n    word: string\n    locale?: Locale\n  }[]\n\n  if (options.loadAdditionalAsset) {\n    if (segmentsMissingFont.length) {\n      const languageCodes = convertToLanguageCodes(segmentsMissingFont)\n      const fonts: FontOptions[] = []\n      const images: Record<string, string> = {}\n\n      await Promise.all(\n        Object.entries(languageCodes).flatMap(([code, segments]) =>\n          segments.map((_segment) => {\n            const key = `${code}_${_segment}`\n            if (processedWordsMissingFonts.has(key)) {\n              return null\n            }\n            processedWordsMissingFonts.add(key)\n\n            return options\n              .loadAdditionalAsset(code, _segment)\n              .then((asset: any) => {\n                if (typeof asset === 'string') {\n                  images[_segment] = asset\n                } else if (asset) {\n                  if (Array.isArray(asset)) {\n                    fonts.push(...asset)\n                  } else {\n                    fonts.push(asset)\n                  }\n                }\n              })\n          })\n        )\n      )\n\n      // Directly mutate the font provider and the grapheme map.\n      font.addFonts(fonts)\n      Object.assign(graphemeImages, images)\n    }\n  }\n\n  await handler.next()\n  root.calculateLayout(definedWidth, definedHeight, Yoga.DIRECTION_LTR)\n\n  const content = (await handler.next([0, 0])).value as string\n\n  const computedWidth = root.getComputedWidth()\n  const computedHeight = root.getComputedHeight()\n\n  root.freeRecursive()\n\n  return svg({ width: computedWidth, height: computedHeight, content })\n}\n\nfunction convertToLanguageCodes(\n  segmentsMissingFont: { word: string; locale?: Locale }[]\n): Partial<Record<LangCode, string[]>> {\n  const languageCodes = {}\n  let wordsByCode = {}\n\n  for (const { word, locale } of segmentsMissingFont) {\n    const code = detectLanguageCode(word, locale).join('|')\n    wordsByCode[code] = wordsByCode[code] || ''\n    wordsByCode[code] += word\n  }\n\n  Object.keys(wordsByCode).forEach((code: LangCode) => {\n    languageCodes[code] = languageCodes[code] || []\n    if (code === 'emoji') {\n      languageCodes[code].push(\n        ...unique(segment(wordsByCode[code], 'grapheme'))\n      )\n    } else {\n      languageCodes[code][0] = languageCodes[code][0] || ''\n      languageCodes[code][0] += unique(\n        segment(\n          wordsByCode[code],\n          'grapheme',\n          code === 'unknown' ? undefined : code\n        )\n      ).join('')\n    }\n  })\n\n  return languageCodes\n}\n\nfunction unique<T>(arr: T[]): T[] {\n  return Array.from(new Set(arr))\n}\n"],"names":["yoga_prebuilt_wasm_exports","__export","getYogaModule","init_yoga_prebuilt_wasm","__esmMin","require_negateValue","__commonJSMin","exports","_default","value","sign","require_corePluginList","require_configurePlugins","pluginConfig","plugins","pluginName","require_defaultConfig_stub","module","colors","theme","breakpoints","log_exports","log_default","init_log","key","messages","require_colors","_log","_interopRequireDefault","obj","warn","version","from","to","require_defaults","defaults","target","sources","source","k","ref","k1","ref1","require_toPath","toPath","path","openBrackets","closedBrackets","require_normalizeConfig","normalizeConfig","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","cache","newObj","hasPropertyDescriptor","desc","config","value1","content","purge","safelist","_prefix","extract","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","extractors","defaultExtractor","extensions","extractor","extension","transform","transformers","file","require_isPlainObject","isPlainObject","prototype","require_cloneDeep","cloneDeep","child","v","require_unesc","unesc","gobbleHex","str","lower","hex","spaceTerminated","code","valid","codePoint","isSurrogate","CONTAINS_ESCAPE","needToProcess","ret","i","gobbled","require_getProp","getProp","_len","props","_key","prop","require_ensureObject","ensureObject","require_stripComments","stripComments","s","commentStart","lastEnd","commentEnd","require_util","_unesc","_getProp","_ensureObject","_stripComments","require_node","_util","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","cloneNode","parent","cloned","type","j","Node","opts","_proto","index","overrides","name","valueEscaped","originalValue","originalEscaped","line","column","rawSpace","raw","require_types","TAG","STRING","SELECTOR","ROOT","PSEUDO","NESTING","ID","COMMENT","COMBINATOR","CLASS","ATTRIBUTE","UNIVERSAL","require_container","_node","types","_createForOfIteratorHelperLoose","o","allowArrayLike","it","_unsupportedIterableToArray","minLen","_arrayLikeToArray","arr","len","arr2","_inheritsLoose","subClass","superClass","_setPrototypeOf","p","Container","_Node","_this","selector","id","_iterator","_step","node","oldNode","newNode","oldIndex","col","found","foundChild","callback","result","_this2","_this3","_this4","_this5","_this6","_this7","_this8","_this9","_this10","_this11","current","memo","split","require_root","_container","_types","Root","_Container","message","options","handler","require_selector","Selector","require_cssesc","object","hasOwnProperty","merge","regexAnySingleEscape","regexSingleEscape","regexExcessiveSpaces","cssesc","string","quote","isIdentifier","firstChar","output","counter","length","character","extra","$0","$1","$2","require_className","_cssesc","ClassName","escaped","require_comment","Comment","require_id","require_namespace","Namespace","namespace","ns","require_tag","_namespace","Tag","_Namespace","require_string","String","require_pseudo","Pseudo","params","require_deprecate","fn","args","require_attribute","unescapeValue","_CSSESC_QUOTE_OPTIONS","deprecate","WRAPPED_IN_QUOTES","warnOfDeprecatedValueAssignment","warnOfDeprecatedQuotedAssignment","warnOfDeprecatedConstructor","deprecatedUsage","quoteMark","unescaped","m","handleDeprecatedContructorOpts","_unescapeValue","Attribute","cssescopts","CSSESC_QUOTE_OPTIONS","numSingleQuotes","numDoubleQuotes","pref","quoteValue","rawValue","attrSpaces","spaces","rawSpaces","spaceName","concat","defaultAttrConcat","count","attributeSpaces","operatorSpaces","operator","valueSpaces","insensitiveSpaces","attrValue","qm","_unescapeValue2","require_universal","Universal","require_combinator","Combinator","require_nesting","Nesting","require_sortAscending","sortAscending","list","a","b","require_tokenTypes","ampersand","asterisk","at","comma","colon","semicolon","openParenthesis","closeParenthesis","openSquare","closeSquare","dollar","tilde","caret","plus","equals","pipe","greaterThan","space","singleQuote","doubleQuote","slash","bang","backslash","cr","feed","newline","tab","comment","word","combinator","require_tokenize","tokenize","t","_unescapable","_wordDelimiters","unescapable","wordDelimiters","hexChars","consumeWord","css","start","next","consumeEscape","hexDigits","FIELDS","input","tokens","_css","offset","end","endColumn","endLine","escapePos","last","lines","nextLine","nextOffset","tokenType","unclosed","what","fix","require_parser","_root","_selector","_className","_comment","_id","_tag","_string","_pseudo","_attribute","_universal","_combinator","_nesting","_sortAscending","_tokenize","_WHITESPACE_TOKENS","_Object$assign","WHITESPACE_TOKENS","WHITESPACE_EQUIV_TOKENS","tokenStart","token","tokenEnd","getSource","startLine","startColumn","getTokenSource","getTokenSourceSpan","startToken","endToken","unescapeProp","indexesOf","array","item","indexes","uniqs","Parser","rule","rootSource","errorOptions","attr","startingToken","pos","spaceBefore","commentBefore","lastAdded","spaceAfterMeaningfulToken","prevContent","existingComment","oldRawValue","_rawValue","_unescaped","_oldRawValue","oldValue","insensitive","lastComment","rawLastComment","lastValue","rawLastValue","stopPosition","startPosition","nodes","firstToken","lastToken","requiredSpace","n","rawSpaceBefore","position","nameRaw","raws","nextSigTokenPos","_this$convertWhitespa","spaceOrDescendantSelectorNodes","_this$convertWhitespa2","_space","_rawSpace","_this$convertWhitespa3","_space2","_rawSpace2","before","nextContent","unbalanced","parenStart","parenValue","parenEnd","pseudoStr","first","nextToken","firstCallback","hasClass","escapedDot","isKeyframesPercent","hasId","interpolations","hashIndex","indices","ind","sourceIndex","classNameOpts","idOpts","tagOpts","throwOnParenthesis","description","an","required","searchPosition","require_processor","_parser","Processor","func","merged","parser","resolve","reject","root","e","require_constructors","attribute","className","nesting","pseudo","tag","universal","require_guards","isNode","isPseudoElement","isPseudoClass","isContainer","isNamespace","_IS_TYPE","IS_TYPE","isNodeType","isAttribute","isClassName","isCombinator","isComment","isNesting","isPseudo","isRoot","isSelector","isString","isTag","isUniversal","require_selectors","_constructors","_guards","require_dist","_processor","selectors","processor","require_escapeCommas","escapeCommas","require_color_name","require_color","_export","all","parseColor","formatColor","_colorName","HEX","SHORT_HEX","VALUE","SEP","ALPHA_SEP","CUSTOM_PROPERTY","RGB","HSL","loose","_","r","g","match","color","part","mode","alpha","hasAlpha","require_withAlphaVariable","withAlphaValue","withAlphaVariable","_color","alphaValue","defaultValue","parsed","property","variable","properties","require_regex","pattern","withoutCapturing","any","optional","zeroOrMore","nestedBrackets","escape","REGEX_SPECIAL","REGEX_HAS_SPECIAL","toSource","open","close","depth","require_splitAtTopLevelOnly","splitAtTopLevelOnly","_regex","separator","SPECIALS","lastIndex","separatorIndex","separatorStart","separatorLength","matchesSeparator","atEndOfSeparator","matchesFullSeparator","require_parseBoxShadowValue","parseBoxShadowValue","formatBoxShadowValue","_splitAtTopLevelOnly","KEYWORDS","SPACE","LENGTH","shadow","parts","seen","shadows","require_dataTypes","normalize","url","number","percentage","lineWidth","image","gradient","familyName","genericName","absoluteSize","relativeSize","_parseBoxShadowValue","cssFunctions","COMMA","UNDERSCORE","fullMatch","characterBefore","lengthUnits","lengthUnitsPattern","lineWidths","parsedShadows","parsedShadow","images","gradientTypes","validPositions","positions","fonts","genericNames","absoluteSizes","relativeSizes","require_pluginUtils","updateAllClasses","asValue","parseColorFormat","asColor","asLookupValue","coerceValue","_postcssSelectorParser","_escapeCommas","_withAlphaVariable","_dataTypes","_negateValue","updateClass","sel","updatedClass","resolveArbitraryValue","modifier","validate","isArbitraryValue","asNegativeValue","lookup","positiveValue","resolved","splitAlpha","slashIdx","opacityValue","tailwindConfig","normalizedColor","guess","typeMap","supportedTypes","splitAtFirst","delim","idx","arbitraryValue","explicitType","require_toColorValue","toColorValue","maybeFunction","require_resolveConfig","resolveConfig","_corePluginList","_configurePlugins","_defaultConfigStub","_colors","_defaults","_toPath","_normalizeConfig","_isPlainObject","_cloneDeep","_pluginUtils","_toColorValue","isFunction","isObject","mergeWith","customizer","configUtils","scale","negativeScale","negativeValue","screens","valueToResolve","collectExtends","items","extend","mergedValue","extendValue","mergeThemes","themes","mergeExtensionCustomizer","mergeExtensions","themeValue","resolveThemePath","utils","toPaths","matches","prefix","newPath","resolveFunctionKeys","resolvePath","val","normalized","extractPluginConfigs","configs","allConfigs","plugin","resolveCorePlugins","corePluginConfigs","corePluginConfig","resolvePluginLists","pluginLists","pluginList","c","picocolors_exports","picocolors_default","init_picocolors","require_featureFlags","flagEnabled","issueFlagNotices","_picocolors","featureFlags","flag","experimentalFlagsEnabled","changes","require_getAllConfigs","getAllConfigs","_defaultConfigStubJs","_featureFlags","preset","features","experimentals","feature","require_resolve_config","_resolveConfig","_getAllConfigs","defaultConfigs","yogaInstance","init","yoga","initializationPromise","getYoga","mod","u","z","L","w","h","$","y","q","f","l","d","x","O","F","U","E","D","isReactElement","isClass","hasDangerouslySetInnerHTMLProp","normalizeChildren","children","flattend","res","lengthToNumber","baseFontSize","baseLength","inheritedStyle","multiply","m1","m2","field","map","fallback","errorIfNotAllowedForProperty","_v","wordSegmenter","graphemeSegmenter","wordSeparators","point","segment","granularity","locale","seg","segmented","previousWord","nextWord","buildXMLString","attrs","attrString","createLRU","max","store","set","keyToDelete","get","entry","clear","parseViewBox","viewBox","toString","isNumber","isUndefined","splitByBreakOpportunities","wordBreak","breaker","LineBreaker","bk","words","requiredBreaks","midline","letter","splitEffects","parenCount","AVIF","WEBP","APNG","PNG","JPEG","GIF","SVG","parseJPEG","buf","view","parseGIF","parsePNG","inflightRequests","ALLOWED_IMAGE_TYPES","arrayBufferToBase64","buffer","binary","bytes","base64ToArrayBuffer","base64","binaryString","parseSvgImageSize","src","data","svgTag","viewBoxStr","width","height","size","ratio","arrayBufferToDataUri","imageSize","imageType","detectContentType","resolveImageData","newSrc","decodedURI","encodingType","dataString","utf8Src","base64Src","cached","promise","err","detectAPNG","dv","off","isAPNG","chars","ATTRIBUTE_MAPPING","SVGSymbols","translateSVGNodeToSVGString","inheritedColor","style","restProps","currentColor","styles","preProcessNode","walk","SVGNodeToImage","viewbox","viewBoxSize","DEFAULT_DISPLAY","presets_default","inheritable","parseUnit","handleWord","unitIsHorizontal","parsedUnit","parseTransformOrigin","valueParser","getMaskProperty","getPropertyName","parseMask","maskImage","common","optOutPx","keepNumber","handleFallbackColor","rawInput","purify","num","handleSpecialCase","horizontal","vertical","vh","getStylesForProperty","vv","purified","full","parseBoxShadow","symbols","replaced","symbol","getErrorHint","RGB_SLASH","normalizeColor","expand","serializedStyle","getCurrentColor","preprocess","resolvedStyle","backgrounds","parseElementStyle","calcBaseFontSize","transforms","textShadowRadius","textShadowOffset","inheritedSize","refineHSL","cssColorParse","convertCurrentColorToActualValue","compute","definedStyle","Yoga","resolvedSrc","imageWidth","imageHeight","extraHorizontal","extraVertical","contentBoxWidth","contentBoxHeight","isAbsoluteContentSize","baseMatrix","resolveTransforms","matrix","transformMatrix","rad","left","top","isInheritingTransform","transformOrigin","xOrigin","yOrigin","container","opacity","buildText","filter","clipPathId","debug","shape","decorationShape","shapeProps","escapeHTML","shiftPath","dx","dy","command","SCALE","buildDropShadow","shadowCount","effects","right","bottom","grow","boxShadow","innerShadow","shadowStyle","sid","maskId","shapeWithSpread","finalShape","buildDecoration","ascender","textDecorationColor","textDecorationStyle","textDecorationLine","fontSize","dasharray","stringFromCode","Space","Tab","HorizontalEllipsis","genMeasurer","engine","isImage","letterSpacing","measureGrapheme","grapheme","measureGraphemeArray","graphemes","measureText","text","textTransform","whiteSpace","processTextTransform","processedContent","shouldCollapseTabsAndSpaces","allowSoftWrap","processWhiteSpace","allowBreakWord","processWordBreak","lineLimit","blockEllipsis","processTextOverflow","textOverflow","lineClamp","WebkitLineClamp","WebkitBoxOrient","overflow","display","parseLineClamp","shouldKeepLinebreak","regex1","regex2","match1","match2","skippedWordWhenFindingMissingFont","shouldSkipWhenFindingMissingFont","buildTextNodes","context","parentStyle","font","embedFont","graphemeImages","canLoadAdditionalAssets","textAlign","lineHeight","textWrap","cssFilter","tabSize","_inheritedBackgroundClipTextPath","flexShrink","textContainer","createTextContainerNode","wordsMissingFont","tabWidth","calc","currentWidth","tabCount","detectTabs","originWidth","textBeforeTab","textAfterTab","textWidthBeforeTab","offsetBeforeTab","afterTrimEndWidth","baselines","lineSegmentNumber","texts","wordPositionInLayout","flow","maxWidth","lineIndex","currentLineHeight","currentBaselineOffset","prevLineEndingSpacesWidth","forceBreak","endingSpacesWidth","_word","lineEndingSpacesWidth","allowedToPutAtBeginning","allowedToJustify","willWrap","glyphHeight","_texts","_text","_width","_isImage","measuredTextSize","containerWidth","mHeight","backgroundClipDef","overflowMaskId","containerLeft","containerTop","containerHeight","parentContainerInnerWidth","textShadowColor","mergedPath","skippedLine","decorationLines","wordBuffer","bufferedOffset","layout","nextLayout","isLastDisplayedBeforeEllipsis","topOffset","leftOffset","extendedWidth","remainingWidth","segments","gutter","baselineOfLine","baselineOfWord","heightOfWord","baselineDelta","calcEllipsis","baseWidth","subset","resolvedWidth","char","ellipsisWidth","_blockEllipsis","spaceWidth","isNotLastLine","nextLineText","finalizedSegment","finalizedLeftOffset","finalizedWidth","deco","GradientParser","FALLBACK_LINEAR_ORIENTATION","error","msg","getAST","ast","matchListDefinitions","matchListing","matchDefinition","matchGradient","matchLinearOrientation","matchListRadialOrientations","getDefaultRadialGradient","orientation","_a","_b","_c","_d","gradientType","orientationMatcher","fallbackOrientation","matchCall","captures","scan","matchColorStop","matchSideOrCorner","matchAngle","matchZero","radialOrientations","radialOrientation","matchRadialOrientation","lookaheadCache","pre","preMatchRadialOrientation","matchAtPosition","rgEndingShape","matchCircle","matchEllipse","rgSize","matchExtentKeyword","matchLength","matchDistance","positioning","matchPositioning","location","matchCoordinates","matcher","matchColor","matchHexColor","matchRGBAColor","matchRGBColor","matchLiteralColor","matchNumber","matchPositionKeyword","matchRelativeLength","captureIndex","regexp","blankCaptures","consume","gradient_parser_default","resolveColorFromStop","stop","resolveXYFromDirection","dir","x1","y1","x2","y2","toAbsoluteValue","base","parseLengthPairs","defaultX","defaultY","normalizeStops","totalLength","colorStops","stops","lastStop","previousStop","nextStop","backgroundImage","repeat","inheritableStyle","repeatX","repeatY","dimensions","offsets","angle","tmp","tan","tanTexture","angleTexture","cosA","gradientId","patternId","defs","xDelta","yDelta","cx","cy","calcRadialGradient","spread","calcRadius","dimensionsWithoutFallback","resolvedHeight","calcPos","endingShape","centerAxis","fx","fy","svgArcCenterOffset","rx","ry","resolveSize","limit","makeSmaller","resolveRadius","sides","singleValue","radiusZeroOrNull","_radius","radius","partialSides","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","singleAbsValueTopLeftCorner","singleAbsValueTopRightCorner","singleAbsValueBottomLeftCorner","singleAbsValueBottomRightCorner","T","R","B","getArc","c0","arc0","arc1","compareBorderDirections","getBorderClipPath","currentClipPathId","borderPath","borderType","rectClipId","border","asContentMask","maskBorderOnly","directions","direction","fullBorder","currentStyle","_i","ni","nd","contentMask","borderOnly","offsetLeft","offsetTop","offsetRight","offsetBottom","contentArea","regexMap","createShapeParser","parseCircle","resolvePosition","parseEllipse","parsePath","fillRule","resolveFillRule","parsePolygon","points","parseInset","inset","radiusMap","genClipPathId","genClipPath","buildClipPath","clipPath","rest","currentClipPath","overflowClipPath","genMaskImageId","buildMaskImage","miId","mask","def","rect","fills","backgroundShapes","background","mi","backgroundClip","clip","fill","borderClip","preserveAspectRatio","emoji_regex_default","emojiRegex","specialCode","locales","isValidLocale","detectLanguageCode","languages","lang","normalizeLocale","element","getTwStyles","iter","tw","_newLocale","newLocale","twStyles","computedStyle","newInheritableStyle","mutateRefValue","normalizedChildren","iterators","segmentsMissingFont","childrenRenderResult","baseRenderResult","depsRenderResult","childrenNode","SUFFIX_WHEN_LANG_NOT_SET","compareFont","weight","matchedWeight","matchedStyle","nextWeight","nextStyle","FontLoader","fontOptions","matchedFont","weight1","style1","weight2","style2","fontOption","_lang","opentype","originalCharToGlyphIndex","_name","fontFamily","fontWeight","fontStyle","face","getNormal","getUnknown","keys","specifiedLangFonts","nonSpecifiedLangFonts","additionalFonts","getLangFromFontName","cachedFontResolver","resolveFont","_fonts","_font","resolvedFont","useOS2Table","descender","A","yMax","yMin","sGlyphHeight","baselineOffset","brokenChars","originalStringToGlyphs","glyphs","anotherFont","glyph","scaledCommand","unpatch","svg","import_resolveConfig","PLATFORMS","isPlatform","ORIENTATIONS","isOrientation","ConfigType","Unit","complete","parseNumericValue","fractions","numerator","denominator","parsedNumerator","parsedDenominator","getCompleteStyle","styleVal","parseStyleVal","mergeStyle","getStyle","toStyleVal","unit","isNegative","device","toPx","DIR_MAP","getDirection","parseAndConsumeDirection","utilityFragment","parseUnconfigged","unconfiggedStyleVal","unconfiggedStyle","consoleWarn","noopWarn","defaultStyles","fontVariant","styles_default","Cache","customStyles","ir","configValue","fontSizeStyle","calculateLineHeight","parseValue","spacing","numericValue","unconfigged","spacingStyle","pixels","screenData","acc","screen","values","minPx","maxPx","minA","maxA","minB","maxB","order","firstFamily","shorthandOpacity","findColorInConfigRecursive","addOpacity","STYLE_PROPS","opacityProp","colorOpacity","hexToRgba","removeOpacityHelpers","orig","MATCH_SHORT_HEX","MATCH_FULL_HEX","colorName","configColor","colorNameStart","colorNameRest","subConfig","borderWidth","colorType","colorStyle","arbitraryWidth","borderRadius","arbitrary","insetDir","insetStyle","flexGrowShrink","configKey","flex","flexBasis","widthHeight","minMaxWidthHeight","relativeLetterSpacing","ems","parsedConfig","parsedArbitrary","shadowOpacity","shadowOffset","widthStr","heightStr","offsetValue","ClassParser","platform","_e","_f","prefixes","widthBreakpoints","breakpointOrder","windowWidth","min","spacingDirection","elevation","zIndex","windowDims","amount","checkDimension","parsedAmount","bound","begin","parseInputs","inputs","classNames","unique","classes","getAddedUtilities","callPluginFunction","pluginFn","added","utilities","core","notImplemented","create","customConfig","withContent","pluginUtils","customStringUtils","customStyleUtils","util","deriveCacheGroup","cacheGroup","contextCaches","getCache","existing","dependents","ordered","userStyle","joined","utility","styleIr","customStyle","orderedStyle","dependent","styleObj","tailwindFn","strings","prefixMatches","newDimensions","newFontScale","newPixelDensity","newColorScheme","defaultShadows","addUtilities","createTw","getTw","fontCache","satori","definedWidth","definedHeight","processedWordsMissingFonts","languageCodes","convertToLanguageCodes","_segment","asset","computedWidth","computedHeight","wordsByCode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,KAAA,CAAA;AAAAC,GAAAD,IAAA;IAAA,eAAA,IAAAE;AAAAA;AAGA,eAAsBA;IACpB,OAAO,CAAC;AACV;AALA,IAAAC,KAAAC,GAAA,KAAA;ACAA,IAAAC,KAAAC,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIC;IACb;IACA,SAASA,GAASC,CAAAA;QAEd,IADAA,IAAQ,CAAA,EAAGA,EAAK,CAAA,EACZA,MAAU,KACV,OAAO;QAGX,IAAI,4CAA4C,IAAA,CAAKA,IACjD,OAAOA,EAAM,OAAA,CAAQ,UAAWC,CAAAA,IAAOA,MAAS,MAAM,KAAK;QAE/D,IAAID,EAAM,QAAA,CAAS,WAAWA,EAAM,QAAA,CAAS,UACzC,OAAO,CAAA,KAAA,EAAQA,EAAK,MAAA,CAE5B;IAAA;AAAA;ACpBA,IAAAE,KAAAL,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIC;IACb;IACA,IAAMA,KAAW;QACb;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACJ;AAAA;ACpLA,IAAAI,KAAAN,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIC;IACb;IACA,SAASA,GAASK,CAAAA,EAAcC,CAAAA;QAC5B,OAAID,MAAiB,KAAA,IACVC,IAES,MAAM,OAAA,CAAQD,KAAgBA,IAAe;eAC1D,IAAI,IAAIC,EAAQ,MAAA,CAAQC,CAAAA,IAChBF,MAAiB,CAAA,KAASA,CAAAA,CAAaE,EAAU,KAAM,CAAA,GAC/D,MAAA,CAAO,OAAO,IAAA,CAAKF,GAAc,MAAA,CAAQE,CAAAA,IACjCF,CAAAA,CAAaE,EAAU,KAAM,CAAA;SAIhD;IAAA;AAAA;ACpBA,IAAAC,KAAAV,EAAA,CAAAC,IAAAU;IACAA,GAAO,OAAA,GAAU;QACf,SAAS,EAAC;QACV,SAAS,EAAC;QACV,UAAU;QACV,OAAO;YACL,SAAS;gBACP,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,OAAO;YACT;YACA,QAAQ,CAAC,EAAE,QAAAC,CAAO,EAAA,GAAA,CAAO;oBACvB,SAASA,EAAO,OAAA;oBAChB,SAASA,EAAO,OAAA;oBAChB,aAAaA,EAAO,WAAA;oBACpB,OAAOA,EAAO,KAAA;oBACd,OAAOA,EAAO,KAAA;oBACd,OAAOA,EAAO,KAAA;oBACd,MAAMA,EAAO,IAAA;oBACb,MAAMA,EAAO,IAAA;oBACb,SAASA,EAAO,OAAA;oBAChB,OAAOA,EAAO,KAAA;oBACd,KAAKA,EAAO,GAAA;oBACZ,QAAQA,EAAO,MAAA;oBACf,OAAOA,EAAO,KAAA;oBACd,QAAQA,EAAO,MAAA;oBACf,MAAMA,EAAO,IAAA;oBACb,OAAOA,EAAO,KAAA;oBACd,SAASA,EAAO,OAAA;oBAChB,MAAMA,EAAO,IAAA;oBACb,MAAMA,EAAO,IAAA;oBACb,KAAKA,EAAO,GAAA;oBACZ,MAAMA,EAAO,IAAA;oBACb,QAAQA,EAAO,MAAA;oBACf,QAAQA,EAAO,MAAA;oBACf,QAAQA,EAAO,MAAA;oBACf,SAASA,EAAO,OAAA;oBAChB,MAAMA,EAAO,IAAA;oBACb,MAAMA,EAAO,IACf;gBAAA,CAAA;YACA,SAAS;gBACP,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,OAAO;gBACP,OAAO;gBACP,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,OAAO;gBACP,OAAO;gBACP,OAAO;gBACP,OAAO;gBACP,OAAO;gBACP,OAAO;YACT;YACA,SAAS;gBACP,IAAI;gBACJ,GAAG;gBACH,IAAK;gBACL,GAAG;gBACH,KAAK;gBACL,GAAG;gBACH,KAAK;gBACL,GAAG;gBACH,KAAK;gBACL,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;YACN;YACA,WAAW;gBACT,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,OAAO;gBACP,QAAQ;YACV;YACA,aAAa;gBACX,MAAM;gBACN,QAAQ;gBACR,OAAO;YACT;YACA,cAAc,CAAC,EAAE,OAAAC,CAAM,EAAA,GAAMA,EAAM;YACnC,oBAAoB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACzC,kBAAkB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACvC,mBAAmB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACxC,mBAAmB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACxC,gBAAgB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACrC,iBAAiB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACtC,kBAAkB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACvC,eAAe,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACpC,iBAAiB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACtC,iBAAiB;gBACf,MAAM;gBACN,iBAAiB;gBACjB,kBAAkB;gBAClB,iBAAiB;gBACjB,kBAAkB;gBAClB,iBAAiB;gBACjB,kBAAkB;gBAClB,iBAAiB;gBACjB,kBAAkB;YACpB;YACA,mBAAmB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACxC,oBAAoB;gBAClB,QAAQ;gBACR,QAAQ;gBACR,MAAM;gBACN,eAAe;gBACf,YAAY;gBACZ,OAAO;gBACP,gBAAgB;gBAChB,aAAa;gBACb,KAAK;YACP;YACA,gBAAgB;gBACd,MAAM;gBACN,OAAO;gBACP,SAAS;YACX;YACA,MAAM;gBACJ,GAAG;gBACH,MAAM;gBACN,IAAI;gBACJ,SAAS;gBACT,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,OAAO;gBACP,OAAO;YACT;YACA,YAAY;gBACV,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;YACP;YACA,aAAa,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBAC3B,GAAGA,EAAM,SAAQ;oBACjB,SAASA,EAAM,mBAAmB;gBACpC,CAAA;YACA,eAAe,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACpC,cAAc;gBACZ,MAAM;gBACN,IAAI;gBACJ,SAAS;gBACT,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,OAAO;gBACP,OAAO;gBACP,MAAM;YACR;YACA,eAAe,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBAC7B,GAAGA,EAAM,UACX;gBAAA,CAAA;YACA,aAAa;gBACX,SAAS;gBACT,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,WAAW;gBACT,IAAI;gBACJ,SAAS;gBACT,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,OAAO;gBACP,OAAO;gBACP,MAAM;YACR;YACA,gBAAgB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACrC,YAAY,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACjC,aAAa,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBAC3B,GAAGA,EAAM,SAAQ;oBACjB,MAAM;gBACR,CAAA;YACA,UAAU;gBACR,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;YACP;YACA,WAAW,CAAC;YACZ,SAAS;gBACP,MAAM;YACR;YACA,QAAQ;gBACN,MAAM;gBACN,SAAS;gBACT,SAAS;gBACT,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,eAAe;gBACf,MAAM;gBACN,gBAAgB;gBAChB,UAAU;gBACV,MAAM;gBACN,WAAW;gBACX,iBAAiB;gBACjB,OAAO;gBACP,MAAM;gBACN,WAAW;gBACX,MAAM;gBACN,UAAU;gBACV,cAAc;gBACd,cAAc;gBACd,cAAc;gBACd,YAAY;gBACZ,YAAY;gBACZ,YAAY;gBACZ,YAAY;gBACZ,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,eAAe;gBACf,eAAe;gBACf,WAAW;gBACX,YAAY;YACd;YACA,aAAa,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAClC,eAAe,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACpC,aAAa,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAClC,YAAY;gBACV,IAAI;gBACJ,SAAS;oBAAC;oBAA8B;iBAA6B;gBACrE,IAAI;oBAAC;oBAA+B;iBAA6B;gBACjE,IAAI;oBAAC;oBAAgC;iBAA4B;gBACjE,IAAI;oBAAC;oBAAiC;iBAA6B;gBACnE,OAAO;gBACP,MAAM;YACR;YACA,MAAM,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAC3B,WAAW;gBACT,GAAG;gBACH,SAAS;YACX;YACA,WAAW;gBACT,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,KAAK;YACP;YACA,QAAQ;gBACN,GAAG;gBACH,SAAS;YACX;YACA,MAAM;gBACJ,GAAG;gBACH,MAAM;gBACN,SAAS;gBACT,MAAM;YACR;YACA,WAAW,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACzB,MAAM;oBACN,GAAGA,EAAM,UAAS;oBAClB,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,SAAS;oBACT,SAAS;oBACT,MAAM;gBACR,CAAA;YACA,UAAU;gBACR,GAAG;gBACH,SAAS;YACX;YACA,YAAY;gBACV,GAAG;gBACH,SAAS;YACX;YACA,YAAY;gBACV,MAAM;oBACJ;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;iBACF;gBACA,OAAO;oBAAC;oBAAY;oBAAW;oBAAW;oBAAqB;oBAAS;iBAAO;gBAC/E,MAAM;oBACJ;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;oBACA;iBAEJ;YAAA;YACA,UAAU;gBACR,IAAI;oBAAC;oBAAW;wBAAE,YAAY;oBAAO;iBAAC;gBACtC,IAAI;oBAAC;oBAAY;wBAAE,YAAY;oBAAU;iBAAC;gBAC1C,MAAM;oBAAC;oBAAQ;wBAAE,YAAY;oBAAS;iBAAC;gBACvC,IAAI;oBAAC;oBAAY;wBAAE,YAAY;oBAAU;iBAAC;gBAC1C,IAAI;oBAAC;oBAAW;wBAAE,YAAY;oBAAU;iBAAC;gBACzC,OAAO;oBAAC;oBAAU;wBAAE,YAAY;oBAAO;iBAAC;gBACxC,OAAO;oBAAC;oBAAY;wBAAE,YAAY;oBAAU;iBAAC;gBAC7C,OAAO;oBAAC;oBAAW;wBAAE,YAAY;oBAAS;iBAAC;gBAC3C,OAAO;oBAAC;oBAAQ;wBAAE,YAAY;oBAAI;iBAAC;gBACnC,OAAO;oBAAC;oBAAW;wBAAE,YAAY;oBAAI;iBAAC;gBACtC,OAAO;oBAAC;oBAAU;wBAAE,YAAY;oBAAI;iBAAC;gBACrC,OAAO;oBAAC;oBAAQ;wBAAE,YAAY;oBAAI;iBAAC;gBACnC,OAAO;oBAAC;oBAAQ;wBAAE,YAAY;oBAAI;iBACpC;YAAA;YACA,YAAY;gBACV,MAAM;gBACN,YAAY;gBACZ,OAAO;gBACP,QAAQ;gBACR,QAAQ;gBACR,UAAU;gBACV,MAAM;gBACN,WAAW;gBACX,OAAO;YACT;YACA,KAAK,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAC1B,oBAAoB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACzC,iBAAiB;gBACf,MAAM;gBACN,KAAK;gBACL,KAAK;gBACL,IAAI;YACN;YACA,cAAc;gBACZ,MAAM;gBACN,KAAK;gBACL,KAAK;gBACL,IAAI;YACN;YACA,YAAY;gBACV,MAAM;gBACN,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,WAAW;gBACX,WAAW;gBACX,WAAW;gBACX,aAAa;YACf;YACA,eAAe;gBACb,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;YACN;YACA,iBAAiB;gBACf,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;YACN;YACA,SAAS;gBACP,MAAM;gBACN,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,UAAU;gBACV,aAAa;YACf;YACA,cAAc;gBACZ,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,YAAY;gBACV,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,qBAAqB;gBACnB,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;YACN;YACA,kBAAkB;gBAChB,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,QAAQ,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACtB,MAAM;oBACN,GAAGA,EAAM,UAAS;oBAClB,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,MAAM;oBACN,QAAQ;oBACR,KAAK;oBACL,KAAK;oBACL,KAAK;gBACP,CAAA;YACA,OAAO,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACrB,MAAM;oBACN,GAAGA,EAAM,UAAS;oBAClB,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,MAAM;gBACR,CAAA;YACA,WAAW;gBACT,MAAM;oBACJ,IAAI;wBACF,WAAW;oBACb;gBACF;gBACA,MAAM;oBACJ,aAAa;wBACX,WAAW;wBACX,SAAS;oBACX;gBACF;gBACA,OAAO;oBACL,OAAO;wBACL,SAAS;oBACX;gBACF;gBACA,QAAQ;oBACN,YAAY;wBACV,WAAW;wBACX,yBAAyB;oBAC3B;oBACA,OAAO;wBACL,WAAW;wBACX,yBAAyB;oBAC3B;gBACF;YACF;YACA,eAAe;gBACb,SAAS;gBACT,OAAO;gBACP,QAAQ;gBACR,MAAM;gBACN,OAAO;gBACP,QAAQ;YACV;YACA,YAAY;gBACV,MAAM;gBACN,OAAO;gBACP,MAAM;gBACN,QAAQ;gBACR,SAAS;gBACT,OAAO;gBACP,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;YACN;YACA,eAAe;gBACb,MAAM;gBACN,MAAM;gBACN,SAAS;YACX;YACA,QAAQ,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACtB,MAAM;oBACN,GAAGA,EAAM,UACX;gBAAA,CAAA;YACA,WAAW,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACzB,GAAGA,EAAM,UAAS;oBAClB,MAAM;oBACN,QAAQ;oBACR,KAAK;oBACL,KAAK;oBACL,KAAK;gBACP,CAAA;YACA,UAAU,CAAC,EAAE,OAAAA,CAAAA,EAAO,aAAAC,CAAY,EAAA,GAAA,CAAO;oBACrC,MAAM;oBACN,GAAG;oBACH,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,MAAM;oBACN,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,GAAGA,EAAYD,EAAM,WACvB;gBAAA,CAAA;YACA,WAAW;gBACT,GAAG;gBACH,MAAM;gBACN,QAAQ;gBACR,KAAK;gBACL,KAAK;gBACL,KAAK;YACP;YACA,UAAU;gBACR,GAAG;gBACH,MAAM;gBACN,KAAK;gBACL,KAAK;gBACL,KAAK;YACP;YACA,gBAAgB;gBACd,QAAQ;gBACR,QAAQ;gBACR,MAAM;gBACN,eAAe;gBACf,YAAY;gBACZ,OAAO;gBACP,gBAAgB;gBAChB,aAAa;gBACb,KAAK;YACP;YACA,SAAS;gBACP,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,KAAK;YACP;YACA,OAAO;gBACL,OAAO;gBACP,MAAM;gBACN,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;YACN;YACA,SAAS,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAC9B,kBAAkB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACvC,oBAAoB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACzC,cAAc,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACnC,eAAe;gBACb,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,cAAc;gBACZ,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,WAAW,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACzB,SAASA,EAAM,mBAAmB;oBAClC,GAAGA,EAAM,SACX;gBAAA,CAAA;YACA,iBAAiB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACtC,iBAAiB;gBACf,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,aAAa,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBAC3B,SAAS;oBACT,GAAGA,EAAM,UACX;gBAAA,CAAA;YACA,WAAW;gBACT,SAAS;gBACT,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,QAAQ;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,KAAK;YACP;YACA,UAAU;gBACR,GAAG;gBACH,IAAI;gBACJ,KAAK;gBACL,KAAK;gBACL,KAAK;YACP;YACA,OAAO;gBACL,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;YACP;YACA,cAAc,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBAC5B,GAAGA,EAAM,UACX;gBAAA,CAAA;YACA,eAAe,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YACpC,OAAO;gBACL,GAAG;gBACH,SAAS;YACX;YACA,MAAM;gBACJ,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,IAAI;YACN;YACA,OAAO,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACrB,GAAGA,EAAM,UACX;gBAAA,CAAA;YACA,QAAQ,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAC7B,aAAa;gBACX,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,WAAW,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAChC,qBAAqB,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAC1C,yBAAyB;gBACvB,MAAM;gBACN,aAAa;gBACb,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,qBAAqB;gBACnB,MAAM;gBACN,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,YAAY,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBAC1B,GAAGA,EAAM,UACX;gBAAA,CAAA;YACA,aAAa,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAMA,EAAM;YAClC,iBAAiB;gBACf,QAAQ;gBACR,KAAK;gBACL,aAAa;gBACb,OAAO;gBACP,gBAAgB;gBAChB,QAAQ;gBACR,eAAe;gBACf,MAAM;gBACN,YAAY;YACd;YACA,iBAAiB;gBACf,IAAI;gBACJ,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAM;YACR;YACA,oBAAoB;gBAClB,SAAS;gBACT,IAAI;gBACJ,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAK;gBACL,KAAM;YACR;YACA,oBAAoB;gBAClB,MAAM;gBACN,KAAK;gBACL,SACE;gBACF,QAAQ;gBACR,SAAS;gBACT,QAAQ;gBACR,WAAW;YACb;YACA,0BAA0B;gBACxB,SAAS;gBACT,QAAQ;gBACR,IAAI;gBACJ,KAAK;gBACL,UAAU;YACZ;YACA,WAAW,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACzB,GAAGA,EAAM,UAAS;oBAClB,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,MAAM;gBACR,CAAA;YACA,OAAO,CAAC,EAAE,OAAAA,CAAM,EAAA,GAAA,CAAO;oBACrB,MAAM;oBACN,GAAGA,EAAM,UAAS;oBAClB,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,OAAO;oBACP,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,QAAQ;oBACR,SAAS;oBACT,SAAS;oBACT,MAAM;oBACN,QAAQ;oBACR,KAAK;oBACL,KAAK;oBACL,KAAK;gBACP,CAAA;YACA,YAAY;gBACV,MAAM;gBACN,QAAQ;gBACR,UAAU;gBACV,WAAW;YACb;YACA,QAAQ;gBACN,MAAM;gBACN,GAAG;gBACH,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;gBACJ,IAAI;YACN;QACF;QACA,cAAc;YACZ;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACF;QACA,SAAS,EACX;IAAA;AAAA;ACz7BA,IAAAE,KAAA,CAAA;AAAApB,GAAAoB,IAAA;IAAA,SAAA,IAAAC;AAAAA;AAAA,IAAOA,IAAPC,KAAAnB,GAAA;IAAOkB,KAAQ;QACb,MAAKE,CAAAA,EAAKC,CAAAA;YACR,QAAQ,IAAA,IAAS,MAAM,OAAA,CAAQD,KAAO;gBAACA;aAAG,GAAI;gBAACC;gBAAUD;aAAK;QAChE;QACA,MAAKA,CAAAA,EAAKC,CAAAA;YACR,QAAQ,IAAA,IAAS,MAAM,OAAA,CAAQD,KAAO;gBAACA;aAAG,GAAI;gBAACC;gBAAUD;aAAK;QAChE;QACA,MAAKA,CAAAA,EAAKC,CAAAA;YACR,QAAQ,KAAA,IAAU,MAAM,OAAA,CAAQD,KAAO;gBAACA;aAAG,GAAI;gBAACC;gBAAUD;aAAK;QACjE;IACF;AAAA;ACVA,IAAAE,KAAApB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIC;IACb;IACA,IAAMmB,KAAqBC,GAAuB,CAAA,MAAA,GAAA,GAAA;IAClD,SAASA,GAAuBC,CAAAA;QAC5B,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YACjC,SAASA;QACb;IACJ;IACA,SAASC,GAAK,EAAE,SAAAC,CAAAA,EAAU,MAAAC,CAAAA,EAAO,IAAAC,CAAI,EAAA;QACjCN,GAAK,OAAA,CAAQ,IAAA,CAAK,CAAA,EAAGK,EAAI,cAAA,CAAA,EAAkB;YACvC,CAAA,mBAAA,EAAsBD,EAAO,IAAA,EAAOC,EAAI,yBAAA,EAA4BC,EAAE,GAAA,CAAA;YACtE;SACH;IACL;IACA,IAAMzB,KAAW;QACb,SAAS;QACT,SAAS;QACT,aAAa;QACb,OAAO;QACP,OAAO;QACP,OAAO;YACH,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,SAAS;YACL,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,OAAO;YACH,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,KAAK;YACD,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,QAAQ;YACJ,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,OAAO;YACH,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,QAAQ;YACJ,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,OAAO;YACH,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,SAAS;YACL,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,KAAK;YACD,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,QAAQ;YACJ,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,QAAQ;YACJ,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,QAAQ;YACJ,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,SAAS;YACL,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,MAAM;YACF,IAAI;YACJ,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACT;QACA,IAAI,aAAa;YACb,OAAAsB,GAAK;gBACD,SAAS;gBACT,MAAM;gBACN,IAAI;YACR,IACO,IAAA,CAAK,GAChB;QAAA;QACA,IAAI,YAAY;YACZ,OAAAA,GAAK;gBACD,SAAS;gBACT,MAAM;gBACN,IAAI;YACR,IACO,IAAA,CAAK,KAChB;QAAA;QACA,IAAI,YAAY;YACZ,OAAAA,GAAK;gBACD,SAAS;gBACT,MAAM;gBACN,IAAI;YACR,IACO,IAAA,CAAK,OAChB;QAAA;QACA,IAAI,YAAY;YACZ,OAAAA,GAAK;gBACD,SAAS;gBACT,MAAM;gBACN,IAAI;YACR,IACO,IAAA,CAAK,IAChB;QAAA;QACA,IAAI,YAAY;YACZ,OAAAA,GAAK;gBACD,SAAS;gBACT,MAAM;gBACN,IAAI;YACR,IACO,IAAA,CAAK,KAChB;QAAA;IACJ;AAAA;AC1UA,IAAAI,KAAA5B,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,YAAY;QACvC,YAAY,CAAA;QACZ,KAAK,IAAI4B;IACb;IACA,SAASA,GAASC,CAAAA,EAAAA,GAAWC,CAAAA;QACzB,KAAA,IAASC,KAAUD,EAAQ;YACvB,IAAA,IAAQE,KAAKD,EAAO;gBAChB,IAAIE;gBACE,CAAA,CAAAJ,KAAW,QAAA,CAAsCI,IAAMJ,EAAO,cAAA,MAAoB,QAAQI,MAAQ,KAAA,CAAA,KAAkBA,EAAI,IAAA,CAAKJ,GAAQG,MAAC,CACxIH,CAAAA,CAAOG,EAAC,GAAID,CAAAA,CAAOC,EAAC;YAE5B;YACA,KAAA,IAASE,KAAM,OAAO,qBAAA,CAAsBH,GAAQ;gBAChD,IAAII;gBACE,CAAA,CAAAN,KAAW,QAAA,CAAsCM,IAAON,EAAO,cAAA,MAAoB,QAAQM,MAAS,KAAA,CAAA,KAAkBA,EAAK,IAAA,CAAKN,GAAQK,MAAE,CAC5IL,CAAAA,CAAOK,EAAE,GAAIH,CAAAA,CAAOG,EAAE;YAE9B;QACJ;QACA,OAAOL;IACX;AAAA;ACxBA,IAAAO,KAAArC,EAAAC,CAAAA;IAAA;IAcA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,UAAU;QACrC,YAAY,CAAA;QACZ,KAAK,IAAIqC;IACb;IACA,SAASA,GAAOC,CAAAA;QACZ,IAAI,MAAM,OAAA,CAAQA,IAAO,OAAOA;QAChC,IAAIC,IAAeD,EAAK,KAAA,CAAM,KAAK,MAAA,GAAS,GACxCE,IAAiBF,EAAK,KAAA,CAAM,KAAK,MAAA,GAAS;QAC9C,IAAIC,MAAiBC,GACjB,MAAM,IAAI,MAAM,CAAA,0CAAA,EAA6CF,EAAI,CAAE;QAEvE,OAAOA,EAAK,KAAA,CAAM,0BAA0B,MAAA,CAAO;IACvD;AAAA;AC7BA,IAAAG,KAAA1C,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,mBAAmB;QAC9C,YAAY,CAAA;QACZ,KAAK,IAAI0C;IACb;IACA,IAAMtB,KAAqBuB,GAAwB,CAAA,MAAA,GAAA,GAAA;IACnD,SAASC,GAAyBC,CAAAA;QAC9B,IAAI,OAAO,WAAY,YAAY,OAAO;QAC1C,IAAIC,IAAoB,IAAI,SACxBC,IAAmB,IAAI;QAC3B,OAAA,CAAQH,KAA2B,SAASC,CAAAA;YACxC,OAAOA,IAAcE,IAAmBD;QAC5C,CAAA,EAAGD;IACP;IACA,SAASF,GAAwBrB,CAAAA,EAAKuB,CAAAA;QAClC,IAAI,CAACA,KAAevB,KAAOA,EAAI,UAAA,EAC3B,OAAOA;QAEX,IAAIA,MAAQ,QAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,YAC1D,OAAO;YACH,SAASA;QACb;QAEJ,IAAI0B,IAAQJ,GAAyBC;QACrC,IAAIG,KAASA,EAAM,GAAA,CAAI1B,IACnB,OAAO0B,EAAM,GAAA,CAAI1B;QAErB,IAAI2B,IAAS,CAAC,GACVC,IAAwB,OAAO,cAAA,IAAkB,OAAO,wBAAA;QAC5D,IAAA,IAAQjC,KAAOK,EACX,IAAIL,MAAQ,aAAa,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAKK,GAAKL,IAAM;YACrE,IAAIkC,IAAOD,IAAwB,OAAO,wBAAA,CAAyB5B,GAAKL,KAAO;YAC3EkC,KAAAA,CAASA,EAAK,GAAA,IAAOA,EAAK,GAAA,IAC1B,OAAO,cAAA,CAAeF,GAAQhC,GAAKkC,KAEnCF,CAAAA,CAAOhC,EAAG,GAAIK,CAAAA,CAAIL,EAE1B;QAAA;QAEJ,OAAAgC,EAAO,OAAA,GAAU3B,GACb0B,KACAA,EAAM,GAAA,CAAI1B,GAAK2B,IAEZA;IACX;IACA,SAASP,GAAgBU,CAAAA;QAgHrB,IAAA,CAjGe;YAUX,IARIA,EAAO,KAAA,IAIP,CAACA,EAAO,OAAA,IAIR,CAAC,MAAM,OAAA,CAAQA,EAAO,OAAO,KAAK,CAAA,CAAE,OAAOA,EAAO,OAAA,IAAY,YAAYA,EAAO,OAAA,KAAY,IAAA,GAC7F,OAAO,CAAA;YAGX,IAAI,MAAM,OAAA,CAAQA,EAAO,OAAO,GAC5B,OAAOA,EAAO,OAAA,CAAQ,KAAA,CAAOd,CAAAA,IAErB,OAAOA,KAAS,WAAiB,CAAA,IAGjC,CAAA,CAAA,OAAA,CAAQA,KAAS,OAA0B,KAAA,IAASA,EAAK,GAAA,KAAS,YAEjEA,KAAS,QAAmCA,EAAK,SAAA,IAAc,OAAA,CAAQA,KAAS,OAA0B,KAAA,IAASA,EAAK,SAAA,KAAe,QAAA;YAOpJ,IAAI,OAAOc,EAAO,OAAA,IAAY,YAAYA,EAAO,OAAA,KAAY,MAAM;gBAE/D,IAAI,OAAO,IAAA,CAAKA,EAAO,OAAO,EAAE,IAAA,CAAMnC,CAAAA,IAAM,CAAC;wBACrC;wBACA;wBACA;qBACJ,CAAE,QAAA,CAASA,KACX,OAAO,CAAA;gBAGX,IAAI,MAAM,OAAA,CAAQmC,EAAO,OAAA,CAAQ,KAAK,GAAG;oBACrC,IAAI,CAACA,EAAO,OAAA,CAAQ,KAAA,CAAM,KAAA,CAAOd,CAAAA,IAEzB,OAAOA,KAAS,WAAiB,CAAA,IAGjC,CAAA,CAAA,OAAA,CAAQA,KAAS,OAA0B,KAAA,IAASA,EAAK,GAAA,KAAS,YAEjEA,KAAS,QAAmCA,EAAK,SAAA,IAAc,OAAA,CAAQA,KAAS,OAA0B,KAAA,IAASA,EAAK,SAAA,KAAe,QAAA,IAK5I,OAAO,CAAA;oBAGX,IAAI,OAAOc,EAAO,OAAA,CAAQ,OAAA,IAAY,UAAA;wBAClC,KAAA,IAASlD,KAAS,OAAO,MAAA,CAAOkD,EAAO,OAAA,CAAQ,OAAO,EAClD,IAAI,OAAOlD,KAAU,YACjB,OAAO,CAAA;oBAAA,OAAA,IAGR,CAAA,CAAEkD,EAAO,OAAA,CAAQ,OAAA,KAAY,KAAA,KAAa,OAAOA,EAAO,OAAA,CAAQ,OAAA,IAAY,UAAA,GACnF,OAAO,CAAA;oBAGX,IAAI,OAAOA,EAAO,OAAA,CAAQ,SAAA,IAAc,UAAA;wBACpC,KAAA,IAASC,KAAU,OAAO,MAAA,CAAOD,EAAO,OAAA,CAAQ,SAAS,EACrD,IAAI,OAAOC,KAAW,YAClB,OAAO,CAAA;oBAAA,OAAA,IAGR,CAAA,CAAED,EAAO,OAAA,CAAQ,SAAA,KAAc,KAAA,KAAa,OAAOA,EAAO,OAAA,CAAQ,SAAA,IAAc,UAAA,GACvF,OAAO,CAAA;gBAEf;gBACA,OAAO,CAAA;YACX;YACA,OAAO,CAAA;QACX,CAAA,OAEIhC,GAAK,OAAA,CAAQ,IAAA,CAAK,qBAAqB;YACnC;YACA;YACA;SACH,GAGLgC,EAAO,QAAA,GAAA,CAAY;YACf,IAAInB;YACJ,IAAI,EAAE,SAAAqB,CAAAA,EAAU,OAAAC,CAAAA,EAAQ,UAAAC,CAAU,EAAA,GAAIJ;YACtC,OAAI,MAAM,OAAA,CAAQI,KAAkBA,IAChC,MAAM,OAAA,CAAQF,KAAY,OAA6B,KAAA,IAASA,EAAQ,QAAQ,IAAUA,EAAQ,QAAA,GAClG,MAAM,OAAA,CAAQC,KAAU,OAA2B,KAAA,IAASA,EAAM,QAAQ,IAAUA,EAAM,QAAA,GAC1F,MAAM,OAAA,CAAQA,KAAU,QAAA,CAAqCtB,IAAMsB,EAAM,OAAA,MAAa,QAAQtB,MAAQ,KAAA,IAAnD,KAAA,IAAqEA,EAAI,QAAQ,IAAUsB,EAAM,OAAA,CAAQ,QAAA,GACzJ,EACX;QAAA,CAAA,KAEI,OAAOH,EAAO,MAAA,IAAW,YACzBhC,GAAK,OAAA,CAAQ,IAAA,CAAK,mBAAmB;YACjC;YACA;YACA;SACH,GACDgC,EAAO,MAAA,GAAS;aACb;YACH,IAAIK;YACJL,EAAO,MAAA,GAAA,CAAUK,IAAUL,EAAO,MAAA,MAAY,QAAQK,MAAY,KAAA,IAASA,IAAU;QACzF;QAEAL,EAAO,OAAA,GAAU;YACb,OAAA,CAAQ;gBACJ,IAAI,EAAE,SAAAE,CAAAA,EAAU,OAAAC,CAAO,EAAA,GAAIH;gBAC3B,OAAI,MAAM,OAAA,CAAQG,KAAeA,IAC7B,MAAM,OAAA,CAAQA,KAAU,OAA2B,KAAA,IAASA,EAAM,OAAO,IAAUA,EAAM,OAAA,GACzF,MAAM,OAAA,CAAQD,KAAiBA,IAC/B,MAAM,OAAA,CAAQA,KAAY,OAA6B,KAAA,IAASA,EAAQ,OAAO,IAAUA,EAAQ,OAAA,GACjG,MAAM,OAAA,CAAQA,KAAY,OAA6B,KAAA,IAASA,EAAQ,KAAK,IAAUA,EAAQ,KAAA,GAC5F,EACX;YAAA,CAAA;YACA,SAAA,CAAU;gBACN,IAAII,IAAAA,CAAW;oBACX,IAAIzB,GAAKE,GAAMwB,GAAMC,GAAMC,GAAMC,GAAMC,GAAMC,GAAMC,GAAMC;oBACzD,OAAK,CAAA,CAAA,CAAAjC,IAAMmB,EAAO,KAAA,MAAW,QAAQnB,MAAQ,KAAA,CAAA,KAAkBA,EAAI,OAAA,GAAgBmB,EAAO,KAAA,CAAM,OAAA,GAC3F,CAAA,CAAA,CAAAjB,IAAOiB,EAAO,OAAA,MAAa,QAAQjB,MAAS,KAAA,CAAA,KAAkBA,EAAK,OAAA,GAAgBiB,EAAO,OAAA,CAAQ,OAAA,GAClG,CAAA,CAAA,CAAAO,IAAOP,EAAO,KAAA,MAAW,QAAQO,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,OAAA,MAAa,QAAQC,MAAS,KAAA,CAAA,KAAkBA,EAAK,OAAA,GAAgBR,EAAO,KAAA,CAAM,OAAA,CAAQ,OAAA,GACnK,CAAA,CAAA,CAAAS,IAAOT,EAAO,OAAA,MAAa,QAAQS,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,OAAA,MAAa,QAAQC,MAAS,KAAA,CAAA,KAAkBA,EAAK,OAAA,GAAgBV,EAAO,OAAA,CAAQ,OAAA,CAAQ,OAAA,GACvK,CAAA,CAAA,CAAAW,IAAOX,EAAO,KAAA,MAAW,QAAQW,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,OAAA,MAAa,QAAQC,MAAS,KAAA,CAAA,KAAkBA,EAAK,UAAA,GAAmBZ,EAAO,KAAA,CAAM,OAAA,CAAQ,UAAA,GACtK,CAAA,CAAA,CAAAa,IAAOb,EAAO,OAAA,MAAa,QAAQa,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,OAAA,MAAa,QAAQC,MAAS,KAAA,CAAA,KAAkBA,EAAK,UAAA,GAAmBd,EAAO,OAAA,CAAQ,OAAA,CAAQ,UAAA,GACxK,CAAC;gBACZ,CAAA,KACIe,IAAa,CAAC,GACdC,IAAAA,CAAoB;oBACpB,IAAInC,GAAKE,GAAMwB,GAAMC;oBACrB,IAAK,CAAA,CAAA,CAAA3B,IAAMmB,EAAO,KAAA,MAAW,QAAQnB,MAAQ,KAAA,KAAA,CAAmBE,IAAOF,EAAI,OAAA,MAAa,QAAQE,MAAS,KAAA,CAAA,KAAkBA,EAAK,gBAAA,EAC5H,OAAOiB,EAAO,KAAA,CAAM,OAAA,CAAQ,gBAAA;oBAEhC,IAAK,CAAA,CAAA,CAAAO,IAAOP,EAAO,OAAA,MAAa,QAAQO,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,OAAA,MAAa,QAAQC,MAAS,KAAA,CAAA,KAAkBA,EAAK,gBAAA,EACjI,OAAOR,EAAO,OAAA,CAAQ,OAAA,CAAQ,gBAGtC;gBAAA,CAAA;gBAKA,IAJIgB,MAAqB,KAAA,KAAA,CACrBD,EAAW,OAAA,GAAUC,CAAAA,GAGrB,OAAOV,KAAY,YACnBS,EAAW,OAAA,GAAUT;qBAAAA,IACd,MAAM,OAAA,CAAQA,IACrB,KAAA,IAAS,EAAE,YAAAW,CAAAA,EAAa,WAAAC,CAAW,EAAA,IAAKZ,KAAmD,EAAC,CACxF,KAAA,IAASa,KAAaF,EAClBF,CAAAA,CAAWI,EAAS,GAAID;qBAGzB,OAAOZ,KAAY,YAAYA,MAAY,QAClD,OAAO,MAAA,CAAOS,GAAYT;gBAE9B,OAAOS;YACX,CAAA;YACA,WAAA,CAAY;gBACR,IAAIK,IAAAA,CAAa;oBACb,IAAIvC,GAAKE,GAAMwB,GAAMC,GAAMC,GAAMC;oBACjC,OAAK,CAAA,CAAA,CAAA7B,IAAMmB,EAAO,KAAA,MAAW,QAAQnB,MAAQ,KAAA,CAAA,KAAkBA,EAAI,SAAA,GAAkBmB,EAAO,KAAA,CAAM,SAAA,GAC7F,CAAA,CAAA,CAAAjB,IAAOiB,EAAO,OAAA,MAAa,QAAQjB,MAAS,KAAA,CAAA,KAAkBA,EAAK,SAAA,GAAkBiB,EAAO,OAAA,CAAQ,SAAA,GACpG,CAAA,CAAA,CAAAO,IAAOP,EAAO,KAAA,MAAW,QAAQO,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,SAAA,MAAe,QAAQC,MAAS,KAAA,CAAA,KAAkBA,EAAK,OAAA,GAAgBR,EAAO,KAAA,CAAM,SAAA,CAAU,OAAA,GACvK,CAAA,CAAA,CAAAS,IAAOT,EAAO,OAAA,MAAa,QAAQS,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,SAAA,MAAe,QAAQC,MAAS,KAAA,CAAA,KAAkBA,EAAK,OAAA,GAAgBV,EAAO,OAAA,CAAQ,SAAA,CAAU,OAAA,GACzK,CAAC;gBACZ,CAAA,KACIqB,IAAe,CAAC;gBACpB,OAAI,OAAOD,KAAc,cAAA,CACrBC,EAAa,OAAA,GAAUD,CAAAA,GAEvB,OAAOA,KAAc,YAAYA,MAAc,QAC/C,OAAO,MAAA,CAAOC,GAAcD,IAEzBC;YACX,CAAA;QACJ;QAGA,KAAA,IAASC,KAAQtB,EAAO,OAAA,CAAQ,KAAA,CAC5B,IAAI,OAAOsB,KAAS,YAAY,cAAc,IAAA,CAAKA,IAAO;YACtDtD,GAAK,OAAA,CAAQ,IAAA,CAAK,uBAAuB;gBACrC,CAAA,iBAAA,EAAA,CAAA,GAAwBA,GAAK,GAAA,EAAKsD,GAAK,+CAAA,CAAA;gBACvC,CAAA,aAAA,EAAA,CAAA,GAAoBtD,GAAK,GAAA,EAAKsD,EAAK,OAAA,CAAQ,eAAe,OAAM,yBAAA,CACpE;aAAC;YACD;QACJ;QAEJ,OAAOtB;IACX;AAAA;AC5PA,IAAAuB,KAAA5E,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAI4E;IACb;IACA,SAASA,GAAc1E,CAAAA;QACnB,IAAI,OAAO,SAAA,CAAU,QAAA,CAAS,IAAA,CAAKA,OAAW,mBAC1C,OAAO,CAAA;QAEX,IAAM2E,IAAY,OAAO,cAAA,CAAe3E;QACxC,OAAO2E,MAAc,QAAQA,MAAc,OAAO,SACtD;IAAA;AAAA;ACdA,IAAAC,KAAA/E,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,aAAa;QACxC,YAAY,CAAA;QACZ,KAAK,IAAI+E;IACb;IACA,SAASA,GAAU7E,CAAAA;QACf,OAAI,MAAM,OAAA,CAAQA,KACPA,EAAM,GAAA,CAAK8E,CAAAA,IAAQD,GAAUC,MAEpC,OAAO9E,KAAU,YAAYA,MAAU,OAChC,OAAO,WAAA,CAAY,OAAO,OAAA,CAAQA,GAAO,GAAA,CAAI,CAAC,CAAC8B,GAAGiD,EAAC,GAAI;gBACtDjD;gBACA+C,GAAUE;aACb,KAEF/E;IACX;AAAA;ACnBA,IAAAgF,KAAAnF,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAamF;IAUrB,SAASC,GAAUC,CAAAA;QAKjB,IAAA,IAJIC,IAAQD,EAAI,WAAA,IACZE,IAAM,IACNC,IAAkB,CAAA,GAEb,IAAI,GAAG,IAAI,KAAKF,CAAAA,CAAM,EAAC,KAAM,KAAA,GAAW,IAAK;YACpD,IAAIG,IAAOH,EAAM,UAAA,CAAW,IAExBI,IAAQD,KAAQ,MAAMA,KAAQ,OAAOA,KAAQ,MAAMA,KAAQ;YAI/D,IAFAD,IAAkBC,MAAS,IAEvB,CAACC,GACH;YAGFH,KAAOD,CAAAA,CAAM,EACf;QAAA;QAEA,IAAIC,EAAI,MAAA,KAAW,GAInB;YAAA,IAAII,IAAY,SAASJ,GAAK,KAC1BK,IAAcD,KAAa,SAAUA,KAAa;YAItD,OAAIC,KAAeD,MAAc,KAAUA,IAAY,UAC9C;gBAAC;gBAAUJ,EAAI,MAAA,GAAA,CAAUC,IAAkB,IAAI,CAAA;aAAE,GAGnD;gBAAC,OAAO,aAAA,CAAcG;gBAAYJ,EAAI,MAAA,GAAA,CAAUC,IAAkB,IAAI,CAAA;aAAE;QAAA;IACjF;IAEA,IAAIK,KAAkB;IAEtB,SAASV,GAAME,CAAAA;QACb,IAAIS,IAAgBD,GAAgB,IAAA,CAAKR;QAEzC,IAAI,CAACS,GACH,OAAOT;QAKT,IAAA,IAFIU,IAAM,IAEDC,IAAI,GAAGA,IAAIX,EAAI,MAAA,EAAQW,IAAK;YACnC,IAAIX,CAAAA,CAAIW,EAAC,KAAM,MAAM;gBACnB,IAAIC,IAAUb,GAAUC,EAAI,KAAA,CAAMW,IAAI,GAAGA,IAAI;gBAE7C,IAAIC,MAAY,KAAA,GAAW;oBACzBF,KAAOE,CAAAA,CAAQ,EAAC,EAChBD,KAAKC,CAAAA,CAAQ,EAAC;oBACd;gBACF;gBAIA,IAAIZ,CAAAA,CAAIW,IAAI,EAAC,KAAM,MAAM;oBACvBD,KAAO,MACPC;oBACA;gBACF;gBAIIX,EAAI,MAAA,KAAWW,IAAI,KAAA,CACrBD,KAAOV,CAAAA,CAAIW,EAAC;gBAGd;YACF;YAEAD,KAAOV,CAAAA,CAAIW,EACb;QAAA;QAEA,OAAOD;IACT;IAEArF,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC5FzB,IAAAkG,KAAAnG,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAamG;IAErB,SAASA,GAAQ7E,CAAAA;QACf,IAAA,IAAS8E,IAAO,UAAU,MAAA,EAAQC,IAAQ,IAAI,MAAMD,IAAO,IAAIA,IAAO,IAAI,IAAIE,IAAO,GAAGA,IAAOF,GAAME,IACnGD,CAAAA,CAAMC,IAAO,EAAC,GAAI,SAAA,CAAUA,EAAI;QAGlC,MAAOD,EAAM,MAAA,GAAS,GAAG;YACvB,IAAIE,IAAOF,EAAM,KAAA;YAEjB,IAAI,CAAC/E,CAAAA,CAAIiF,EAAI,EACX;YAGFjF,IAAMA,CAAAA,CAAIiF,EACZ;QAAA;QAEA,OAAOjF;IACT;IAEAZ,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACvBzB,IAAAwG,KAAAzG,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAayG;IAErB,SAASA,GAAanF,CAAAA;QACpB,IAAA,IAAS8E,IAAO,UAAU,MAAA,EAAQC,IAAQ,IAAI,MAAMD,IAAO,IAAIA,IAAO,IAAI,IAAIE,IAAO,GAAGA,IAAOF,GAAME,IACnGD,CAAAA,CAAMC,IAAO,EAAC,GAAI,SAAA,CAAUA,EAAI;QAGlC,MAAOD,EAAM,MAAA,GAAS,GAAG;YACvB,IAAIE,IAAOF,EAAM,KAAA;YAEZ/E,CAAAA,CAAIiF,EAAI,IAAA,CACXjF,CAAAA,CAAIiF,EAAI,GAAI,CAAC,CAAA,GAGfjF,IAAMA,CAAAA,CAAIiF,EACZ;QAAA;IACF;IAEA7F,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACrBzB,IAAA0G,KAAA3G,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa2G;IAErB,SAASA,GAActB,CAAAA;QAKrB,IAAA,IAJIuB,IAAI,IACJC,IAAexB,EAAI,OAAA,CAAQ,OAC3ByB,IAAU,GAEPD,KAAgB,GAAG;YACxBD,IAAIA,IAAIvB,EAAI,KAAA,CAAMyB,GAASD;YAC3B,IAAIE,IAAa1B,EAAI,OAAA,CAAQ,MAAMwB,IAAe;YAElD,IAAIE,IAAa,GACf,OAAOH;YAGTE,IAAUC,IAAa,GACvBF,IAAexB,EAAI,OAAA,CAAQ,MAAMyB;QACnC;QAEA,OAAAF,IAAIA,IAAIvB,EAAI,KAAA,CAAMyB,IACXF;IACT;IAEAlG,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC1BzB,IAAAgH,KAAAjH,EAAAC,CAAAA;IAAA;IAEAA,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,aAAA,GAAgBA,GAAQ,YAAA,GAAeA,GAAQ,OAAA,GAAUA,GAAQ,KAAA,GAAQ,KAAA;IAEjF,IAAIiH,KAAS5F,GAAuB;IAEpCrB,GAAQ,KAAA,GAAQiH,GAAO,OAAA;IAEvB,IAAIC,KAAW7F,GAAuB;IAEtCrB,GAAQ,OAAA,GAAUkH,GAAS,OAAA;IAE3B,IAAIC,KAAgB9F,GAAuB;IAE3CrB,GAAQ,YAAA,GAAemH,GAAc,OAAA;IAErC,IAAIC,KAAiB/F,GAAuB;IAE5CrB,GAAQ,aAAA,GAAgBoH,GAAe,OAAA;IAEvC,SAAS/F,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;AAAA;ACrBhG,IAAA+F,KAAAtH,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAIsH,KAAQ;IAEZ,SAASC,GAAkB1F,CAAAA,EAAQwE,CAAAA;QAAS,IAAA,IAASL,IAAI,GAAGA,IAAIK,EAAM,MAAA,EAAQL,IAAK;YAAE,IAAIwB,IAAanB,CAAAA,CAAML,EAAC;YAAGwB,EAAW,UAAA,GAAaA,EAAW,UAAA,IAAc,CAAA,GAAOA,EAAW,YAAA,GAAe,CAAA,GAAU,WAAWA,KAAAA,CAAYA,EAAW,QAAA,GAAW,CAAA,CAAA,GAAM,OAAO,cAAA,CAAe3F,GAAQ2F,EAAW,GAAA,EAAKA;QAAa;IAAE;IAE5T,SAASC,GAAaC,CAAAA,EAAaC,CAAAA,EAAYC,CAAAA;QAAe,OAAID,KAAYJ,GAAkBG,EAAY,SAAA,EAAWC,IAAiBC,KAAaL,GAAkBG,GAAaE,IAAqBF;IAAa;IAEtN,IAAIG,KAAY,SAASA,EAAUvG,CAAAA,EAAKwG,CAAAA;QACtC,IAAI,OAAOxG,KAAQ,YAAYA,MAAQ,MACrC,OAAOA;QAGT,IAAIyG,IAAS,IAAIzG,EAAI,WAAA;QAErB,IAAA,IAAS,KAAKA,EACZ,IAAKA,EAAI,cAAA,CAAe,IAIxB;YAAA,IAAIpB,IAAQoB,CAAAA,CAAI,EAAC,EACb0G,IAAO,OAAO9H;YAEd,MAAM,YAAY8H,MAAS,WACzBF,KAAAA,CACFC,CAAAA,CAAO,EAAC,GAAID,CAAAA,IAEL5H,aAAiB,QAC1B6H,CAAAA,CAAO,EAAC,GAAI7H,EAAM,GAAA,CAAI,SAAU+H,CAAAA;gBAC9B,OAAOJ,EAAUI,GAAGF;YACtB,KAEAA,CAAAA,CAAO,EAAC,GAAIF,EAAU3H,GAAO6H;QAAM;QAIvC,OAAOA;IACT,GAEIG,KAAoB;QACtB,SAASA,EAAKC,CAAAA;YACRA,MAAS,KAAA,KAAA,CACXA,IAAO,CAAC,CAAA,GAGV,OAAO,MAAA,CAAO,IAAA,EAAMA,IACpB,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,MAAA,IAAU,CAAC,GAC9B,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS,IAAA,CAAK,MAAA,CAAO,MAAA,IAAU,IAC3C,IAAA,CAAK,MAAA,CAAO,KAAA,GAAQ,IAAA,CAAK,MAAA,CAAO,KAAA,IAAS;QAC3C;QAEA,IAAIC,IAASF,EAAK,SAAA;QAElB,OAAAE,EAAO,MAAA,GAAS;YACd,OAAI,IAAA,CAAK,MAAA,IACP,IAAA,CAAK,MAAA,CAAO,WAAA,CAAY,IAAI,GAG9B,IAAA,CAAK,MAAA,GAAS,KAAA,GACP,IACT;QAAA,GAEAA,EAAO,WAAA,GAAc;YACnB,IAAI,IAAA,CAAK,MAAA,EAAQ;gBACf,IAAA,IAASC,KAAS,UAChB,IAAA,CAAK,MAAA,CAAO,YAAA,CAAa,IAAA,EAAM,SAAA,CAAUA,EAAM;gBAGjD,IAAA,CAAK,MAAA;YACP;YAEA,OAAO,IACT;QAAA,GAEAD,EAAO,IAAA,GAAO;YACZ,OAAO,IAAA,CAAK,MAAA,CAAO,EAAA,CAAG,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,IAAI,IAAI;QAClD,GAEAA,EAAO,IAAA,GAAO;YACZ,OAAO,IAAA,CAAK,MAAA,CAAO,EAAA,CAAG,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,IAAI,IAAI;QAClD,GAEAA,EAAO,KAAA,GAAQ,SAAeE,CAAAA;YACxBA,MAAc,KAAA,KAAA,CAChBA,IAAY,CAAC,CAAA;YAGf,IAAIP,IAASF,GAAU,IAAI;YAE3B,IAAA,IAASU,KAAQD,EACfP,CAAAA,CAAOQ,EAAI,GAAID,CAAAA,CAAUC,EAAI;YAG/B,OAAOR;QACT,GAYAK,EAAO,yBAAA,GAA4B,SAAmCG,CAAAA,EAAMrI,CAAAA,EAAOsI,CAAAA;YAC5E,IAAA,CAAK,IAAA,IAAA,CACR,IAAA,CAAK,IAAA,GAAO,CAAC,CAAA;YAGf,IAAIC,IAAgB,IAAA,CAAKF,EAAI,EACzBG,IAAkB,IAAA,CAAK,IAAA,CAAKH,EAAI;YACpC,IAAA,CAAKA,EAAI,GAAIE,IAAgBvI,GAEzBwI,KAAmBF,MAAiBtI,IACtC,IAAA,CAAK,IAAA,CAAKqI,EAAI,GAAA,CAAKG,KAAmBD,CAAAA,IAAiBD,IAEvD,OAAO,IAAA,CAAK,IAAA,CAAKD,EAErB;QAAA,GAWAH,EAAO,oBAAA,GAAuB,SAA8BG,CAAAA,EAAMrI,CAAAA,EAAOsI,CAAAA;YAClE,IAAA,CAAK,IAAA,IAAA,CACR,IAAA,CAAK,IAAA,GAAO,CAAC,CAAA,GAGf,IAAA,CAAKD,EAAI,GAAIrI,GAEb,IAAA,CAAK,IAAA,CAAKqI,EAAI,GAAIC;QACpB,GAUAJ,EAAO,wBAAA,GAA2B,SAAkCG,CAAAA,EAAMrI,CAAAA;YACxE,IAAA,CAAKqI,EAAI,GAAIrI,GAET,IAAA,CAAK,IAAA,IACP,OAAO,IAAA,CAAK,IAAA,CAAKqI,EAErB;QAAA,GAQAH,EAAO,YAAA,GAAe,SAAsBO,CAAAA,EAAMC,CAAAA;YAChD,IAAI,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,MAAA,CAAO,KAAA,IAAS,IAAA,CAAK,MAAA,CAAO,GAAA,EAalD,OAZI,CAAA,CAAA,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,IAAA,GAAOD,KAIzB,IAAA,CAAK,MAAA,CAAO,GAAA,CAAI,IAAA,GAAOA,KAIvB,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,IAAA,KAASA,KAAQ,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,MAAA,GAASC,KAI9D,IAAA,CAAK,MAAA,CAAO,GAAA,CAAI,IAAA,KAASD,KAAQ,IAAA,CAAK,MAAA,CAAO,GAAA,CAAI,MAAA,GAASC,CAAAA;QAQlE,GAEAR,EAAO,iBAAA,GAAoB,SAA2BG,CAAAA;YACpD,OAAO,IAAA,CAAK,IAAA,IAAQ,IAAA,CAAK,IAAA,CAAKA,EAAI,IAAK,IAAA,CAAKA,EAC9C;QAAA,GAEAH,EAAO,aAAA,GAAgB;YACrB,OAAO,OAAO,IAAA,CAAK,iBAAA,CAAkB;QACvC,GAEAA,EAAO,QAAA,GAAW;YAChB,OAAO;gBAAC,IAAA,CAAK,cAAA;gBAAgB,IAAA,CAAK,aAAA;gBAAiB,IAAA,CAAK,aAAa;aAAA,CAAE,IAAA,CAAK;QAC9E,GAEAX,GAAaS,GAAM;YAAC;gBAClB,KAAK;gBACL,KAAK;oBACH,IAAIW,IAAW,IAAA,CAAK,IAAA,IAAQ,IAAA,CAAK,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,MAAA;oBAEjE,OAAIA,MAAa,KAAA,KAAA,CACfA,IAAW,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,MAAA,CAAO,MAAA,GAGjCA,KAAY;gBACrB;gBACA,KAAK,SAAaC,CAAAA;oBAAK,CAAA,GACjBxB,GAAM,YAAA,EAAc,IAAA,EAAM,QAAQ,WACtC,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,MAAA,GAASwB;gBAC5B;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,IAAID,IAAW,IAAA,CAAK,IAAA,IAAQ,IAAA,CAAK,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,KAAA;oBAEjE,OAAIA,MAAa,KAAA,KAAA,CACfA,IAAW,IAAA,CAAK,MAAA,CAAO,KAAA,GAGlBA,KAAY;gBACrB;gBACA,KAAK,SAAaC,CAAAA;oBAAK,CAAA,GACjBxB,GAAM,YAAA,EAAc,IAAA,EAAM,QAAQ,WACtC,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,KAAA,GAAQwB;gBAC3B;YACF;SAAE,GAEKZ;IACT;IAEAlI,GAAQ,OAAA,GAAakI;IACrBxH,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC9OzB,IAAA+I,KAAAhJ,EAAAC,CAAAA;IAAA;IAEAA,EAAQ,UAAA,GAAa,CAAA;IACrBA,EAAQ,SAAA,GAAYA,EAAQ,SAAA,GAAYA,EAAQ,KAAA,GAAQA,EAAQ,UAAA,GAAaA,EAAQ,OAAA,GAAUA,EAAQ,EAAA,GAAKA,EAAQ,OAAA,GAAUA,EAAQ,MAAA,GAASA,EAAQ,IAAA,GAAOA,EAAQ,QAAA,GAAWA,EAAQ,MAAA,GAASA,EAAQ,GAAA,GAAM,KAAA;IAChN,IAAIgJ,KAAM;IACVhJ,EAAQ,GAAA,GAAMgJ;IACd,IAAIC,KAAS;IACbjJ,EAAQ,MAAA,GAASiJ;IACjB,IAAIC,KAAW;IACflJ,EAAQ,QAAA,GAAWkJ;IACnB,IAAIC,KAAO;IACXnJ,EAAQ,IAAA,GAAOmJ;IACf,IAAIC,KAAS;IACbpJ,EAAQ,MAAA,GAASoJ;IACjB,IAAIC,KAAU;IACdrJ,EAAQ,OAAA,GAAUqJ;IAClB,IAAIC,KAAK;IACTtJ,EAAQ,EAAA,GAAKsJ;IACb,IAAIC,KAAU;IACdvJ,EAAQ,OAAA,GAAUuJ;IAClB,IAAIC,KAAa;IACjBxJ,EAAQ,UAAA,GAAawJ;IACrB,IAAIC,KAAQ;IACZzJ,EAAQ,KAAA,GAAQyJ;IAChB,IAAIC,KAAY;IAChB1J,EAAQ,SAAA,GAAY0J;IACpB,IAAIC,KAAY;IAChB3J,EAAQ,SAAA,GAAY2J;AAAAA;AC3BpB,IAAAC,KAAA7J,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI6J,KAAQxI,GAAuB,OAE/ByI,KAAQnH,GAAwB;IAEpC,SAASC;QAA6B,IAAI,OAAO,WAAY,YAAY,OAAO;QAAM,IAAII,IAAQ,IAAI;QAAW,OAAAJ,KAA2B;YAAsC,OAAOI;QAAO,GAAUA;IAAO;IAEjN,SAASL,GAAwBrB,CAAAA;QAAO,IAAIA,KAAOA,EAAI,UAAA,EAAc,OAAOA;QAAO,IAAIA,MAAQ,QAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,YAAc,OAAO;YAAE,SAAWA;QAAI;QAAK,IAAI0B,IAAQJ;QAA4B,IAAII,KAASA,EAAM,GAAA,CAAI1B,IAAQ,OAAO0B,EAAM,GAAA,CAAI1B;QAAQ,IAAI2B,IAAS,CAAC,GAAOC,IAAwB,OAAO,cAAA,IAAkB,OAAO,wBAAA;QAA0B,IAAA,IAASjC,KAAOK,EAAO,IAAI,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAKA,GAAKL,IAAM;YAAE,IAAIkC,IAAOD,IAAwB,OAAO,wBAAA,CAAyB5B,GAAKL,KAAO;YAAUkC,KAAAA,CAASA,EAAK,GAAA,IAAOA,EAAK,GAAA,IAAQ,OAAO,cAAA,CAAeF,GAAQhC,GAAKkC,KAAgBF,CAAAA,CAAOhC,EAAG,GAAIK,CAAAA,CAAIL,EAAQ;QAAA;QAAI,OAAAgC,EAAO,OAAA,GAAa3B,GAAS0B,KAASA,EAAM,GAAA,CAAI1B,GAAK2B,IAAkBA;IAAQ;IAE3uB,SAAS5B,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASyI,GAAgCC,CAAAA,EAAGC,CAAAA;QAAkB,IAAIC;QAAI,IAAI,OAAO,SAAW,OAAeF,CAAAA,CAAE,OAAO,QAAQ,CAAA,IAAK,MAAM;YAAE,IAAI,MAAM,OAAA,CAAQA,MAAC,CAAME,IAAKC,GAA4BH,EAAC,KAAMC,KAAkBD,KAAK,OAAOA,EAAE,MAAA,IAAW,UAAU;gBAAME,KAAAA,CAAIF,IAAIE,CAAAA;gBAAI,IAAIlE,IAAI;gBAAG,OAAO;oBAAc,OAAIA,KAAKgE,EAAE,MAAA,GAAe;wBAAE,MAAM,CAAA;oBAAK,IAAU;wBAAE,MAAM,CAAA;wBAAO,OAAOA,CAAAA,CAAEhE,IAAK;oBAAA;gBAAG;YAAG;YAAE,MAAM,IAAI,UAAU,CAAA;kFAAA,CAAuI;QAAG;QAAE,OAAAkE,IAAKF,CAAAA,CAAE,OAAO,QAAQ,CAAA,IAAYE,EAAG,IAAA,CAAK,IAAA,CAAKA;IAAK;IAE3lB,SAASC,GAA4BH,CAAAA,EAAGI,CAAAA;QAAU,IAAKJ,GAAW;YAAA,IAAI,OAAOA,KAAM,UAAU,OAAOK,GAAkBL,GAAGI;YAAS,IAAI,IAAI,OAAO,SAAA,CAAU,QAAA,CAAS,IAAA,CAAKJ,GAAG,KAAA,CAAM,GAAG,CAAA;YAAkE,IAAzD,MAAM,YAAYA,EAAE,WAAA,IAAA,CAAa,IAAIA,EAAE,WAAA,CAAY,IAAA,GAAU,MAAM,SAAS,MAAM,OAAO,OAAO,MAAM,IAAA,CAAKA;YAAI,IAAI,MAAM,eAAe,2CAA2C,IAAA,CAAK,IAAI,OAAOK,GAAkBL,GAAGI;QAAM;IAAG;IAE/Z,SAASC,GAAkBC,CAAAA,EAAKC,CAAAA;QAAK,CAAMA,KAAO,QAAQA,IAAMD,EAAI,MAAA,KAAA,CAAQC,IAAMD,EAAI,MAAA;QAAQ,IAAA,IAAStE,IAAI,GAAGwE,IAAO,IAAI,MAAMD,IAAMvE,IAAIuE,GAAKvE,IAAOwE,CAAAA,CAAKxE,EAAC,GAAIsE,CAAAA,CAAItE,EAAC;QAAK,OAAOwE;IAAM;IAEtL,SAASjD,GAAkB1F,CAAAA,EAAQwE,CAAAA;QAAS,IAAA,IAASL,IAAI,GAAGA,IAAIK,EAAM,MAAA,EAAQL,IAAK;YAAE,IAAIwB,IAAanB,CAAAA,CAAML,EAAC;YAAGwB,EAAW,UAAA,GAAaA,EAAW,UAAA,IAAc,CAAA,GAAOA,EAAW,YAAA,GAAe,CAAA,GAAU,WAAWA,KAAAA,CAAYA,EAAW,QAAA,GAAW,CAAA,CAAA,GAAM,OAAO,cAAA,CAAe3F,GAAQ2F,EAAW,GAAA,EAAKA;QAAa;IAAE;IAE5T,SAASC,GAAaC,CAAAA,EAAaC,CAAAA,EAAYC,CAAAA;QAAe,OAAID,KAAYJ,GAAkBG,EAAY,SAAA,EAAWC,IAAiBC,KAAaL,GAAkBG,GAAaE,IAAqBF;IAAa;IAEtN,SAAS+C,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIC,KAAyB,SAAUC,CAAAA;QACrCN,GAAeK,GAAWC;QAE1B,SAASD,EAAU3C,CAAAA;YACjB,IAAI6C;YAEJ,OAAAA,IAAQD,EAAM,IAAA,CAAK,IAAA,EAAM5C,MAAS,IAAA,EAE7B6C,EAAM,KAAA,IAAA,CACTA,EAAM,KAAA,GAAQ,EAAC,GAGVA;QACT;QAEA,IAAI5C,IAAS0C,EAAU,SAAA;QAEvB,OAAA1C,EAAO,MAAA,GAAS,SAAgB6C,CAAAA;YAC9B,OAAAA,EAAS,MAAA,GAAS,IAAA,EAClB,IAAA,CAAK,KAAA,CAAM,IAAA,CAAKA,IACT,IACT;QAAA,GAEA7C,EAAO,OAAA,GAAU,SAAiB6C,CAAAA;YAChC,OAAAA,EAAS,MAAA,GAAS,IAAA,EAClB,IAAA,CAAK,KAAA,CAAM,OAAA,CAAQA,IACZ,IACT;QAAA,GAEA7C,EAAO,EAAA,GAAK,SAAYC,CAAAA;YACtB,OAAO,IAAA,CAAK,KAAA,CAAMA,EACpB;QAAA,GAEAD,EAAO,KAAA,GAAQ,SAAepD,CAAAA;YAC5B,OAAI,OAAOA,KAAU,WACZA,IAGF,IAAA,CAAK,KAAA,CAAM,OAAA,CAAQA;QAC5B,GAEAoD,EAAO,WAAA,GAAc,SAAqBpD,CAAAA;YACxCA,IAAQ,IAAA,CAAK,KAAA,CAAMA,IACnB,IAAA,CAAK,EAAA,CAAGA,GAAO,MAAA,GAAS,KAAA,GACxB,IAAA,CAAK,KAAA,CAAM,MAAA,CAAOA,GAAO;YACzB,IAAIqD;YAEJ,IAAA,IAAS6C,KAAM,IAAA,CAAK,OAAA,CAClB7C,IAAQ,IAAA,CAAK,OAAA,CAAQ6C,EAAE,EAEnB7C,KAASrD,KAAAA,CACX,IAAA,CAAK,OAAA,CAAQkG,EAAE,GAAI7C,IAAQ,CAAA;YAI/B,OAAO,IACT;QAAA,GAEAD,EAAO,SAAA,GAAY;YACjB,IAAA,IAAS+C,IAAYpB,GAAgC,IAAA,CAAK,KAAK,GAAGqB,GAAO,CAAA,CAAEA,IAAQD,GAAU,EAAG,IAAA,EAAO;gBACrG,IAAIE,IAAOD,EAAM,KAAA;gBACjBC,EAAK,MAAA,GAAS,KAAA;YAChB;YAEA,OAAA,IAAA,CAAK,KAAA,GAAQ,EAAC,EACP,IACT;QAAA,GAEAjD,EAAO,KAAA,GAAQ;YACb,OAAO,IAAA,CAAK,SAAA;QACd,GAEAA,EAAO,WAAA,GAAc,SAAqBkD,CAAAA,EAASC,CAAAA;YACjDA,EAAQ,MAAA,GAAS,IAAA;YACjB,IAAIC,IAAW,IAAA,CAAK,KAAA,CAAMF;YAC1B,IAAA,CAAK,KAAA,CAAM,MAAA,CAAOE,IAAW,GAAG,GAAGD,IACnCA,EAAQ,MAAA,GAAS,IAAA;YACjB,IAAIlD;YAEJ,IAAA,IAAS6C,KAAM,IAAA,CAAK,OAAA,CAClB7C,IAAQ,IAAA,CAAK,OAAA,CAAQ6C,EAAE,EAEnBM,KAAYnD,KAAAA,CACd,IAAA,CAAK,OAAA,CAAQ6C,EAAE,GAAI7C,IAAQ,CAAA;YAI/B,OAAO,IACT;QAAA,GAEAD,EAAO,YAAA,GAAe,SAAsBkD,CAAAA,EAASC,CAAAA;YACnDA,EAAQ,MAAA,GAAS,IAAA;YACjB,IAAIC,IAAW,IAAA,CAAK,KAAA,CAAMF;YAC1B,IAAA,CAAK,KAAA,CAAM,MAAA,CAAOE,GAAU,GAAGD,IAC/BA,EAAQ,MAAA,GAAS,IAAA;YACjB,IAAIlD;YAEJ,IAAA,IAAS6C,KAAM,IAAA,CAAK,OAAA,CAClB7C,IAAQ,IAAA,CAAK,OAAA,CAAQ6C,EAAE,EAEnB7C,KAASmD,KAAAA,CACX,IAAA,CAAK,OAAA,CAAQN,EAAE,GAAI7C,IAAQ,CAAA;YAI/B,OAAO,IACT;QAAA,GAEAD,EAAO,oBAAA,GAAuB,SAA8BO,CAAAA,EAAM8C,CAAAA;YAChE,IAAIC,IAAQ,KAAA;YACZ,OAAA,IAAA,CAAK,IAAA,CAAK,SAAUL,CAAAA;gBAClB,IAAIA,EAAK,UAAA,EAAY;oBACnB,IAAIM,IAAaN,EAAK,UAAA,CAAW1C,GAAM8C;oBAEvC,IAAIE,GACF,OAAAD,IAAQC,GACD,CAAA;gBAEX,OAAA,IAAWN,EAAK,YAAA,CAAa1C,GAAM8C,IACjC,OAAAC,IAAQL,GACD,CAAA;YAEX,IACOK;QACT,GAgBAtD,EAAO,UAAA,GAAa,SAAoBO,CAAAA,EAAM8C,CAAAA;YAC5C,IAAI,IAAA,CAAK,YAAA,CAAa9C,GAAM8C,IAC1B,OAAO,IAAA,CAAK,oBAAA,CAAqB9C,GAAM8C,MAAQ,IAInD;QAAA,GAEArD,EAAO,iBAAA,GAAoB;YACrB,IAAA,CAAK,IAAA,IAAQ,IAAA,CAAK,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,GAAA,IAAA,CACpD,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,MAAA,IAAU,CAAC,GAC9B,IAAA,CAAK,MAAA,CAAO,GAAA,GAAM,IAAA,CAAK,MAAA,CAAO,GAAA,IAAO,CAAC,GACtC,OAAO,MAAA,CAAO,IAAA,CAAK,MAAA,CAAO,GAAA,EAAK,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,GAAG,CAAA;QAEvD,GAEAA,EAAO,IAAA,GAAO,SAAcwD,CAAAA;YACrB,IAAA,CAAK,QAAA,IAAA,CACR,IAAA,CAAK,QAAA,GAAW,CAAA,GAGb,IAAA,CAAK,OAAA,IAAA,CACR,IAAA,CAAK,OAAA,GAAU,CAAC,CAAA,GAGlB,IAAA,CAAK,QAAA;YACL,IAAIV,IAAK,IAAA,CAAK,QAAA;YAGd,IAFA,IAAA,CAAK,OAAA,CAAQA,EAAE,GAAI,GAEf,CAAA,CAAC,IAAA,CAAK,MAAA,EAMV;gBAAA,IAAA,IAFI7C,GAAOwD,GAEJ,IAAA,CAAK,OAAA,CAAQX,EAAE,GAAI,IAAA,CAAK,MAAA,IAAA,CAC7B7C,IAAQ,IAAA,CAAK,OAAA,CAAQ6C,EAAE,EACvBW,IAASD,EAAS,IAAA,CAAK,EAAA,CAAGvD,IAAQA,IAE9BwD,MAAW,CAAA,CAAA,GAIf,IAAA,CAAK,OAAA,CAAQX,EAAE,IAAK;gBAKtB,IAFA,OAAO,IAAA,CAAK,OAAA,CAAQA,EAAE,EAElBW,MAAW,CAAA,GACb,OAAO,CAAA;YAAA;QAEX,GAEAzD,EAAO,IAAA,GAAO,SAAcwD,CAAAA;YAC1B,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUP,CAAAA,EAAMrF,CAAAA;gBAC/B,IAAI6F,IAASD,EAASP,GAAMrF;gBAM5B,IAJI6F,MAAW,CAAA,KAASR,EAAK,MAAA,IAAA,CAC3BQ,IAASR,EAAK,IAAA,CAAKO,EAAQ,GAGzBC,MAAW,CAAA,GACb,OAAO,CAAA;YAEX;QACF,GAEAzD,EAAO,cAAA,GAAiB,SAAwBwD,CAAAA;YAC9C,IAAIE,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUb,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,SAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKE,GAAQb;YAEjC;QACF,GAEA7C,EAAO,WAAA,GAAc,SAAqBwD,CAAAA;YACxC,IAAIG,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUd,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,KAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKG,GAAQd;YAEjC;QACF,GAEA7C,EAAO,eAAA,GAAkB,SAAyBwD,CAAAA;YAChD,IAAII,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUf,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,UAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKI,GAAQf;YAEjC;QACF,GAEA7C,EAAO,YAAA,GAAe,SAAsBwD,CAAAA;YAC1C,IAAIK,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUhB,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,OAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKK,GAAQhB;YAEjC;QACF,GAEA7C,EAAO,OAAA,GAAU,SAAiBwD,CAAAA;YAChC,IAAIM,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUjB,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,EAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKM,GAAQjB;YAEjC;QACF,GAEA7C,EAAO,WAAA,GAAc,SAAqBwD,CAAAA;YACxC,IAAIO,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUlB,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,OAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKO,GAAQlB;YAEjC;QACF,GAEA7C,EAAO,WAAA,GAAc,SAAqBwD,CAAAA;YACxC,IAAIQ,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUnB,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,MAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKQ,GAAQnB;YAEjC;QACF,GAEA7C,EAAO,QAAA,GAAW,SAAkBwD,CAAAA;YAClC,IAAIS,IAAS,IAAA;YAEb,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUpB,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,GAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKS,GAAQpB;YAEjC;QACF,GAEA7C,EAAO,cAAA,GAAiB,SAAwBwD,CAAAA;YAC9C,IAAIU,IAAU,IAAA;YAEd,OAAO,IAAA,CAAK,IAAA,CAAK,SAAUrB,CAAAA;gBACzB,IAAIA,EAAS,IAAA,KAASnB,GAAM,SAAA,EAC1B,OAAO8B,EAAS,IAAA,CAAKU,GAASrB;YAElC;QACF,GAEA7C,EAAO,KAAA,GAAQ,SAAewD,CAAAA;YAC5B,IAAIW,IAAU,IAAA,EAEVC,IAAU,EAAC;YACf,OAAO,IAAA,CAAK,MAAA,CAAO,SAAUC,CAAAA,EAAMpB,CAAAA,EAAMhD,CAAAA;gBACvC,IAAIqE,IAAQd,EAAS,IAAA,CAAKW,GAASlB;gBACnC,OAAAmB,EAAQ,IAAA,CAAKnB,IAETqB,IAAAA,CACFD,EAAK,IAAA,CAAKD,IACVA,IAAU,EAAC,IACFnE,MAAUkE,EAAQ,MAAA,GAAS,KACpCE,EAAK,IAAA,CAAKD,IAGLC;YACT,GAAG,EAAE;QACP,GAEArE,EAAO,GAAA,GAAM,SAAawD,CAAAA;YACxB,OAAO,IAAA,CAAK,KAAA,CAAM,GAAA,CAAIA;QACxB,GAEAxD,EAAO,MAAA,GAAS,SAAgBwD,CAAAA,EAAUa,CAAAA;YACxC,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,CAAOb,GAAUa;QACrC,GAEArE,EAAO,KAAA,GAAQ,SAAewD,CAAAA;YAC5B,OAAO,IAAA,CAAK,KAAA,CAAM,KAAA,CAAMA;QAC1B,GAEAxD,EAAO,IAAA,GAAO,SAAcwD,CAAAA;YAC1B,OAAO,IAAA,CAAK,KAAA,CAAM,IAAA,CAAKA;QACzB,GAEAxD,EAAO,MAAA,GAAS,SAAgBwD,CAAAA;YAC9B,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,CAAOA;QAC3B,GAEAxD,EAAO,IAAA,GAAO,SAAcwD,CAAAA;YAC1B,OAAO,IAAA,CAAK,KAAA,CAAM,IAAA,CAAKA;QACzB,GAEAxD,EAAO,QAAA,GAAW;YAChB,OAAO,IAAA,CAAK,GAAA,CAAI,QAAQ,IAAA,CAAK;QAC/B,GAEAX,GAAaqD,GAAW;YAAC;gBACvB,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,EAAA,CAAG;gBACjB;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,EAAA,CAAG,IAAA,CAAK,MAAA,GAAS;gBAC/B;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,KAAA,CAAM,MACpB;gBAAA;YACF;SAAE,GAEKA;IACT,EAAEjB,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAa8K;IACrBpK,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC1YzB,IAAA2M,KAAA5M,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI4M,KAAavL,GAAuB,OAEpCwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASiG,GAAkB1F,CAAAA,EAAQwE,CAAAA;QAAS,IAAA,IAASL,IAAI,GAAGA,IAAIK,EAAM,MAAA,EAAQL,IAAK;YAAE,IAAIwB,IAAanB,CAAAA,CAAML,EAAC;YAAGwB,EAAW,UAAA,GAAaA,EAAW,UAAA,IAAc,CAAA,GAAOA,EAAW,YAAA,GAAe,CAAA,GAAU,WAAWA,KAAAA,CAAYA,EAAW,QAAA,GAAW,CAAA,CAAA,GAAM,OAAO,cAAA,CAAe3F,GAAQ2F,EAAW,GAAA,EAAKA;QAAa;IAAE;IAE5T,SAASC,GAAaC,CAAAA,EAAaC,CAAAA,EAAYC,CAAAA;QAAe,OAAID,KAAYJ,GAAkBG,EAAY,SAAA,EAAWC,IAAiBC,KAAaL,GAAkBG,GAAaE,IAAqBF;IAAa;IAEtN,SAAS+C,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIiC,KAAoB,SAAUC,CAAAA;QAChCtC,GAAeqC,GAAMC;QAErB,SAASD,EAAK3E,CAAAA;YACZ,IAAI6C;YAEJ,OAAAA,IAAQ+B,EAAW,IAAA,CAAK,IAAA,EAAM5E,MAAS,IAAA,EACvC6C,EAAM,IAAA,GAAO6B,GAAO,IAAA,EACb7B;QACT;QAEA,IAAI5C,IAAS0E,EAAK,SAAA;QAElB,OAAA1E,EAAO,QAAA,GAAW;YAChB,IAAI/C,IAAM,IAAA,CAAK,MAAA,CAAO,SAAUoH,CAAAA,EAAMxB,CAAAA;gBACpC,OAAAwB,EAAK,IAAA,CAAK,OAAOxB,KACVwB;YACT,GAAG,EAAE,EAAE,IAAA,CAAK;YACZ,OAAO,IAAA,CAAK,aAAA,GAAgBpH,IAAM,MAAMA;QAC1C,GAEA+C,EAAO,KAAA,GAAQ,SAAe4E,CAAAA,EAASC,CAAAA;YACrC,OAAI,IAAA,CAAK,MAAA,GACA,IAAA,CAAK,MAAA,CAAOD,GAASC,KAErB,IAAI,MAAMD;QAErB,GAEAvF,GAAaqF,GAAM;YAAC;gBAClB,KAAK;gBACL,KAAK,SAAaI,CAAAA;oBAChB,IAAA,CAAK,MAAA,GAASA;gBAChB;YACF;SAAE,GAEKJ;IACT,EAAEF,GAAW,OAAU;IAEvB5M,GAAQ,OAAA,GAAa8M;IACrBpM,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC3DzB,IAAAmN,KAAApN,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI4M,KAAavL,GAAuB,OAEpCwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIuC,KAAwB,SAAUL,CAAAA;QACpCtC,GAAe2C,GAAUL;QAEzB,SAASK,EAASjF,CAAAA;YAChB,IAAI6C;YAEJ,OAAAA,IAAQ+B,EAAW,IAAA,CAAK,IAAA,EAAM5E,MAAS,IAAA,EACvC6C,EAAM,IAAA,GAAO6B,GAAO,QAAA,EACb7B;QACT;QAEA,OAAOoC;IACT,EAAER,GAAW,OAAU;IAEvB5M,GAAQ,OAAA,GAAaoN;IACrB1M,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC9BzB,IAAAqN,KAAAtN,EAAA,CAAAC,IAAAU;IAAA;IAGA,IAAI4M,KAAS,CAAC,GACVC,KAAiBD,GAAO,cAAA,EACxBE,KAAQ,SAAeP,CAAAA,EAASrL,CAAAA;QACnC,IAAI,CAACqL,GACJ,OAAOrL;QAER,IAAIiK,IAAS,CAAC;QACd,IAAA,IAAS5K,KAAOW,EAGfiK,CAAAA,CAAO5K,EAAG,GAAIsM,GAAe,IAAA,CAAKN,GAAShM,KAAOgM,CAAAA,CAAQhM,EAAG,GAAIW,CAAAA,CAASX,EAAG;QAE9E,OAAO4K;IACR,GAEI4B,KAAuB,0BACvBC,KAAoB,2BAEpBC,KAAuB,qDAGvBC,KAAS,SAASA,EAAOC,CAAAA,EAAQZ,CAAAA;QACpCA,IAAUO,GAAMP,GAASW,EAAO,OAAO,GACnCX,EAAQ,MAAA,IAAU,YAAYA,EAAQ,MAAA,IAAU,YAAA,CACnDA,EAAQ,MAAA,GAAS,QAAA;QASlB,IAAA,IAPIa,IAAQb,EAAQ,MAAA,IAAU,WAAW,MAAM,KAC3Cc,IAAed,EAAQ,YAAA,EAEvBe,IAAYH,EAAO,MAAA,CAAO,IAC1BI,IAAS,IACTC,IAAU,GACVC,IAASN,EAAO,MAAA,EACbK,IAAUC,GAAQ;YACxB,IAAIC,IAAYP,EAAO,MAAA,CAAOK,MAC1BvI,IAAYyI,EAAU,UAAA,IACtBlO,IAAQ,KAAA;YAEZ,IAAIyF,IAAY,MAAQA,IAAY,KAAM;gBACzC,IAAIA,KAAa,SAAUA,KAAa,SAAUuI,IAAUC,GAAQ;oBAEnE,IAAIE,IAAQR,EAAO,UAAA,CAAWK;oBAAS,CAClCG,IAAQ,KAAA,KAAW,QAEvB1I,IAAAA,CAAAA,CAAcA,IAAY,IAAA,KAAU,EAAA,IAAA,CAAO0I,IAAQ,IAAA,IAAS,QAI5DH;gBAEF;gBACAhO,IAAQ,OAAOyF,EAAU,QAAA,CAAS,IAAI,WAAA,KAAgB;YACvD,OACKsH,EAAQ,gBAAA,GACPQ,GAAqB,IAAA,CAAKW,KAC7BlO,IAAQ,OAAOkO,IAEflO,IAAQ,OAAOyF,EAAU,QAAA,CAAS,IAAI,WAAA,KAAgB,MAE7C,iBAAiB,IAAA,CAAKyI,KAChClO,IAAQ,OAAOyF,EAAU,QAAA,CAAS,IAAI,WAAA,KAAgB,MAC5CyI,KAAa,QAAQ,CAACL,KAAAA,CAAiBK,KAAa,OAAON,KAASM,KAAaA,KAAa,OAAQN,KAASM,CAAAA,KAAcL,KAAgBL,GAAkB,IAAA,CAAKU,KAC9KlO,IAAQ,OAAOkO,IAEflO,IAAQkO;YAGVH,KAAU/N;QACX;QAsBA,OApBI6N,KAAAA,CACC,UAAU,IAAA,CAAKE,KAClBA,IAAS,QAAQA,EAAO,KAAA,CAAM,KACpB,KAAK,IAAA,CAAKD,MAAS,CAC7BC,IAAS,QAAQD,IAAY,MAAMC,EAAO,KAAA,CAAM,EAAC,CAAA,GAOnDA,IAASA,EAAO,OAAA,CAAQN,IAAsB,SAAUW,CAAAA,EAAIC,CAAAA,EAAIC,CAAAA;YAC/D,OAAID,KAAMA,EAAG,MAAA,GAAS,IAEdD,IAAAA,CAGAC,KAAM,EAAA,IAAMC;QACrB,IAEI,CAACT,KAAgBd,EAAQ,IAAA,GACrBa,IAAQG,IAASH,IAElBG;IACR;IAGAL,GAAO,OAAA,GAAU;QAChB,kBAAoB,CAAA;QACpB,cAAgB,CAAA;QAChB,QAAU;QACV,MAAQ,CAAA;IACT;IAEAA,GAAO,OAAA,GAAU;IAEjBlN,GAAO,OAAA,GAAUkN;AAAAA;AC7GjB,IAAAa,KAAA1O,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI0O,KAAUrN,GAAuB,OAEjCiG,KAAQ,MAERuC,KAAQxI,GAAuB,OAE/BwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASiG,GAAkB1F,CAAAA,EAAQwE,CAAAA;QAAS,IAAA,IAASL,IAAI,GAAGA,IAAIK,EAAM,MAAA,EAAQL,IAAK;YAAE,IAAIwB,IAAanB,CAAAA,CAAML,EAAC;YAAGwB,EAAW,UAAA,GAAaA,EAAW,UAAA,IAAc,CAAA,GAAOA,EAAW,YAAA,GAAe,CAAA,GAAU,WAAWA,KAAAA,CAAYA,EAAW,QAAA,GAAW,CAAA,CAAA,GAAM,OAAO,cAAA,CAAe3F,GAAQ2F,EAAW,GAAA,EAAKA;QAAa;IAAE;IAE5T,SAASC,GAAaC,CAAAA,EAAaC,CAAAA,EAAYC,CAAAA;QAAe,OAAID,KAAYJ,GAAkBG,EAAY,SAAA,EAAWC,IAAiBC,KAAaL,GAAkBG,GAAaE,IAAqBF;IAAa;IAEtN,SAAS+C,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAI8D,KAAyB,SAAU5D,CAAAA;QACrCN,GAAekE,GAAW5D;QAE1B,SAAS4D,EAAUxG,CAAAA;YACjB,IAAI6C;YAEJ,OAAAA,IAAQD,EAAM,IAAA,CAAK,IAAA,EAAM5C,MAAS,IAAA,EAClC6C,EAAM,IAAA,GAAO6B,GAAO,KAAA,EACpB7B,EAAM,YAAA,GAAe,CAAA,GACdA;QACT;QAEA,IAAI5C,IAASuG,EAAU,SAAA;QAEvB,OAAAvG,EAAO,aAAA,GAAgB;YACrB,OAAO,MAAM2C,EAAM,SAAA,CAAU,aAAA,CAAc,IAAA,CAAK,IAAI;QACtD,GAEAtD,GAAakH,GAAW;YAAC;gBACvB,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,MACd;gBAAA;gBACA,KAAK,SAAa1J,CAAAA;oBAChB,IAAI,IAAA,CAAK,YAAA,EAAc;wBACrB,IAAI2J,IAAAA,CAAAA,GAAcF,GAAQ,OAAA,EAAYzJ,GAAG;4BACvC,cAAc,CAAA;wBAChB;wBAEI2J,MAAY3J,IAAAA,CAAAA,CAAAA,GACVqC,GAAM,YAAA,EAAc,IAAA,EAAM,SAC9B,IAAA,CAAK,IAAA,CAAK,KAAA,GAAQsH,CAAAA,IACT,IAAA,CAAK,IAAA,IACd,OAAO,IAAA,CAAK,IAAA,CAAK,KAErB;oBAAA;oBAEA,IAAA,CAAK,MAAA,GAAS3J;gBAChB;YACF;SAAE,GAEK0J;IACT,EAAE9E,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAa2O;IACrBjO,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACpEzB,IAAA6O,KAAA9O,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI6J,KAAQxI,GAAuB,OAE/BwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIiE,KAAuB,SAAU/D,CAAAA;QACnCN,GAAeqE,GAAS/D;QAExB,SAAS+D,EAAQ3G,CAAAA;YACf,IAAI6C;YAEJ,OAAAA,IAAQD,EAAM,IAAA,CAAK,IAAA,EAAM5C,MAAS,IAAA,EAClC6C,EAAM,IAAA,GAAO6B,GAAO,OAAA,EACb7B;QACT;QAEA,OAAO8D;IACT,EAAEjF,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAa8O;IACrBpO,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC9BzB,IAAA+O,KAAAhP,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI6J,KAAQxI,GAAuB,OAE/BwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIvB,KAAkB,SAAUyB,CAAAA;QAC9BN,GAAenB,GAAIyB;QAEnB,SAASzB,EAAGnB,CAAAA;YACV,IAAI6C;YAEJ,OAAAA,IAAQD,EAAM,IAAA,CAAK,IAAA,EAAM5C,MAAS,IAAA,EAClC6C,EAAM,IAAA,GAAO6B,GAAO,EAAA,EACb7B;QACT;QAEA,IAAI5C,IAASkB,EAAG,SAAA;QAEhB,OAAAlB,EAAO,aAAA,GAAgB;YACrB,OAAO,MAAM2C,EAAM,SAAA,CAAU,aAAA,CAAc,IAAA,CAAK,IAAI;QACtD,GAEOzB;IACT,EAAEO,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAasJ;IACrB5I,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACpCzB,IAAAgP,KAAAjP,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI0O,KAAUrN,GAAuB,OAEjCiG,KAAQ,MAERuC,KAAQxI,GAAuB;IAEnC,SAASA,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASiG,GAAkB1F,CAAAA,EAAQwE,CAAAA;QAAS,IAAA,IAASL,IAAI,GAAGA,IAAIK,EAAM,MAAA,EAAQL,IAAK;YAAE,IAAIwB,IAAanB,CAAAA,CAAML,EAAC;YAAGwB,EAAW,UAAA,GAAaA,EAAW,UAAA,IAAc,CAAA,GAAOA,EAAW,YAAA,GAAe,CAAA,GAAU,WAAWA,KAAAA,CAAYA,EAAW,QAAA,GAAW,CAAA,CAAA,GAAM,OAAO,cAAA,CAAe3F,GAAQ2F,EAAW,GAAA,EAAKA;QAAa;IAAE;IAE5T,SAASC,GAAaC,CAAAA,EAAaC,CAAAA,EAAYC,CAAAA;QAAe,OAAID,KAAYJ,GAAkBG,EAAY,SAAA,EAAWC,IAAiBC,KAAaL,GAAkBG,GAAaE,IAAqBF;IAAa;IAEtN,SAAS+C,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIoE,KAAyB,SAAUlE,CAAAA;QACrCN,GAAewE,GAAWlE;QAE1B,SAASkE;YACP,OAAOlE,EAAM,KAAA,CAAM,IAAA,EAAM,cAAc,IACzC;QAAA;QAEA,IAAI3C,IAAS6G,EAAU,SAAA;QAEvB,OAAA7G,EAAO,aAAA,GAAgB,SAAuBlI,CAAAA;YAC5C,OAAI,IAAA,CAAK,SAAA,GACA,IAAA,CAAK,eAAA,GAAkB,MAAMA,IAE7BA;QAEX,GAEAkI,EAAO,aAAA,GAAgB;YACrB,OAAO,IAAA,CAAK,aAAA,CAAc2C,EAAM,SAAA,CAAU,aAAA,CAAc,IAAA,CAAK,IAAI;QACnE,GAEAtD,GAAawH,GAAW;YAAC;gBACvB,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,UACd;gBAAA;gBACA,KAAK,SAAaC,CAAAA;oBAChB,IAAIA,MAAc,CAAA,KAAQA,MAAc,OAAOA,MAAc,KAAK;wBAChE,IAAA,CAAK,UAAA,GAAaA,GAEd,IAAA,CAAK,IAAA,IACP,OAAO,IAAA,CAAK,IAAA,CAAK,SAAA;wBAGnB;oBACF;oBAEA,IAAIN,IAAAA,CAAAA,GAAcF,GAAQ,OAAA,EAAYQ,GAAW;wBAC/C,cAAc,CAAA;oBAChB;oBACA,IAAA,CAAK,UAAA,GAAaA,GAEdN,MAAYM,IAAAA,CAAAA,CAAAA,GACV5H,GAAM,YAAA,EAAc,IAAA,EAAM,SAC9B,IAAA,CAAK,IAAA,CAAK,SAAA,GAAYsH,CAAAA,IACb,IAAA,CAAK,IAAA,IACd,OAAO,IAAA,CAAK,IAAA,CAAK,SAErB;gBAAA;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,UACd;gBAAA;gBACA,KAAK,SAAaM,CAAAA;oBAChB,IAAA,CAAK,SAAA,GAAYA;gBACnB;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,IAAI,IAAA,CAAK,SAAA,EAAW;wBAClB,IAAIC,IAAK,IAAA,CAAK,iBAAA,CAAkB;wBAEhC,OAAIA,MAAO,CAAA,IACF,KAEAA;oBAEX,OACE,OAAO;gBAEX;YACF;SAAE,GAEKF;IACT,EAAEpF,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAaiP;IAErBvO,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACpGzB,IAAAoP,KAAArP,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAIqP,KAAahO,GAAuB,OAEpCwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIyE,KAAmB,SAAUC,CAAAA;QAC/B9E,GAAe6E,GAAKC;QAEpB,SAASD,EAAInH,CAAAA;YACX,IAAI6C;YAEJ,OAAAA,IAAQuE,EAAW,IAAA,CAAK,IAAA,EAAMpH,MAAS,IAAA,EACvC6C,EAAM,IAAA,GAAO6B,GAAO,GAAA,EACb7B;QACT;QAEA,OAAOsE;IACT,EAAED,GAAW,OAAU;IAEvBrP,GAAQ,OAAA,GAAasP;IACrB5O,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC9BzB,IAAAwP,KAAAzP,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI6J,KAAQxI,GAAuB,OAE/BwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAI4E,KAAsB,SAAU1E,CAAAA;QAClCN,GAAegF,GAAQ1E;QAEvB,SAAS0E,EAAOtH,CAAAA;YACd,IAAI6C;YAEJ,OAAAA,IAAQD,EAAM,IAAA,CAAK,IAAA,EAAM5C,MAAS,IAAA,EAClC6C,EAAM,IAAA,GAAO6B,GAAO,MAAA,EACb7B;QACT;QAEA,OAAOyE;IACT,EAAE5F,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAayP;IACrB/O,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC9BzB,IAAA0P,KAAA3P,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI4M,KAAavL,GAAuB,OAEpCwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAI8E,KAAsB,SAAU5C,CAAAA;QAClCtC,GAAekF,GAAQ5C;QAEvB,SAAS4C,EAAOxH,CAAAA;YACd,IAAI6C;YAEJ,OAAAA,IAAQ+B,EAAW,IAAA,CAAK,IAAA,EAAM5E,MAAS,IAAA,EACvC6C,EAAM,IAAA,GAAO6B,GAAO,MAAA,EACb7B;QACT;QAEA,IAAI5C,IAASuH,EAAO,SAAA;QAEpB,OAAAvH,EAAO,QAAA,GAAW;YAChB,IAAIwH,IAAS,IAAA,CAAK,MAAA,GAAS,MAAM,IAAA,CAAK,GAAA,CAAI,QAAQ,IAAA,CAAK,OAAO,MAAM;YACpE,OAAO;gBAAC,IAAA,CAAK,cAAA;gBAAgB,IAAA,CAAK,iBAAA,CAAkB;gBAAUA;gBAAQ,IAAA,CAAK,aAAa;aAAA,CAAE,IAAA,CAAK;QACjG,GAEOD;IACT,EAAE/C,GAAW,OAAU;IAEvB5M,GAAQ,OAAA,GAAa2P;IACrBjP,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACrCzB,IAAA6P,KAAA9P,EAAA,CAAAC,IAAAU;IAAAA,GAAO,OAAA,GAAU,SAAmBoP,CAAAA,EAAI9C,CAAAA;QACtC,OAAO,SAAA,GAAa+C,CAAAA;YAClB,OAAA,QAAQ,IAAA,CAAK/C,IACN8C,KAAMC;QACf;IACF;AAAA;ACLA,IAAAC,KAAAjQ,EAAAC,CAAAA;IAAA;IAEAA,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,aAAA,GAAgBiQ;IACxBjQ,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI0O,KAAUrN,GAAuB,OAEjC4F,KAAS5F,GAAuB,OAEhCgO,KAAahO,GAAuB,OAEpCwL,KAAS,MAETqD;IAEJ,SAAS7O,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASiG,GAAkB1F,CAAAA,EAAQwE,CAAAA;QAAS,IAAA,IAASL,IAAI,GAAGA,IAAIK,EAAM,MAAA,EAAQL,IAAK;YAAE,IAAIwB,IAAanB,CAAAA,CAAML,EAAC;YAAGwB,EAAW,UAAA,GAAaA,EAAW,UAAA,IAAc,CAAA,GAAOA,EAAW,YAAA,GAAe,CAAA,GAAU,WAAWA,KAAAA,CAAYA,EAAW,QAAA,GAAW,CAAA,CAAA,GAAM,OAAO,cAAA,CAAe3F,GAAQ2F,EAAW,GAAA,EAAKA;QAAa;IAAE;IAE5T,SAASC,GAAaC,CAAAA,EAAaC,CAAAA,EAAYC,CAAAA;QAAe,OAAID,KAAYJ,GAAkBG,EAAY,SAAA,EAAWC,IAAiBC,KAAaL,GAAkBG,GAAaE,IAAqBF;IAAa;IAEtN,SAAS+C,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIsF,KAAY,MAEZC,KAAoB,mBACpBC,KAAkCF,GAAU,YAAa,GAAG,yIAC5DG,KAAmCH,GAAU,YAAa,GAAG,6FAC7DI,KAA8BJ,GAAU,YAAa,GAAG;IAE5D,SAASF,GAAc/P,CAAAA;QACrB,IAAIsQ,IAAkB,CAAA,GAClBC,IAAY,MACZC,IAAYxQ,GACZyQ,IAAID,EAAU,KAAA,CAAMN;QAExB,OAAIO,KAAAA,CACFF,IAAYE,CAAAA,CAAE,EAAC,EACfD,IAAYC,CAAAA,CAAE,EAAC,GAGjBD,IAAAA,CAAAA,GAAgBzJ,GAAO,OAAA,EAAYyJ,IAE/BA,MAAcxQ,KAAAA,CAChBsQ,IAAkB,CAAA,CAAA,GAGb;YACL,iBAAiBA;YACjB,WAAWE;YACX,WAAWD;QACb;IACF;IAEA,SAASG,GAA+BzI,CAAAA;QAKtC,IAJIA,EAAK,SAAA,KAAc,KAAA,KAInBA,EAAK,KAAA,KAAU,KAAA,GACjB,OAAOA;QAGToI;QAEA,IAAIM,IAAiBZ,GAAc9H,EAAK,KAAK,GACzCsI,IAAYI,EAAe,SAAA,EAC3BH,IAAYG,EAAe,SAAA;QAE/B,OAAK1I,EAAK,IAAA,IAAA,CACRA,EAAK,IAAA,GAAO,CAAC,CAAA,GAGXA,EAAK,IAAA,CAAK,KAAA,KAAU,KAAA,KAAA,CACtBA,EAAK,IAAA,CAAK,KAAA,GAAQA,EAAK,KAAA,GAGzBA,EAAK,KAAA,GAAQuI,GACbvI,EAAK,SAAA,GAAYsI,GACVtI;IACT;IAEA,IAAI2I,KAAyB,SAAUvB,CAAAA;QACrC9E,GAAeqG,GAAWvB;QAE1B,SAASuB,EAAU3I,CAAAA;YACjB,IAAI6C;YAEJ,OAAI7C,MAAS,KAAA,KAAA,CACXA,IAAO,CAAC,CAAA,GAGV6C,IAAQuE,EAAW,IAAA,CAAK,IAAA,EAAMqB,GAA+BzI,OAAU,IAAA,EACvE6C,EAAM,IAAA,GAAO6B,GAAO,SAAA,EACpB7B,EAAM,IAAA,GAAOA,EAAM,IAAA,IAAQ,CAAC,GAC5B,OAAO,cAAA,CAAeA,EAAM,IAAA,EAAM,YAAY;gBAC5C,KAAKmF,GAAU;oBACb,OAAOnF,EAAM,KACf;gBAAA,GAAG;gBACH,KAAKmF,GAAU;oBACb,OAAOnF,EAAM,KACf;gBAAA,GAAG;YACL,IACAA,EAAM,YAAA,GAAe,CAAA,GACdA;QACT;QAwBA,IAAI5C,IAAS0I,EAAU,SAAA;QAEvB,OAAA1I,EAAO,cAAA,GAAiB,SAAwB6E,CAAAA;YAC1CA,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA;YAGb,IAAIwD,IAAY,IAAA,CAAK,mBAAA,CAAoBxD,IAErC8D,IAAaC,EAAAA,CAAqBP,EAAS,EAC3C7B,IAAAA,CAAAA,GAAcF,GAAQ,OAAA,EAAY,IAAA,CAAK,MAAA,EAAQqC;YACnD,OAAOnC;QACT,GAEAxG,EAAO,mBAAA,GAAsB,SAA6B6E,CAAAA;YACxD,OAAOA,EAAQ,KAAA,GAAQ,IAAA,CAAK,cAAA,CAAeA,KAAW,IAAA,CAAK,kBAAA,CAAmBA;QAChF,GAQA7E,EAAO,QAAA,GAAW,SAAkBlI,CAAAA,EAAO+M,CAAAA;YACrCA,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA,GAGb,IAAA,CAAK,MAAA,GAAS/M,GACd,IAAA,CAAK,UAAA,GAAa,IAAA,CAAK,mBAAA,CAAoB+M,IAE3C,IAAA,CAAK,aAAA;QACP,GAeA7E,EAAO,cAAA,GAAiB,SAAwB6E,CAAAA;YAC9C,IAAIhI,IAAI,IAAA,CAAK,KAAA,EACTgM,IAAkBhM,EAAE,OAAA,CAAQ,SAAS,IAAI,MAAA,EACzCiM,IAAkBjM,EAAE,OAAA,CAAQ,SAAS,IAAI,MAAA;YAE7C,IAAIgM,IAAkBC,MAAoB,GAAG;gBAC3C,IAAItC,IAAAA,CAAAA,GAAcF,GAAQ,OAAA,EAAYzJ,GAAG;oBACvC,cAAc,CAAA;gBAChB;gBAEA,IAAI2J,MAAY3J,GACd,OAAO6L,EAAU,QAAA;gBAEjB,IAAIK,IAAO,IAAA,CAAK,kBAAA,CAAmBlE;gBAEnC,IAAIkE,MAASL,EAAU,QAAA,EAAU;oBAE/B,IAAIhD,IAAQ,IAAA,CAAK,SAAA,IAAab,EAAQ,SAAA,IAAa6D,EAAU,YAAA,EACzD3I,IAAO6I,EAAAA,CAAqBlD,EAAK,EACjCsD,IAAAA,CAAAA,GAAiB1C,GAAQ,OAAA,EAAYzJ,GAAGkD;oBAE5C,IAAIiJ,EAAW,MAAA,GAASxC,EAAQ,MAAA,EAC9B,OAAOd;gBAEX;gBAEA,OAAOqD;YAEX,OAAO,OAAID,MAAoBD,IACtB,IAAA,CAAK,kBAAA,CAAmBhE,KACtBiE,IAAkBD,IACpBH,EAAU,YAAA,GAEVA,EAAU,YAErB;QAAA,GAQA1I,EAAO,kBAAA,GAAqB,SAA4B6E,CAAAA;YACtD,IAAIwD,IAAYxD,EAAQ,sBAAA,GAAyB,IAAA,CAAK,SAAA,GAAYA,EAAQ,SAAA;YAE1E,OAAIwD,MAAc,KAAA,KAAA,CAChBA,IAAYxD,EAAQ,sBAAA,GAAyBA,EAAQ,SAAA,GAAY,IAAA,CAAK,SAAA,GAGpEwD,MAAc,KAAA,KAAA,CAChBA,IAAYK,EAAU,YAAA,GAGjBL;QACT,GAEArI,EAAO,aAAA,GAAgB;YACrB,IAAIiJ,IAAAA,CAAAA,GAAe3C,GAAQ,OAAA,EAAY,IAAA,CAAK,MAAA,EAAQsC,EAAAA,CAAqB,IAAA,CAAK,SAAS,CAAC;YAEpFK,MAAa,IAAA,CAAK,MAAA,GAChB,IAAA,CAAK,IAAA,IACP,OAAO,IAAA,CAAK,IAAA,CAAK,KAAA,GAGnB,IAAA,CAAK,IAAA,CAAK,KAAA,GAAQA;QAEtB,GAEAjJ,EAAO,cAAA,GAAiB,SAAwB7B,CAAAA,EAAMrG,CAAAA;YACpD,IAAI,IAAA,CAAK,YAAA,EAAc;gBACrB,IAAI0O,IAAAA,CAAAA,GAAcF,GAAQ,OAAA,EAAYxO,GAAO;oBAC3C,cAAc,CAAA;gBAChB;gBAEI0O,MAAY1O,IACd,IAAA,CAAK,IAAA,CAAKqG,EAAI,GAAIqI,IAElB,OAAO,IAAA,CAAK,IAAA,CAAKrI,EAErB;YAAA;QACF,GAEA6B,EAAO,UAAA,GAAa,SAAoBG,CAAAA;YACtC,IAAI+I,IAAa;gBACf,QAAQ;gBACR,OAAO;YACT,GACIC,IAAS,IAAA,CAAK,MAAA,CAAOhJ,EAAI,IAAK,CAAC,GAC/BiJ,IAAY,IAAA,CAAK,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,IAAA,CAAK,MAAA,CAAOjJ,EAAI,IAAK,CAAC;YAC/D,OAAO,OAAO,MAAA,CAAO+I,GAAYC,GAAQC;QAC3C,GAEApJ,EAAO,UAAA,GAAa,SAAoBG,CAAAA,EAAMkJ,CAAAA,EAAWC,CAAAA;YACnDD,MAAc,KAAA,KAAA,CAChBA,IAAYlJ,CAAAA,GAGVmJ,MAAW,KAAA,KAAA,CACbA,IAASC,EAAAA;YAGX,IAAIL,IAAa,IAAA,CAAK,UAAA,CAAWG;YAEjC,OAAOC,EAAO,IAAA,CAAK,iBAAA,CAAkBnJ,IAAO+I;QAC9C,GAiBAlJ,EAAO,QAAA,GAAW,SAAkBG,CAAAA;YAClC,IAAIqJ,IAAQ,GAERC,IAAkB,IAAA,CAAK,UAAA,CAAW;YAItC,IAFAD,KAASC,EAAgB,MAAA,CAAO,MAAA,EAE5BtJ,MAAS,eAAeA,MAAS,MACnC,OAAO,IAAA,CAAK,SAAA,GAAYqJ,IAAQ,CAAA;YAalC,IAVIrJ,MAAS,iBAAA,CAIbqJ,KAAS,IAAA,CAAK,eAAA,CAAgB,MAAA,EAE1B,IAAA,CAAK,SAAA,IAAA,CACPA,KAAS,CAAA,GAGPrJ,MAAS,WAAA,GACX,OAAOqJ;YAGTA,KAAS,IAAA,CAAK,iBAAA,CAAkB,aAAa,MAAA,EAC7CA,KAASC,EAAgB,KAAA,CAAM,MAAA;YAE/B,IAAIC,IAAiB,IAAA,CAAK,UAAA,CAAW;YAErCF,KAASE,EAAe,MAAA,CAAO,MAAA;YAC/B,IAAIC,IAAW,IAAA,CAAK,iBAAA,CAAkB;YAEtC,IAAIxJ,MAAS,YACX,OAAOwJ,IAAWH,IAAQ,CAAA;YAG5BA,KAASG,EAAS,MAAA,EAClBH,KAASE,EAAe,KAAA,CAAM,MAAA;YAE9B,IAAIE,IAAc,IAAA,CAAK,UAAA,CAAW;YAElCJ,KAASI,EAAY,MAAA,CAAO,MAAA;YAC5B,IAAI9R,IAAQ,IAAA,CAAK,iBAAA,CAAkB;YAEnC,IAAIqI,MAAS,SACX,OAAOrI,IAAQ0R,IAAQ,CAAA;YAGzBA,KAAS1R,EAAM,MAAA,EACf0R,KAASI,EAAY,KAAA,CAAM,MAAA;YAE3B,IAAIC,IAAoB,IAAA,CAAK,UAAA,CAAW;YAIxC,OAFAL,KAASK,EAAkB,MAAA,CAAO,MAAA,EAE9B1J,MAAS,iBACJ,IAAA,CAAK,WAAA,GAAcqJ,IAGrB,CAAA;QACT,GAEAxJ,EAAO,QAAA,GAAW;YAChB,IAAI0D,IAAS,IAAA,EAETb,IAAW;gBAAC,IAAA,CAAK,cAAA;gBAAgB;aAAG;YACxC,OAAAA,EAAS,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,sBAAsB,eAEhD,IAAA,CAAK,QAAA,IAAA,CAAa,IAAA,CAAK,KAAA,IAAS,IAAA,CAAK,KAAA,KAAU,EAAA,KAAA,CACjDA,EAAS,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,cAC9BA,EAAS,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,WAC9BA,EAAS,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,mBAAmB,eAAe,SAAUiH,CAAAA,EAAWZ,CAAAA;gBACnF,OAAIY,EAAU,MAAA,GAAS,KAAK,CAACpG,EAAO,MAAA,IAAUwF,EAAW,MAAA,CAAO,MAAA,KAAW,KAAK,CAAA,CAAExF,EAAO,MAAA,CAAO,KAAA,IAASA,EAAO,MAAA,CAAO,KAAA,CAAM,KAAA,KAAA,CAC3HwF,EAAW,MAAA,GAAS,GAAA,GAGfK,GAAkBO,GAAWZ;YACtC,GAAE,GAGJrG,EAAS,IAAA,CAAK,MACdA,EAAS,IAAA,CAAK,IAAA,CAAK,aAAa,GACzBA,EAAS,IAAA,CAAK;QACvB,GAEAxD,GAAaqJ,GAAW;YAAC;gBACvB,KAAK;gBACL,KAAK;oBACH,IAAIqB,IAAK,IAAA,CAAK,SAAA;oBACd,OAAOA,MAAO,OAAOA,MAAO;gBAC9B;gBACA,KAAK,SAAajS,CAAAA;oBAChBoQ;gBACF;YAQF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,UACd;gBAAA;gBASA,KAAK,SAAaG,CAAAA;oBAChB,IAAI,CAAC,IAAA,CAAK,YAAA,EAAc;wBACtB,IAAA,CAAK,UAAA,GAAaA;wBAClB;oBACF;oBAEI,IAAA,CAAK,UAAA,KAAeA,KAAAA,CACtB,IAAA,CAAK,UAAA,GAAaA,GAElB,IAAA,CAAK,aAAA,EAAc;gBAEvB;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,SAAS;gBACjE;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,WAAA,GAAc,MAAM;gBAClC;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,MACd;gBAAA;gBAcA,KAAK,SAAaxL,CAAAA;oBAChB,IAAI,IAAA,CAAK,YAAA,EAAc;wBACrB,IAAImN,IAAkBnC,GAAchL,IAChCuL,IAAkB4B,EAAgB,eAAA,EAClC1B,IAAY0B,EAAgB,SAAA,EAC5B3B,IAAY2B,EAAgB,SAAA;wBAMhC,IAJI5B,KACFH,MAGEK,MAAc,IAAA,CAAK,MAAA,IAAUD,MAAc,IAAA,CAAK,UAAA,EAClD;wBAGF,IAAA,CAAK,MAAA,GAASC,GACd,IAAA,CAAK,UAAA,GAAaD,GAElB,IAAA,CAAK,aAAA;oBACP,OACE,IAAA,CAAK,MAAA,GAASxL;gBAElB;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,UACd;gBAAA;gBACA,KAAK,SAAasD,CAAAA;oBAChB,IAAA,CAAK,cAAA,CAAe,aAAaA,IAEjC,IAAA,CAAK,UAAA,GAAaA;gBACpB;YACF;SAAE,GAEKuI;IACT,EAAEzB,GAAW,OAAU;IAEvBrP,GAAQ,OAAA,GAAa8Q;IACrBA,GAAU,QAAA,GAAW;IACrBA,GAAU,YAAA,GAAe;IACzBA,GAAU,YAAA,GAAe;IACzB,IAAIE,KAAAA,CAAwBd,KAAwB;QAClD,KAAK;YACH,QAAQ;YACR,MAAM,CAAA;QACR;QACA,KAAK;YACH,QAAQ;YACR,MAAM,CAAA;QACR;IACF,GAAGA,EAAAA,CAAsB,KAAI,GAAI;QAC/B,cAAc,CAAA;IAChB,GAAGA,EAAAA;IAEH,SAASyB,GAAkBO,CAAAA,EAAWZ,CAAAA;QACpC,OAAO,KAAKA,EAAW,MAAA,GAASY,IAAYZ,EAAW,KACzD;IAAA;AAAA;AClgBA,IAAAe,KAAAtS,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAIqP,KAAahO,GAAuB,OAEpCwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAIyH,KAAyB,SAAU/C,CAAAA;QACrC9E,GAAe6H,GAAW/C;QAE1B,SAAS+C,EAAUnK,CAAAA;YACjB,IAAI6C;YAEJ,OAAAA,IAAQuE,EAAW,IAAA,CAAK,IAAA,EAAMpH,MAAS,IAAA,EACvC6C,EAAM,IAAA,GAAO6B,GAAO,SAAA,EACpB7B,EAAM,KAAA,GAAQ,KACPA;QACT;QAEA,OAAOsH;IACT,EAAEjD,GAAW,OAAU;IAEvBrP,GAAQ,OAAA,GAAasS;IACrB5R,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC/BzB,IAAAuS,KAAAxS,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI6J,KAAQxI,GAAuB,OAE/BwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAI2H,KAA0B,SAAUzH,CAAAA;QACtCN,GAAe+H,GAAYzH;QAE3B,SAASyH,EAAWrK,CAAAA;YAClB,IAAI6C;YAEJ,OAAAA,IAAQD,EAAM,IAAA,CAAK,IAAA,EAAM5C,MAAS,IAAA,EAClC6C,EAAM,IAAA,GAAO6B,GAAO,UAAA,EACb7B;QACT;QAEA,OAAOwH;IACT,EAAE3I,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAawS;IACrB9R,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC9BzB,IAAAyS,KAAA1S,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI6J,KAAQxI,GAAuB,OAE/BwL,KAAS;IAEb,SAASxL,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASmJ,GAAeC,CAAAA,EAAUC,CAAAA;QAAcD,EAAS,SAAA,GAAY,OAAO,MAAA,CAAOC,EAAW,SAAS,GAAGD,EAAS,SAAA,CAAU,WAAA,GAAcA,GAAUE,GAAgBF,GAAUC;IAAa;IAE5L,SAASC,GAAgBZ,CAAAA,EAAGa,CAAAA;QAAK,OAAAD,KAAkB,OAAO,cAAA,IAAkB,SAAyBZ,CAAAA,EAAGa,CAAAA;YAAK,OAAAb,EAAE,SAAA,GAAYa,GAAUb;QAAG,GAAUY,GAAgBZ,GAAGa;IAAI;IAEzK,IAAI6H,KAAuB,SAAU3H,CAAAA;QACnCN,GAAeiI,GAAS3H;QAExB,SAAS2H,EAAQvK,CAAAA;YACf,IAAI6C;YAEJ,OAAAA,IAAQD,EAAM,IAAA,CAAK,IAAA,EAAM5C,MAAS,IAAA,EAClC6C,EAAM,IAAA,GAAO6B,GAAO,OAAA,EACpB7B,EAAM,KAAA,GAAQ,KACPA;QACT;QAEA,OAAO0H;IACT,EAAE7I,GAAM,OAAU;IAElB7J,GAAQ,OAAA,GAAa0S;IACrBhS,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC/BzB,IAAA2S,KAAA5S,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa4S;IAErB,SAASA,GAAcC,CAAAA;QACrB,OAAOA,EAAK,IAAA,CAAK,SAAUC,CAAAA,EAAGC,CAAAA;YAC5B,OAAOD,IAAIC;QACb;IACF;IAGArS,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACZzB,IAAAgT,KAAAjT,EAAAC,CAAAA;IAAA;IAEAA,EAAQ,UAAA,GAAa,CAAA;IACrBA,EAAQ,UAAA,GAAaA,EAAQ,IAAA,GAAOA,EAAQ,OAAA,GAAUA,EAAQ,GAAA,GAAMA,EAAQ,GAAA,GAAMA,EAAQ,OAAA,GAAUA,EAAQ,IAAA,GAAOA,EAAQ,EAAA,GAAKA,EAAQ,SAAA,GAAYA,EAAQ,IAAA,GAAOA,EAAQ,KAAA,GAAQA,EAAQ,WAAA,GAAcA,EAAQ,WAAA,GAAcA,EAAQ,KAAA,GAAQA,EAAQ,WAAA,GAAcA,EAAQ,IAAA,GAAOA,EAAQ,MAAA,GAASA,EAAQ,IAAA,GAAOA,EAAQ,KAAA,GAAQA,EAAQ,KAAA,GAAQA,EAAQ,MAAA,GAASA,EAAQ,WAAA,GAAcA,EAAQ,UAAA,GAAaA,EAAQ,gBAAA,GAAmBA,EAAQ,eAAA,GAAkBA,EAAQ,SAAA,GAAYA,EAAQ,KAAA,GAAQA,EAAQ,KAAA,GAAQA,EAAQ,EAAA,GAAKA,EAAQ,QAAA,GAAWA,EAAQ,SAAA,GAAY,KAAA;IAC7iB,IAAIiT,KAAY;IAEhBjT,EAAQ,SAAA,GAAYiT;IACpB,IAAIC,KAAW;IAEflT,EAAQ,QAAA,GAAWkT;IACnB,IAAIC,KAAK;IAETnT,EAAQ,EAAA,GAAKmT;IACb,IAAIC,KAAQ;IAEZpT,EAAQ,KAAA,GAAQoT;IAChB,IAAIC,KAAQ;IAEZrT,EAAQ,KAAA,GAAQqT;IAChB,IAAIC,KAAY;IAEhBtT,EAAQ,SAAA,GAAYsT;IACpB,IAAIC,KAAkB;IAEtBvT,EAAQ,eAAA,GAAkBuT;IAC1B,IAAIC,KAAmB;IAEvBxT,EAAQ,gBAAA,GAAmBwT;IAC3B,IAAIC,KAAa;IAEjBzT,EAAQ,UAAA,GAAayT;IACrB,IAAIC,KAAc;IAElB1T,EAAQ,WAAA,GAAc0T;IACtB,IAAIC,KAAS;IAEb3T,EAAQ,MAAA,GAAS2T;IACjB,IAAIC,KAAQ;IAEZ5T,EAAQ,KAAA,GAAQ4T;IAChB,IAAIC,KAAQ;IAEZ7T,EAAQ,KAAA,GAAQ6T;IAChB,IAAIC,KAAO;IAEX9T,EAAQ,IAAA,GAAO8T;IACf,IAAIC,KAAS;IAEb/T,EAAQ,MAAA,GAAS+T;IACjB,IAAIC,KAAO;IAEXhU,EAAQ,IAAA,GAAOgU;IACf,IAAIC,KAAc;IAElBjU,EAAQ,WAAA,GAAciU;IACtB,IAAIC,KAAQ;IAEZlU,EAAQ,KAAA,GAAQkU;IAChB,IAAIC,KAAc;IAElBnU,EAAQ,WAAA,GAAcmU;IACtB,IAAIC,KAAc;IAElBpU,EAAQ,WAAA,GAAcoU;IACtB,IAAIC,KAAQ;IAEZrU,EAAQ,KAAA,GAAQqU;IAChB,IAAIC,KAAO;IAEXtU,EAAQ,IAAA,GAAOsU;IACf,IAAIC,KAAY;IAEhBvU,EAAQ,SAAA,GAAYuU;IACpB,IAAIC,KAAK;IAETxU,EAAQ,EAAA,GAAKwU;IACb,IAAIC,KAAO;IAEXzU,EAAQ,IAAA,GAAOyU;IACf,IAAIC,KAAU;IAEd1U,EAAQ,OAAA,GAAU0U;IAClB,IAAIC,KAAM;IAGV3U,EAAQ,GAAA,GAAM2U;IACd,IAAItP,KAAM8O;IAEVnU,EAAQ,GAAA,GAAMqF;IACd,IAAIuP,KAAU,CAAA;IACd5U,EAAQ,OAAA,GAAU4U;IAClB,IAAIC,KAAO,CAAA;IACX7U,EAAQ,IAAA,GAAO6U;IACf,IAAIC,KAAa,CAAA;IACjB9U,EAAQ,UAAA,GAAa8U;AAAAA;AC9FrB,IAAAC,KAAAhV,EAAAC,CAAAA;IAAA;IAEAA,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAagV;IACrBhV,GAAQ,MAAA,GAAS,KAAA;IAEjB,IAAIiV,IAAItS,GAAwB,OAE5BuS,IAAcC;IAElB,SAASvS;QAA6B,IAAI,OAAO,WAAY,YAAY,OAAO;QAAM,IAAII,IAAQ,IAAI;QAAW,OAAAJ,KAA2B;YAAsC,OAAOI;QAAO,GAAUA;IAAO;IAEjN,SAASL,GAAwBrB,CAAAA;QAAO,IAAIA,KAAOA,EAAI,UAAA,EAAc,OAAOA;QAAO,IAAIA,MAAQ,QAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,YAAc,OAAO;YAAE,SAAWA;QAAI;QAAK,IAAI0B,IAAQJ;QAA4B,IAAII,KAASA,EAAM,GAAA,CAAI1B,IAAQ,OAAO0B,EAAM,GAAA,CAAI1B;QAAQ,IAAI2B,IAAS,CAAC,GAAOC,IAAwB,OAAO,cAAA,IAAkB,OAAO,wBAAA;QAA0B,IAAA,IAASjC,KAAOK,EAAO,IAAI,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAKA,GAAKL,IAAM;YAAE,IAAIkC,IAAOD,IAAwB,OAAO,wBAAA,CAAyB5B,GAAKL,KAAO;YAAUkC,KAAAA,CAASA,EAAK,GAAA,IAAOA,EAAK,GAAA,IAAQ,OAAO,cAAA,CAAeF,GAAQhC,GAAKkC,KAAgBF,CAAAA,CAAOhC,EAAG,GAAIK,CAAAA,CAAIL,EAAQ;QAAA;QAAI,OAAAgC,EAAO,OAAA,GAAa3B,GAAS0B,KAASA,EAAM,GAAA,CAAI1B,GAAK2B,IAAkBA;IAAQ;IAE3uB,IAAImS,KAAAA,CAAeF,KAAe,CAAC,GAAGA,EAAAA,CAAaD,EAAE,GAAG,CAAA,GAAI,CAAA,GAAMC,EAAAA,CAAaD,EAAE,OAAO,CAAA,GAAI,CAAA,GAAMC,EAAAA,CAAaD,EAAE,EAAE,CAAA,GAAI,CAAA,GAAMC,EAAAA,CAAaD,EAAE,IAAI,CAAA,GAAI,CAAA,GAAMC,EAAAA,GACtJG,KAAAA,CAAkBF,IAAkB,CAAC,GAAGA,CAAAA,CAAgBF,EAAE,KAAK,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,GAAG,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,OAAO,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,EAAE,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,IAAI,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,SAAS,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,QAAQ,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,IAAI,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,KAAK,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,KAAK,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,SAAS,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,eAAe,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,gBAAgB,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,UAAU,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,WAAW,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,WAAW,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,WAAW,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,IAAI,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,IAAI,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,KAAK,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,WAAW,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,MAAM,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,MAAM,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,KAAK,CAAA,GAAI,CAAA,GAAME,CAAAA,CAAgBF,EAAE,KAAK,CAAA,GAAI,CAAA,GAAME,CAAAA,GACz5B5P,KAAM,CAAC,GACP+P,KAAW;IAEf,IAAStP,KAAI,GAAGA,KAAIsP,GAAS,MAAA,EAAQtP,KACnCT,EAAAA,CAAI+P,GAAS,UAAA,CAAWtP,IAAE,GAAI,CAAA;IADvB,IAAAA;IAUT,SAASuP,GAAYC,CAAAA,EAAKC,CAAAA;QACxB,IAAIC,IAAOD,GACPhQ;QAEJ,GAAG;YAGD,IAFAA,IAAO+P,EAAI,UAAA,CAAWE,IAElBL,EAAAA,CAAe5P,EAAI,EACrB,OAAOiQ,IAAO;YACLjQ,MAASwP,EAAE,SAAA,GACpBS,IAAOC,GAAcH,GAAKE,KAAQ,IAGlCA;QAEJ,QAASA,IAAOF,EAAI,MAAA,CAEpB;QAAA,OAAOE,IAAO;IAChB;IAQA,SAASC,GAAcH,CAAAA,EAAKC,CAAAA;QAC1B,IAAIC,IAAOD,GACPhQ,IAAO+P,EAAI,UAAA,CAAWE,IAAO;QAEjC,IAAI,CAAAN,EAAAA,CAAY3P,EAAI,EACb,IAAIF,EAAAA,CAAIE,EAAI,EAAG;YACpB,IAAImQ,IAAY;YAEhB,GACEF,KACAE,KACAnQ,IAAO+P,EAAI,UAAA,CAAWE,IAAO;mBACtBnQ,EAAAA,CAAIE,EAAI,IAAKmQ,IAAY,EAG9BA;YAAAA,IAAY,KAAKnQ,MAASwP,EAAE,KAAA,IAC9BS;QAEJ,OAEEA;QAGF,OAAOA;IACT;IAEA,IAAIG,KAAS;QACX,MAAM;QACN,YAAY;QACZ,WAAW;QACX,UAAU;QACV,SAAS;QACT,WAAW;QACX,SAAS;IACX;IACA7V,GAAQ,MAAA,GAAS6V;IAEjB,SAASb,GAASc,CAAAA;QAChB,IAAIC,IAAS,EAAC,EACVP,IAAMM,EAAM,GAAA,CAAI,OAAA,IAChBE,IAAOR,GACPrH,IAAS6H,EAAK,MAAA,EACdC,IAAS,CAAA,GACTtN,IAAO,GACP8M,IAAQ,GACRS,IAAM,GACNzQ,GAAMnC,GAAS6S,GAAWC,GAASxH,GAASyH,GAAWC,GAAMC,GAAOb,GAAMc,GAAUC,GAAY3I,GAAO4I;QAE3G,SAASC,EAASC,CAAAA,EAAMC,CAAAA;YACtB,IAAIf,EAAM,IAAA,EAERN,KAAOqB,GACPnB,IAAOF,EAAI,MAAA,GAAS;iBAEpB,MAAMM,EAAM,KAAA,CAAM,cAAcc,GAAMjO,GAAM8M,IAAQQ,GAAQR;QAEhE;QAEA,MAAOA,IAAQtH,GAAQ;YAQrB,OAPA1I,IAAO+P,EAAI,UAAA,CAAWC,IAElBhQ,MAASwP,EAAE,OAAA,IAAA,CACbgB,IAASR,GACT9M,KAAQ,CAAA,GAGFlD;gBACN,KAAKwP,EAAE,KAAA;gBACP,KAAKA,EAAE,GAAA;gBACP,KAAKA,EAAE,OAAA;gBACP,KAAKA,EAAE,EAAA;gBACP,KAAKA,EAAE,IAAA;oBACLS,IAAOD;oBAEP,GACEC,KAAQ,GACRjQ,IAAO+P,EAAI,UAAA,CAAWE,IAElBjQ,MAASwP,EAAE,OAAA,IAAA,CACbgB,IAASP,GACT/M,KAAQ,CAAA;2BAEHlD,MAASwP,EAAE,KAAA,IAASxP,MAASwP,EAAE,OAAA,IAAWxP,MAASwP,EAAE,GAAA,IAAOxP,MAASwP,EAAE,EAAA,IAAMxP,MAASwP,EAAE,IAAA,CAEjGyB;oBAAAA,IAAYzB,EAAE,KAAA,EACdmB,IAAUzN,GACVwN,IAAYT,IAAOO,IAAS,GAC5BC,IAAMR;oBACN;gBAEF,KAAKT,EAAE,IAAA;gBACP,KAAKA,EAAE,WAAA;gBACP,KAAKA,EAAE,KAAA;gBACP,KAAKA,EAAE,IAAA;oBACLS,IAAOD;oBAEP,GACEC,KAAQ,GACRjQ,IAAO+P,EAAI,UAAA,CAAWE;2BACfjQ,MAASwP,EAAE,IAAA,IAAQxP,MAASwP,EAAE,WAAA,IAAexP,MAASwP,EAAE,KAAA,IAASxP,MAASwP,EAAE,IAAA,CAErFyB;oBAAAA,IAAYzB,EAAE,UAAA,EACdmB,IAAUzN,GACVwN,IAAYV,IAAQQ,GACpBC,IAAMR;oBACN;gBAGF,KAAKT,EAAE,QAAA;gBACP,KAAKA,EAAE,SAAA;gBACP,KAAKA,EAAE,IAAA;gBACP,KAAKA,EAAE,KAAA;gBACP,KAAKA,EAAE,MAAA;gBACP,KAAKA,EAAE,MAAA;gBACP,KAAKA,EAAE,KAAA;gBACP,KAAKA,EAAE,UAAA;gBACP,KAAKA,EAAE,WAAA;gBACP,KAAKA,EAAE,KAAA;gBACP,KAAKA,EAAE,SAAA;gBACP,KAAKA,EAAE,eAAA;gBACP,KAAKA,EAAE,gBAAA;oBACLS,IAAOD,GACPiB,IAAYjR,GACZ2Q,IAAUzN,GACVwN,IAAYV,IAAQQ,GACpBC,IAAMR,IAAO;oBACb;gBAEF,KAAKT,EAAE,WAAA;gBACP,KAAKA,EAAE,WAAA;oBACLnH,IAAQrI,MAASwP,EAAE,WAAA,GAAc,MAAM,KACvCS,IAAOD;oBAEP,GAUE,IATA7G,IAAU,CAAA,GACV8G,IAAOF,EAAI,OAAA,CAAQ1H,GAAO4H,IAAO,IAE7BA,MAAS,CAAA,KACXiB,EAAS,SAAS7I,IAGpBuI,IAAYX,GAELF,EAAI,UAAA,CAAWa,IAAY,OAAOpB,EAAE,SAAA,EACzCoB,KAAa,GACbzH,IAAU,CAACA;2BAENA,EAET8H;oBAAAA,IAAYzB,EAAE,GAAA,EACdmB,IAAUzN,GACVwN,IAAYV,IAAQQ,GACpBC,IAAMR,IAAO;oBACb;gBAEF;oBACMjQ,MAASwP,EAAE,KAAA,IAASO,EAAI,UAAA,CAAWC,IAAQ,OAAOR,EAAE,QAAA,GAAA,CACtDS,IAAOF,EAAI,OAAA,CAAQ,MAAMC,IAAQ,KAAK,GAElCC,MAAS,KACXiB,EAAS,WAAW,OAGtBrT,IAAUkS,EAAI,KAAA,CAAMC,GAAOC,IAAO,IAClCa,IAAQjT,EAAQ,KAAA,CAAM,CAAA;AAAA,CAAI,GAC1BgT,IAAOC,EAAM,MAAA,GAAS,GAElBD,IAAO,IAAA,CACTE,IAAW7N,IAAO2N,GAClBG,IAAaf,IAAOa,CAAAA,CAAMD,EAAI,CAAE,MAAA,IAAA,CAEhCE,IAAW7N,GACX8N,IAAaR,CAAAA,GAGfS,IAAYzB,EAAE,OAAA,EACdtM,IAAO6N,GACPJ,IAAUI,GACVL,IAAYT,IAAOe,CAAAA,IACVhR,MAASwP,EAAE,KAAA,GAAA,CACpBS,IAAOD,GACPiB,IAAYjR,GACZ2Q,IAAUzN,GACVwN,IAAYV,IAAQQ,GACpBC,IAAMR,IAAO,CAAA,IAAA,CAEbA,IAAOH,GAAYC,GAAKC,IACxBiB,IAAYzB,EAAE,IAAA,EACdmB,IAAUzN,GACVwN,IAAYT,IAAOO,CAAAA,GAGrBC,IAAMR,IAAO;oBACb;YACJ;YAGAK,EAAO,IAAA,CAAK;gBAACW;gBACb/N;gBACA8M,IAAQQ;gBACRG;gBACAD;gBACAV;gBACAS;aACC,GAEGO,KAAAA,CACFR,IAASQ,GACTA,IAAa,IAAA,GAGfhB,IAAQS;QACV;QAEA,OAAOH;IACT;AAAA;AC9QA,IAAAe,KAAA/W,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAI+W,KAAQ1V,GAAuB,OAE/B2V,KAAY3V,GAAuB,OAEnC4V,KAAa5V,GAAuB,OAEpC6V,KAAW7V,GAAuB,OAElC8V,KAAM9V,GAAuB,OAE7B+V,KAAO/V,GAAuB,OAE9BgW,KAAUhW,GAAuB,OAEjCiW,KAAUjW,GAAuB,OAEjCkW,KAAa5U,GAAwB,OAErC6U,KAAanW,GAAuB,OAEpCoW,KAAcpW,GAAuB,OAErCqW,KAAWrW,GAAuB,OAElCsW,KAAiBtW,GAAuB,OAExCuW,IAAYjV,GAAwB,OAEpCoT,IAASpT,GAAwB,OAEjCmH,KAAQnH,GAAwB,OAEhC2E,KAAQ,MAERuQ,IAAoBC;IAExB,SAASlV;QAA6B,IAAI,OAAO,WAAY,YAAY,OAAO;QAAM,IAAII,IAAQ,IAAI;QAAW,OAAAJ,KAA2B;YAAsC,OAAOI;QAAO,GAAUA;IAAO;IAEjN,SAASL,GAAwBrB,CAAAA;QAAO,IAAIA,KAAOA,EAAI,UAAA,EAAc,OAAOA;QAAO,IAAIA,MAAQ,QAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,YAAc,OAAO;YAAE,SAAWA;QAAI;QAAK,IAAI0B,IAAQJ;QAA4B,IAAII,KAASA,EAAM,GAAA,CAAI1B,IAAQ,OAAO0B,EAAM,GAAA,CAAI1B;QAAQ,IAAI2B,IAAS,CAAC,GAAOC,IAAwB,OAAO,cAAA,IAAkB,OAAO,wBAAA;QAA0B,IAAA,IAASjC,KAAOK,EAAO,IAAI,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAKA,GAAKL,IAAM;YAAE,IAAIkC,IAAOD,IAAwB,OAAO,wBAAA,CAAyB5B,GAAKL,KAAO;YAAUkC,KAAAA,CAASA,EAAK,GAAA,IAAOA,EAAK,GAAA,IAAQ,OAAO,cAAA,CAAeF,GAAQhC,GAAKkC,KAAgBF,CAAAA,CAAOhC,EAAG,GAAIK,CAAAA,CAAIL,EAAQ;QAAA;QAAI,OAAAgC,EAAO,OAAA,GAAa3B,GAAS0B,KAASA,EAAM,GAAA,CAAI1B,GAAK2B,IAAkBA;IAAQ;IAE3uB,SAAS5B,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,SAASiG,GAAkB1F,CAAAA,EAAQwE,CAAAA;QAAS,IAAA,IAASL,IAAI,GAAGA,IAAIK,EAAM,MAAA,EAAQL,IAAK;YAAE,IAAIwB,IAAanB,CAAAA,CAAML,EAAC;YAAGwB,EAAW,UAAA,GAAaA,EAAW,UAAA,IAAc,CAAA,GAAOA,EAAW,YAAA,GAAe,CAAA,GAAU,WAAWA,KAAAA,CAAYA,EAAW,QAAA,GAAW,CAAA,CAAA,GAAM,OAAO,cAAA,CAAe3F,GAAQ2F,EAAW,GAAA,EAAKA;QAAa;IAAE;IAE5T,SAASC,GAAaC,CAAAA,EAAaC,CAAAA,EAAYC,CAAAA;QAAe,OAAID,KAAYJ,GAAkBG,EAAY,SAAA,EAAWC,IAAiBC,KAAaL,GAAkBG,GAAaE,IAAqBF;IAAa;IAEtN,IAAIqQ,KAAAA,CAAqBF,KAAqB,CAAC,GAAGA,EAAAA,CAAmB9B,EAAO,KAAK,CAAA,GAAI,CAAA,GAAM8B,EAAAA,CAAmB9B,EAAO,EAAE,CAAA,GAAI,CAAA,GAAM8B,EAAAA,CAAmB9B,EAAO,IAAI,CAAA,GAAI,CAAA,GAAM8B,EAAAA,CAAmB9B,EAAO,OAAO,CAAA,GAAI,CAAA,GAAM8B,EAAAA,CAAmB9B,EAAO,GAAG,CAAA,GAAI,CAAA,GAAM8B,EAAAA,GACvPG,KAA0B,OAAO,MAAA,CAAO,CAAC,GAAGD,IAAAA,CAAoBD,KAAiB,CAAC,GAAGA,EAAAA,CAAe/B,EAAO,OAAO,CAAA,GAAI,CAAA,GAAM+B,EAAAA;IAEhI,SAASG,GAAWC,CAAAA;QAClB,OAAO;YACL,MAAMA,CAAAA,CAAMN,EAAU,MAAA,CAAO,UAAU,CAAA;YACvC,QAAQM,CAAAA,CAAMN,EAAU,MAAA,CAAO,SAAS,CAC1C;QAAA;IACF;IAEA,SAASO,GAASD,CAAAA;QAChB,OAAO;YACL,MAAMA,CAAAA,CAAMN,EAAU,MAAA,CAAO,QAAQ,CAAA;YACrC,QAAQM,CAAAA,CAAMN,EAAU,MAAA,CAAO,OAAO,CACxC;QAAA;IACF;IAEA,SAASQ,GAAUC,CAAAA,EAAWC,CAAAA,EAAalC,CAAAA,EAASD,CAAAA;QAClD,OAAO;YACL,OAAO;gBACL,MAAMkC;gBACN,QAAQC;YACV;YACA,KAAK;gBACH,MAAMlC;gBACN,QAAQD;YACV;QACF;IACF;IAEA,SAASoC,GAAeL,CAAAA;QACtB,OAAOE,GAAUF,CAAAA,CAAMN,EAAU,MAAA,CAAO,UAAU,CAAA,EAAGM,CAAAA,CAAMN,EAAU,MAAA,CAAO,SAAS,CAAA,EAAGM,CAAAA,CAAMN,EAAU,MAAA,CAAO,QAAQ,CAAA,EAAGM,CAAAA,CAAMN,EAAU,MAAA,CAAO,OAAO,CAAC;IAC3J;IAEA,SAASY,GAAmBC,CAAAA,EAAYC,CAAAA;QACtC,IAAKD,GAIL,OAAOL,GAAUK,CAAAA,CAAWb,EAAU,MAAA,CAAO,UAAU,CAAA,EAAGa,CAAAA,CAAWb,EAAU,MAAA,CAAO,SAAS,CAAA,EAAGc,CAAAA,CAASd,EAAU,MAAA,CAAO,QAAQ,CAAA,EAAGc,CAAAA,CAASd,EAAU,MAAA,CAAO,OAAO,CAAC;IAC3K;IAEA,SAASe,GAAatN,CAAAA,EAAM9E,CAAAA;QAC1B,IAAIrG,IAAQmL,CAAAA,CAAK9E,EAAI;QAErB,IAAI,OAAOrG,KAAU,UAIrB,OAAIA,EAAM,OAAA,CAAQ,UAAU,CAAA,KAAA,CAAA,CAAA,GACtBoH,GAAM,YAAA,EAAc+D,GAAM,SAC9BA,CAAAA,CAAK9E,EAAI,GAAA,CAAA,GAAQe,GAAM,KAAA,EAAOpH,IAE1BmL,EAAK,IAAA,CAAK9E,EAAI,KAAM,KAAA,KAAA,CACtB8E,EAAK,IAAA,CAAK9E,EAAI,GAAIrG,CAAAA,CAAAA,GAIfmL;IACT;IAEA,SAASuN,GAAUC,CAAAA,EAAOC,CAAAA;QAIxB,IAAA,IAHI9S,IAAI,CAAA,GACJ+S,IAAU,EAAC,EAAA,CAEP/S,IAAI6S,EAAM,OAAA,CAAQC,GAAM9S,IAAI,EAAC,MAAO,CAAA,GAC1C+S,EAAQ,IAAA,CAAK/S;QAGf,OAAO+S;IACT;IAEA,SAASC;QACP,IAAInG,IAAO,MAAM,SAAA,CAAU,MAAA,CAAO,KAAA,CAAM,EAAC,EAAG;QAC5C,OAAOA,EAAK,MAAA,CAAO,SAAUiG,CAAAA,EAAM9S,CAAAA;YACjC,OAAOA,MAAM6M,EAAK,OAAA,CAAQiG;QAC5B;IACF;IAEA,IAAIG,KAAsB;QACxB,SAASA,EAAOC,CAAAA,EAAMjM,CAAAA;YAChBA,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA,GAGb,IAAA,CAAK,IAAA,GAAOiM,GACZ,IAAA,CAAK,OAAA,GAAU,OAAO,MAAA,CAAO;gBAC3B,OAAO,CAAA;gBACP,MAAM,CAAA;YACR,GAAGjM,IACH,IAAA,CAAK,QAAA,GAAW,GAChB,IAAA,CAAK,GAAA,GAAM,OAAO,IAAA,CAAK,IAAA,IAAS,WAAW,IAAA,CAAK,IAAA,GAAO,IAAA,CAAK,IAAA,CAAK,QAAA,EACjE,IAAA,CAAK,MAAA,GAAA,CAAA,GAAa2K,EAAU,OAAA,EAAY;gBACtC,KAAK,IAAA,CAAK,GAAA;gBACV,OAAO,IAAA,CAAK,eAAA;gBACZ,MAAM,IAAA,CAAK,OAAA,CAAQ,IACrB;YAAA;YACA,IAAIuB,IAAaX,GAAmB,IAAA,CAAK,MAAA,CAAO,EAAC,EAAG,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS,EAAE;YACvF,IAAA,CAAK,IAAA,GAAO,IAAIzB,GAAM,OAAA,CAAW;gBAC/B,QAAQoC;YACV,IACA,IAAA,CAAK,IAAA,CAAK,cAAA,GAAiB,IAAA,CAAK,eAAA;YAChC,IAAIlO,IAAW,IAAI+L,GAAU,OAAA,CAAW;gBACtC,QAAQ;oBACN,OAAO;wBACL,MAAM;wBACN,QAAQ;oBACV;gBACF;YACF;YACA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO/L,IACjB,IAAA,CAAK,OAAA,GAAUA,GACf,IAAA,CAAK,IAAA;QACP;QAEA,IAAI7C,IAAS6Q,EAAO,SAAA;QAEpB,OAAA7Q,EAAO,eAAA,GAAkB;YACvB,IAAI4C,IAAQ,IAAA;YAEZ,OAAO,SAAUgC,CAAAA,EAASoM,CAAAA;gBACxB,OAAI,OAAOpO,EAAM,IAAA,IAAS,WACjB,IAAI,MAAMgC,KAGZhC,EAAM,IAAA,CAAK,KAAA,CAAMgC,GAASoM;YACnC;QACF,GAEAhR,EAAO,SAAA,GAAY;YACjB,IAAIiR,IAAO,EAAC,EACRC,IAAgB,IAAA,CAAK,SAAA;YAGzB,IAFA,IAAA,CAAK,QAAA,IAEE,IAAA,CAAK,QAAA,GAAW,IAAA,CAAK,MAAA,CAAO,MAAA,IAAU,IAAA,CAAK,SAAA,CAAU1B,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,WAAA,EAC5FsD,EAAK,IAAA,CAAK,IAAA,CAAK,SAAS,GACxB,IAAA,CAAK,QAAA;YAGP,IAAI,IAAA,CAAK,SAAA,CAAUzB,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,WAAA,EACnD,OAAO,IAAA,CAAK,QAAA,CAAS,0BAA0B,IAAA,CAAK,SAAA,CAAU6B,EAAU,MAAA,CAAO,SAAS,CAAC;YAG3F,IAAIrN,IAAM8O,EAAK,MAAA,EACXhO,IAAO;gBACT,QAAQ+M,GAAUkB,CAAAA,CAAc,EAAC,EAAGA,CAAAA,CAAc,EAAC,EAAG,IAAA,CAAK,SAAA,CAAU,EAAC,EAAG,IAAA,CAAK,SAAA,CAAU,EAAE;gBAC1F,aAAaA,CAAAA,CAAc1B,EAAU,MAAA,CAAO,SAAS,CACvD;YAAA;YAEA,IAAIrN,MAAQ,KAAK,CAAC,CAAC;gBAACwL,EAAO,IAAI;aAAA,CAAE,OAAA,CAAQsD,CAAAA,CAAK,EAAC,CAAEzB,EAAU,MAAA,CAAO,IAAI,CAAC,GACrE,OAAO,IAAA,CAAK,QAAA,CAAS,aAAayB,CAAAA,CAAK,EAAC,CAAEzB,EAAU,MAAA,CAAO,SAAS,CAAC;YASvE,IAAA,IANI2B,IAAM,GACNC,IAAc,IACdC,IAAgB,IAChBC,IAAY,MACZC,IAA4B,CAAA,GAEzBJ,IAAMhP,GAAK;gBAChB,IAAI2N,IAAQmB,CAAAA,CAAKE,EAAG,EAChBjW,IAAU,IAAA,CAAK,OAAA,CAAQ4U,IACvBxC,IAAO2D,CAAAA,CAAKE,IAAM,EAAC;gBAEvB,OAAQrB,CAAAA,CAAMN,EAAU,MAAA,CAAO,IAAI,CAAA;oBACjC,KAAK7B,EAAO,KAAA;wBASV,IAFA4D,IAA4B,CAAA,GAExB,IAAA,CAAK,OAAA,CAAQ,KAAA,EACf;wBAGF,IAAID,GAAW;4BAAA,CAAA,GACTpS,GAAM,YAAA,EAAc+D,GAAM,UAAUqO;4BACxC,IAAIE,IAAcvO,EAAK,MAAA,CAAOqO,EAAS,CAAE,KAAA,IAAS;4BAClDrO,EAAK,MAAA,CAAOqO,EAAS,CAAE,KAAA,GAAQE,IAActW;4BAC7C,IAAIuW,IAAAA,CAAAA,GAAsBvS,GAAM,OAAA,EAAS+D,GAAM,QAAQ,UAAUqO,GAAW,YAAY;4BAEpFG,KAAAA,CACFxO,EAAK,IAAA,CAAK,MAAA,CAAOqO,EAAS,CAAE,KAAA,GAAQG,IAAkBvW,CAAAA;wBAE1D,OACEkW,IAAcA,IAAclW,GAC5BmW,IAAgBA,IAAgBnW;wBAGlC;oBAEF,KAAKyS,EAAO,QAAA;wBACV,IAAIL,CAAAA,CAAKkC,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,MAAA,EACzC1K,EAAK,QAAA,GAAW/H,GAChBoW,IAAY;6BAAA,IAAA,CACF,CAACrO,EAAK,SAAA,IAAaqO,MAAc,eAAe,CAACC,CAAAA,KAA8BjE,GAAM;4BAC3F8D,KAAAA,CAAAA,CAAAA,GACElS,GAAM,YAAA,EAAc+D,GAAM,UAAU,cACxCA,EAAK,MAAA,CAAO,SAAA,CAAU,MAAA,GAASmO,GAC/BA,IAAc,EAAA,GAGZC,KAAAA,CAAAA,CAAAA,GACEnS,GAAM,YAAA,EAAc+D,GAAM,QAAQ,UAAU,cAChDA,EAAK,IAAA,CAAK,MAAA,CAAO,SAAA,CAAU,MAAA,GAASmO,GACpCC,IAAgB,EAAA,GAGlBpO,EAAK,SAAA,GAAA,CAAaA,EAAK,SAAA,IAAa,EAAA,IAAM/H;4BAC1C,IAAI+N,IAAAA,CAAAA,GAAe/J,GAAM,OAAA,EAAS+D,GAAM,QAAQ,gBAAgB;4BAE5DgG,KAAAA,CACFhG,EAAK,IAAA,CAAK,SAAA,IAAa/H,CAAAA,GAGzBoW,IAAY;wBACd;wBAEAC,IAA4B,CAAA;wBAC5B;oBAEF,KAAK5D,EAAO,MAAA;wBACV,IAAI2D,MAAc,SAAS;4BACzB,IAAII,IAAAA,CAAAA,GAAkBxS,GAAM,OAAA,EAAS+D,GAAM,QAAQ;4BACnDA,EAAK,KAAA,IAAS,KAEVyO,KAAAA,CACFzO,EAAK,IAAA,CAAK,KAAA,GAAQyO,IAAc,GAAA;4BAGlC;wBACF;oBAIF,KAAK/D,EAAO,KAAA;wBACNL,CAAAA,CAAKkC,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,MAAA,IAAA,CACzC1K,EAAK,QAAA,GAAW/H,GAChBoW,IAAY,UAAA,GAGdC,IAA4B,CAAA;wBAC5B;oBAEF,KAAK5D,EAAO,UAAA;wBAMV,IALIzS,MAAY,OAAOoS,CAAAA,CAAKkC,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,MAAA,IAAA,CAC5D1K,EAAK,QAAA,GAAW/H,GAChBoW,IAAY,UAAA,GAGVpW,MAAY,KAAK;4BACnBqW,IAA4B,CAAA;4BAC5B;wBACF;wBAEIjE,CAAAA,CAAKkC,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,MAAA,GAAA,CACzC1K,EAAK,QAAA,GAAW/H,GAChBoW,IAAY,UAAA,IACH,CAACrO,EAAK,SAAA,IAAa,CAACA,EAAK,SAAA,IAAA,CAClCA,EAAK,SAAA,GAAY,CAAA,CAAA,GAGnBsO,IAA4B,CAAA;wBAC5B;oBAEF,KAAK5D,EAAO,IAAA;wBACV,IAAIL,KAAQ,IAAA,CAAK,OAAA,CAAQA,OAAU,OAAO2D,CAAAA,CAAKE,IAAM,EAAC,IAAKF,CAAAA,CAAKE,IAAM,EAAC,CAAE3B,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,MAAA,IAC3G,CAAC1K,EAAK,QAAA,IAAY,CAACA,EAAK,SAAA,EACtBA,EAAK,SAAA,GAAY/H,GACjBoW,IAAY;6BAAA,IACH,CAACrO,EAAK,SAAA,IAAaqO,MAAc,eAAe,CAACC,GAA2B;4BACjFH,KAAAA,CAAAA,CAAAA,GACElS,GAAM,YAAA,EAAc+D,GAAM,UAAU,cACxCA,EAAK,MAAA,CAAO,SAAA,CAAU,MAAA,GAASmO,GAC/BA,IAAc,EAAA,GAGZC,KAAAA,CAAAA,CAAAA,GACEnS,GAAM,YAAA,EAAc+D,GAAM,QAAQ,UAAU,cAChDA,EAAK,IAAA,CAAK,MAAA,CAAO,SAAA,CAAU,MAAA,GAASoO,GACpCA,IAAgB,EAAA,GAGlBpO,EAAK,SAAA,GAAA,CAAaA,EAAK,SAAA,IAAa,EAAA,IAAM/H;4BAE1C,IAAIyW,IAAAA,CAAAA,GAAgBzS,GAAM,OAAA,EAAS+D,GAAM,QAAQ,gBAAgB;4BAE7D0O,KAAAA,CACF1O,EAAK,IAAA,CAAK,SAAA,IAAa/H,CAAAA,GAGzBoW,IAAY;wBACd,OAAA,IAAW,CAACrO,EAAK,KAAA,IAASA,EAAK,KAAA,KAAU,MAAMqO,MAAc,WAAW,CAACC,GAA2B;4BAClG,IAAIK,IAAAA,CAAAA,GAAiB1S,GAAM,KAAA,EAAOhE,IAE9B2W,IAAAA,CAAAA,GAAmB3S,GAAM,OAAA,EAAS+D,GAAM,QAAQ,YAAY,IAE5D6O,IAAW7O,EAAK,KAAA,IAAS;4BAC7BA,EAAK,KAAA,GAAQ6O,IAAWF,GACxB3O,EAAK,SAAA,GAAY,MAAA,CAEb2O,MAAe1W,KAAW2W,CAAAA,KAAAA,CAAAA,CAAAA,GACxB3S,GAAM,YAAA,EAAc+D,GAAM,SAC9BA,EAAK,IAAA,CAAK,KAAA,GAAA,CAAS4O,KAAgBC,CAAAA,IAAY5W,CAAAA,GAGjDoW,IAAY;wBACd,OAAO;4BACL,IAAIS,IAAc7W,MAAY,OAAOA,MAAY;4BAAA,CAE5C+H,EAAK,KAAA,IAASA,EAAK,KAAA,KAAU,EAAA,KAAA,CAAQA,EAAK,SAAA,IAAasO,CAAAA,IAAAA,CAC1DtO,EAAK,WAAA,GAAc8O,GAAAA,CAEf,CAACA,KAAe7W,MAAY,GAAA,KAAA,CAAA,CAAA,GAC1BgE,GAAM,YAAA,EAAc+D,GAAM,SAC9BA,EAAK,IAAA,CAAK,eAAA,GAAkB/H,CAAAA,GAG9BoW,IAAY,eAERF,KAAAA,CAAAA,CAAAA,GACElS,GAAM,YAAA,EAAc+D,GAAM,UAAU,gBACxCA,EAAK,MAAA,CAAO,WAAA,CAAY,MAAA,GAASmO,GACjCA,IAAc,EAAA,GAGZC,KAAAA,CAAAA,CAAAA,GACEnS,GAAM,YAAA,EAAc+D,GAAM,QAAQ,UAAU,gBAChDA,EAAK,IAAA,CAAK,MAAA,CAAO,WAAA,CAAY,MAAA,GAASoO,GACtCA,IAAgB,EAAA,CAAA,IAAA,CAETpO,EAAK,KAAA,IAASA,EAAK,KAAA,KAAU,EAAA,KAAA,CACtCqO,IAAY,SACZrO,EAAK,KAAA,IAAS/H,GAEV+H,EAAK,IAAA,CAAK,KAAA,IAAA,CACZA,EAAK,IAAA,CAAK,KAAA,IAAS/H,CAAAA,CAAAA;wBAGzB;wBAEAqW,IAA4B,CAAA;wBAC5B;oBAEF,KAAK5D,EAAO,GAAA;wBACV,IAAI,CAAC1K,EAAK,SAAA,IAAa,CAACA,EAAK,QAAA,EAC3B,OAAO,IAAA,CAAK,KAAA,CAAM,uEAAuE;4BACvF,OAAO6M,CAAAA,CAAMN,EAAU,MAAA,CAAO,SAAS,CACzC;wBAAA;wBAGF,IAAI/G,IAAAA,CAAAA,GAAqB0G,GAAW,aAAA,EAAejU,IAC/CoN,IAAYG,EAAe,SAAA,EAC3BJ,KAAYI,EAAe,SAAA;wBAE/BxF,EAAK,KAAA,GAAQqF,GACbrF,EAAK,SAAA,GAAYoF,IACjBiJ,IAAY,SAAA,CAAA,GACRpS,GAAM,YAAA,EAAc+D,GAAM,SAC9BA,EAAK,IAAA,CAAK,KAAA,GAAQ/H,GAClBqW,IAA4B,CAAA;wBAC5B;oBAEF,KAAK5D,EAAO,MAAA;wBACV,IAAI,CAAC1K,EAAK,SAAA,EACR,OAAO,IAAA,CAAK,QAAA,CAAS,aAAa6M,CAAAA,CAAMN,EAAU,MAAA,CAAO,SAAS,CAAA,EAAGtU;wBAGvE,IAAI+H,EAAK,KAAA,EACP,OAAO,IAAA,CAAK,KAAA,CAAM,0DAA0D;4BAC1E,OAAO6M,CAAAA,CAAMN,EAAU,MAAA,CAAO,SAAS,CACzC;wBAAA;wBAGFvM,EAAK,QAAA,GAAWA,EAAK,QAAA,GAAWA,EAAK,QAAA,GAAW/H,IAAUA,GAC1DoW,IAAY,YACZC,IAA4B,CAAA;wBAC5B;oBAEF,KAAK5D,EAAO,OAAA;wBACV,IAAI2D,GACF,IAAIC,KAA6BjE,KAAQA,CAAAA,CAAKkC,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,IAAS2D,MAAc,eAAe;4BACpH,IAAIU,KAAAA,CAAAA,GAAkB9S,GAAM,OAAA,EAAS+D,GAAM,UAAUqO,GAAW,YAAY,IACxEW,KAAAA,CAAAA,GAAqB/S,GAAM,OAAA,EAAS+D,GAAM,QAAQ,UAAUqO,GAAW,YAAYU;4BAAAA,CAAAA,GACnF9S,GAAM,YAAA,EAAc+D,GAAM,QAAQ,UAAUqO,IAChDrO,EAAK,IAAA,CAAK,MAAA,CAAOqO,EAAS,CAAE,KAAA,GAAQW,KAAiB/W;wBACvD,OAAO;4BACL,IAAIgX,IAAYjP,CAAAA,CAAKqO,EAAS,IAAK,IAC/Ba,IAAAA,CAAAA,GAAmBjT,GAAM,OAAA,EAAS+D,GAAM,QAAQqO,MAAcY;4BAAAA,CAAAA,GAC9DhT,GAAM,YAAA,EAAc+D,GAAM,SAC9BA,EAAK,IAAA,CAAKqO,EAAS,GAAIa,IAAejX;wBACxC;6BAEAmW,IAAgBA,IAAgBnW;wBAGlC;oBAEF;wBACE,OAAO,IAAA,CAAK,KAAA,CAAM,iBAAkBA,IAAU,YAAa;4BACzD,OAAO4U,CAAAA,CAAMN,EAAU,MAAA,CAAO,SAAS,CACzC;wBAAA;gBACJ;gBAEA2B;YACF;YAEAZ,GAAatN,GAAM,cACnBsN,GAAatN,GAAM,cACnB,IAAA,CAAK,OAAA,CAAQ,IAAIkM,GAAW,OAAA,CAAWlM,KACvC,IAAA,CAAK,QAAA;QACP,GAeAjD,EAAO,+BAAA,GAAkC,SAAyCoS,CAAAA;YAC5EA,IAAe,KAAA,CACjBA,IAAe,IAAA,CAAK,MAAA,CAAO,MAAA;YAG7B,IAAIC,IAAgB,IAAA,CAAK,QAAA,EACrBC,IAAQ,EAAC,EACTxG,IAAQ,IACRkG,IAAc,KAAA;YAElB,GACE,IAAIrC,EAAAA,CAAkB,IAAA,CAAK,SAAA,CAAUH,EAAU,MAAA,CAAO,IAAI,CAAC,CAAA,EACpD,IAAA,CAAK,OAAA,CAAQ,KAAA,IAAA,CAChB1D,KAAS,IAAA,CAAK,OAAA,EAAQ;iBAAA,IAEf,IAAA,CAAK,SAAA,CAAU0D,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,OAAA,EAAS;gBACnE,IAAIxE,IAAS,CAAC;gBAEV2C,KAAAA,CACF3C,EAAO,MAAA,GAAS2C,GAChBA,IAAQ,EAAA,GAGVkG,IAAc,IAAIlD,GAAS,OAAA,CAAW;oBACpC,OAAO,IAAA,CAAK,OAAA;oBACZ,QAAQqB,GAAe,IAAA,CAAK,SAAS;oBACrC,aAAa,IAAA,CAAK,SAAA,CAAUX,EAAU,MAAA,CAAO,SAAS,CAAA;oBACtD,QAAQrG;gBACV,IACAmJ,EAAM,IAAA,CAAKN;YACb;mBACO,EAAE,IAAA,CAAK,QAAA,GAAWI,EAE3B;YAAA,IAAItG,GAAAA;gBACF,IAAIkG,GACFA,EAAY,MAAA,CAAO,KAAA,GAAQlG;qBAAAA,IAClB,CAAC,IAAA,CAAK,OAAA,CAAQ,KAAA,EAAO;oBAC9B,IAAIyG,IAAa,IAAA,CAAK,MAAA,CAAOF,EAAa,EACtCG,IAAY,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EAAC;oBAC7CF,EAAM,IAAA,CAAK,IAAIrD,GAAQ,OAAA,CAAW;wBAChC,OAAO;wBACP,QAAQe,GAAUuC,CAAAA,CAAW/C,EAAU,MAAA,CAAO,UAAU,CAAA,EAAG+C,CAAAA,CAAW/C,EAAU,MAAA,CAAO,SAAS,CAAA,EAAGgD,CAAAA,CAAUhD,EAAU,MAAA,CAAO,QAAQ,CAAA,EAAGgD,CAAAA,CAAUhD,EAAU,MAAA,CAAO,OAAO,CAAC;wBAC5K,aAAa+C,CAAAA,CAAW/C,EAAU,MAAA,CAAO,SAAS,CAAA;wBAClD,QAAQ;4BACN,QAAQ1D;4BACR,OAAO;wBACT;oBACF;gBACF;YAAA;YAGF,OAAOwG;QACT,GAOAtS,EAAO,6BAAA,GAAgC,SAAuCsS,CAAAA,EAAOG,CAAAA;YACnF,IAAI/O,IAAS,IAAA;YAET+O,MAAkB,KAAA,KAAA,CACpBA,IAAgB,CAAA,CAAA;YAGlB,IAAI3G,IAAQ,IACRrL,IAAW;YACf6R,EAAM,OAAA,CAAQ,SAAUI,CAAAA;gBACtB,IAAItB,IAAc1N,EAAO,UAAA,CAAWgP,EAAE,MAAA,CAAO,MAAA,EAAQD,IAEjDE,IAAiBjP,EAAO,UAAA,CAAWgP,EAAE,cAAA,EAAgBD;gBAEzD3G,KAASsF,IAAc1N,EAAO,UAAA,CAAWgP,EAAE,MAAA,CAAO,KAAA,EAAOD,KAAiBrB,EAAY,MAAA,KAAW,IACjG3Q,KAAY2Q,IAAcsB,EAAE,KAAA,GAAQhP,EAAO,UAAA,CAAWgP,EAAE,aAAA,EAAeD,KAAiBE,EAAe,MAAA,KAAW;YACpH,IAEIlS,MAAaqL,KAAAA,CACfrL,IAAW,KAAA,CAAA;YAGb,IAAIgD,IAAS;gBACX,OAAOqI;gBACP,UAAUrL;YACZ;YACA,OAAOgD;QACT,GAEAzD,EAAO,iBAAA,GAAoB,SAA2B4S,CAAAA;YACpD,OAAIA,MAAa,KAAA,KAAA,CACfA,IAAW,IAAA,CAAK,QAAA,GAGX,IAAA,CAAK,MAAA,CAAOA,IAAW,EAAC,IAAK,IAAA,CAAK,MAAA,CAAOA,IAAW,EAAC,CAAEpD,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,IAAS,IAAA,CAAK,MAAA,CAAOiF,IAAW,EAAC,IAAK,IAAA,CAAK,MAAA,CAAOA,IAAW,EAAC,CAAEpD,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,IAAA,IAAQ,IAAA,CAAK,MAAA,CAAOiF,IAAW,EAAC,IAAK,IAAA,CAAK,MAAA,CAAOA,IAAW,EAAC,CAAEpD,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KACrS;QAAA,GAEA3N,EAAO,eAAA,GAAkB;YACvB,IAAI,IAAA,CAAK,iBAAA,IAAqB;gBAC5B,IAAI6S,IAAU,IAAA,CAAK,OAAA,CAAQ,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EAAE,GACrD1S,IAAAA,CAAAA,GAAWjB,GAAM,KAAA,EAAO2T,GAAS,WAAA,IACjCC,IAAO,CAAC;gBAER3S,MAAS0S,KAAAA,CACXC,EAAK,KAAA,GAAQ,MAAMD,IAAU,GAAA;gBAG/B,IAAI5P,IAAO,IAAIoM,GAAY,OAAA,CAAW;oBACpC,OAAO,MAAMlP,IAAO;oBACpB,QAAQ6P,GAAU,IAAA,CAAK,SAAA,CAAUR,EAAU,MAAA,CAAO,UAAU,CAAA,EAAG,IAAA,CAAK,SAAA,CAAUA,EAAU,MAAA,CAAO,SAAS,CAAA,EAAG,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EAAC,CAAEA,EAAU,MAAA,CAAO,QAAQ,CAAA,EAAG,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EAAC,CAAEA,EAAU,MAAA,CAAO,OAAO,CAAC;oBAC9N,aAAa,IAAA,CAAK,SAAA,CAAUA,EAAU,MAAA,CAAO,SAAS,CAAA;oBACtD,MAAMsD;gBACR;gBACA,OAAA,IAAA,CAAK,QAAA,GAAW,IAAA,CAAK,QAAA,GAAW,GACzB7P;YACT,OACE,IAAA,CAAK,UAAA;QAET,GAEAjD,EAAO,UAAA,GAAa;YAClB,IAAI2D,IAAS,IAAA;YAEb,IAAI,IAAA,CAAK,OAAA,OAAc,KACrB,OAAO,IAAA,CAAK,SAAA;YAId,IAAIoP,IAAkB,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,QAAQ;YAElE,IAAIA,IAAkB,KAAK,IAAA,CAAK,MAAA,CAAOA,EAAe,CAAEvD,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,EAAO;gBAC/F,IAAI2E,IAAQ,IAAA,CAAK,+BAAA,CAAgCS;gBAEjD,IAAIT,EAAM,MAAA,GAAS,GAAG;oBACpB,IAAIpE,IAAO,IAAA,CAAK,OAAA,CAAQ,IAAA;oBAExB,IAAIA,GAAM;wBACR,IAAI8E,IAAwB,IAAA,CAAK,6BAAA,CAA8BV,IAC3DxG,IAAQkH,EAAsB,KAAA,EAC9BvS,IAAWuS,EAAsB,QAAA;wBAEjCvS,MAAa,KAAA,KAAA,CACfyN,EAAK,aAAA,IAAiBzN,CAAAA,GAGxByN,EAAK,MAAA,CAAO,KAAA,IAASpC;oBACvB,OACEwG,EAAM,OAAA,CAAQ,SAAUI,CAAAA;wBACtB,OAAO/O,EAAO,OAAA,CAAQ+O;oBACxB;gBAEJ;gBAEA;YACF;YAEA,IAAIH,IAAa,IAAA,CAAK,SAAA,EAClBU,IAAiC,KAAA;YAEjCF,IAAkB,IAAA,CAAK,QAAA,IAAA,CACzBE,IAAiC,IAAA,CAAK,+BAAA,CAAgCF,EAAe;YAGvF,IAAI9P;YAgBJ,IAdI,IAAA,CAAK,iBAAA,KACPA,IAAO,IAAA,CAAK,eAAA,KACH,IAAA,CAAK,SAAA,CAAUuM,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,UAAA,GAAA,CAC1D1K,IAAO,IAAIoM,GAAY,OAAA,CAAW;gBAChC,OAAO,IAAA,CAAK,OAAA;gBACZ,QAAQc,GAAe,IAAA,CAAK,SAAS;gBACrC,aAAa,IAAA,CAAK,SAAA,CAAUX,EAAU,MAAA,CAAO,SAAS,CACxD;YAAA,IACA,IAAA,CAAK,QAAA,EAAA,IACIG,EAAAA,CAAkB,IAAA,CAAK,SAAA,CAAUH,EAAU,MAAA,CAAO,IAAI,CAAC,CAAA,IACtDyD,KACV,IAAA,CAAK,UAAA,IAGHhQ,GAAAA;gBACF,IAAIgQ,GAAgC;oBAClC,IAAIC,IAAyB,IAAA,CAAK,6BAAA,CAA8BD,IAC5DE,IAASD,EAAuB,KAAA,EAChCE,IAAYF,EAAuB,QAAA;oBAEvCjQ,EAAK,MAAA,CAAO,MAAA,GAASkQ,GACrBlQ,EAAK,cAAA,GAAiBmQ;gBACxB;YAAA,OACK;gBAEL,IAAIC,IAAyB,IAAA,CAAK,6BAAA,CAA8BJ,GAAgC,CAAA,IAC5FK,IAAUD,EAAuB,KAAA,EACjCE,IAAaF,EAAuB,QAAA;gBAEnCE,KAAAA,CACHA,IAAaD,CAAAA;gBAGf,IAAInK,IAAS,CAAC,GACV2J,IAAO;oBACT,QAAQ,CAAC;gBACX;gBAEIQ,EAAQ,QAAA,CAAS,QAAQC,EAAW,QAAA,CAAS,OAAG,CAClDpK,EAAO,MAAA,GAASmK,EAAQ,KAAA,CAAM,GAAGA,EAAQ,MAAA,GAAS,IAClDR,EAAK,MAAA,CAAO,MAAA,GAASS,EAAW,KAAA,CAAM,GAAGA,EAAW,MAAA,GAAS,EAAC,IACrDD,EAAQ,UAAA,CAAW,QAAQC,EAAW,UAAA,CAAW,OAAG,CAC7DpK,EAAO,KAAA,GAAQmK,EAAQ,KAAA,CAAM,IAC7BR,EAAK,MAAA,CAAO,KAAA,GAAQS,EAAW,KAAA,CAAM,EAAC,IAEtCT,EAAK,KAAA,GAAQS,GAGftQ,IAAO,IAAIoM,GAAY,OAAA,CAAW;oBAChC,OAAO;oBACP,QAAQe,GAAmBmC,GAAY,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EAAE;oBACrE,aAAaA,CAAAA,CAAW/C,EAAU,MAAA,CAAO,SAAS,CAAA;oBAClD,QAAQrG;oBACR,MAAM2J;gBACR;YACF;YAEA,OAAI,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,SAAA,CAAUtD,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,IAAA,CACrE1K,EAAK,MAAA,CAAO,KAAA,GAAQ,IAAA,CAAK,aAAA,CAAc,IAAA,CAAK,OAAA,KAC5C,IAAA,CAAK,QAAA,EAAA,GAGA,IAAA,CAAK,OAAA,CAAQA;QACtB,GAEAjD,EAAO,KAAA,GAAQ;YACb,IAAI,IAAA,CAAK,QAAA,KAAa,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS,GAAG;gBAC5C,IAAA,CAAK,IAAA,CAAK,aAAA,GAAgB,CAAA,GAC1B,IAAA,CAAK,QAAA;gBACL;YACF;YAEA,IAAA,CAAK,OAAA,CAAQ,iBAAA;YAEb,IAAI6C,IAAW,IAAI+L,GAAU,OAAA,CAAW;gBACtC,QAAQ;oBACN,OAAOiB,GAAW,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EAAE;gBAClD;YACF;YACA,IAAA,CAAK,OAAA,CAAQ,MAAA,CAAO,MAAA,CAAOhN,IAC3B,IAAA,CAAK,OAAA,GAAUA,GACf,IAAA,CAAK,QAAA;QACP,GAEA7C,EAAO,OAAA,GAAU;YACf,IAAIoE,IAAU,IAAA,CAAK,SAAA;YACnB,IAAA,CAAK,OAAA,CAAQ,IAAI0K,GAAS,OAAA,CAAW;gBACnC,OAAO,IAAA,CAAK,OAAA;gBACZ,QAAQqB,GAAe/L;gBACvB,aAAaA,CAAAA,CAAQoL,EAAU,MAAA,CAAO,SAAS,CACjD;YAAA,KACA,IAAA,CAAK,QAAA;QACP,GAEAxP,EAAO,KAAA,GAAQ,SAAe4E,CAAAA,EAAS7E,CAAAA;YACrC,MAAM,IAAA,CAAK,IAAA,CAAK,KAAA,CAAM6E,GAAS7E;QACjC,GAEAC,EAAO,gBAAA,GAAmB;YACxB,OAAO,IAAA,CAAK,KAAA,CAAM,iDAAiD;gBACjE,OAAO,IAAA,CAAK,SAAA,CAAUwP,EAAU,MAAA,CAAO,SAAS,CAClD;YAAA;QACF,GAEAxP,EAAO,kBAAA,GAAqB;YAC1B,OAAO,IAAA,CAAK,QAAA,CAAS,uBAAuB,IAAA,CAAK,SAAA,CAAUwP,EAAU,MAAA,CAAO,SAAS,CAAC;QACxF,GAEAxP,EAAO,oBAAA,GAAuB;YAC5B,OAAO,IAAA,CAAK,QAAA,CAAS,0BAA0B,IAAA,CAAK,SAAA,CAAUwP,EAAU,MAAA,CAAO,SAAS,CAAC;QAC3F,GAEAxP,EAAO,UAAA,GAAa;YAClB,OAAO,IAAA,CAAK,KAAA,CAAM,iBAAiB,IAAA,CAAK,OAAA,KAAY,oDAAoD,IAAA,CAAK,SAAA,CAAUwP,EAAU,MAAA,CAAO,SAAS,CAAC;QACpJ,GAEAxP,EAAO,SAAA,GAAY;YACjB,IAAIwT,IAAS,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,OAAA,CAAQ,IAAA,CAAK,SAAS,KAAK,CAAA;YAE/D,IAAI,IAAA,CAAK,SAAA,CAAUhE,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,IAAA,EACnD,OAAA,IAAA,CAAK,QAAA,IACE,IAAA,CAAK,IAAA,CAAK6F;YACZ,IAAI,IAAA,CAAK,SAAA,CAAUhE,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,QAAA,EAC1D,OAAA,IAAA,CAAK,QAAA,IACE,IAAA,CAAK,SAAA,CAAU6F;QAE1B,GAEAxT,EAAO,OAAA,GAAU;YACf,IAAI,IAAA,CAAK,SAAA,EAAW;gBAClB,IAAIyT,IAAc,IAAA,CAAK,OAAA,CAAQ,IAAA,CAAK,SAAS;gBAE7C,IAAIA,MAAgB,KAAK;oBACvB,IAAA,CAAK,QAAA;oBACL;gBACF;YACF;YAEA,IAAIrP,IAAU,IAAA,CAAK,SAAA;YACnB,IAAA,CAAK,OAAA,CAAQ,IAAIkL,GAAS,OAAA,CAAW;gBACnC,OAAO,IAAA,CAAK,OAAA;gBACZ,QAAQa,GAAe/L;gBACvB,aAAaA,CAAAA,CAAQoL,EAAU,MAAA,CAAO,SAAS,CACjD;YAAA,KACA,IAAA,CAAK,QAAA;QACP,GAEAxP,EAAO,WAAA,GAAc;YACnB,IAAIkO,IAAO,IAAA,CAAK,OAAA,CAAQ,IAAA,EACpBwF,IAAa;YAGjB,IAFA,IAAA,CAAK,QAAA,IAEDxF,KAAQA,EAAK,IAAA,KAASxM,GAAM,MAAA,EAAQ;gBACtC,IAAImB,IAAW,IAAI+L,GAAU,OAAA,CAAW;oBACtC,QAAQ;wBACN,OAAOiB,GAAW,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EAAE;oBAClD;gBACF,IACIjV,IAAQ,IAAA,CAAK,OAAA;gBAIjB,IAHAsT,EAAK,MAAA,CAAOrL,IACZ,IAAA,CAAK,OAAA,GAAUA,GAER,IAAA,CAAK,QAAA,GAAW,IAAA,CAAK,MAAA,CAAO,MAAA,IAAU6Q,GACvC,IAAA,CAAK,SAAA,CAAUlE,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,eAAA,IACnD+F,KAGE,IAAA,CAAK,SAAA,CAAUlE,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,gBAAA,IACnD+F,KAGEA,IACF,IAAA,CAAK,KAAA,KAAM,CAEX,IAAA,CAAK,OAAA,CAAQ,MAAA,CAAO,GAAA,GAAM3D,GAAS,IAAA,CAAK,SAAS,GACjD,IAAA,CAAK,OAAA,CAAQ,MAAA,CAAO,MAAA,CAAO,GAAA,GAAMA,GAAS,IAAA,CAAK,SAAS,GACxD,IAAA,CAAK,QAAA,EAAA;gBAIT,IAAA,CAAK,OAAA,GAAUnV;YACjB,OAAO;gBAOL,IAAA,IAJI+Y,IAAa,IAAA,CAAK,SAAA,EAClBC,IAAa,KACbC,GAEG,IAAA,CAAK,QAAA,GAAW,IAAA,CAAK,MAAA,CAAO,MAAA,IAAUH,GACvC,IAAA,CAAK,SAAA,CAAUlE,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,eAAA,IACnD+F,KAGE,IAAA,CAAK,SAAA,CAAUlE,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,gBAAA,IACnD+F,KAGFG,IAAW,IAAA,CAAK,SAAA,EAChBD,KAAc,IAAA,CAAK,qBAAA,CAAsB,IAAA,CAAK,SAAS,GACvD,IAAA,CAAK,QAAA;gBAGH1F,IACFA,EAAK,yBAAA,CAA0B,SAAS0F,GAAYA,KAEpD,IAAA,CAAK,OAAA,CAAQ,IAAI3E,GAAQ,OAAA,CAAW;oBAClC,OAAO2E;oBACP,QAAQ5D,GAAU2D,CAAAA,CAAWnE,EAAU,MAAA,CAAO,UAAU,CAAA,EAAGmE,CAAAA,CAAWnE,EAAU,MAAA,CAAO,SAAS,CAAA,EAAGqE,CAAAA,CAASrE,EAAU,MAAA,CAAO,QAAQ,CAAA,EAAGqE,CAAAA,CAASrE,EAAU,MAAA,CAAO,OAAO,CAAC;oBAC1K,aAAamE,CAAAA,CAAWnE,EAAU,MAAA,CAAO,SAAS,CACpD;gBAAA;YAEJ;YAEA,IAAIkE,GACF,OAAO,IAAA,CAAK,QAAA,CAAS,uBAAuB,IAAA,CAAK,SAAA,CAAUlE,EAAU,MAAA,CAAO,SAAS,CAAC;QAE1F,GAEAxP,EAAO,MAAA,GAAS;YAMd,IAAA,IALI4D,IAAS,IAAA,EAETkQ,IAAY,IACZ5C,IAAgB,IAAA,CAAK,SAAA,EAElB,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,SAAA,CAAU1B,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,EACxEmG,KAAa,IAAA,CAAK,OAAA,IAClB,IAAA,CAAK,QAAA;YAGP,IAAI,CAAC,IAAA,CAAK,SAAA,EACR,OAAO,IAAA,CAAK,QAAA,CAAS;gBAAC;gBAAgB;aAAgB,EAAG,IAAA,CAAK,QAAA,GAAW;YAG3E,IAAI,IAAA,CAAK,SAAA,CAAUtE,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,IAAA,EACnD,IAAA,CAAK,SAAA,CAAU,CAAA,GAAO,SAAUoG,CAAAA,EAAOhO,CAAAA;gBACrC+N,KAAaC,GAEbnQ,EAAO,OAAA,CAAQ,IAAIsL,GAAQ,OAAA,CAAW;oBACpC,OAAO4E;oBACP,QAAQ1D,GAAmBc,GAAetN,EAAO,SAAS;oBAC1D,aAAasN,CAAAA,CAAc1B,EAAU,MAAA,CAAO,SAAS,CACvD;gBAAA,KAEIzJ,IAAS,KAAKnC,EAAO,SAAA,IAAaA,EAAO,SAAA,CAAU4L,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,eAAA,IACvF/J,EAAO,KAAA,CAAM,0BAA0B;oBACrC,OAAOA,EAAO,SAAA,CAAU4L,EAAU,MAAA,CAAO,SAAS,CACpD;gBAAA;YAEJ;iBAEA,OAAO,IAAA,CAAK,QAAA,CAAS;gBAAC;gBAAgB;aAAgB,EAAG,IAAA,CAAK,SAAA,CAAUA,EAAU,MAAA,CAAO,SAAS,CAAC;QAEvG,GAEAxP,EAAO,KAAA,GAAQ;YACb,IAAI9E,IAAU,IAAA,CAAK,OAAA;YAEf,IAAA,CAAK,QAAA,KAAa,KAAK,IAAA,CAAK,SAAA,CAAUsU,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,IAAS,IAAA,CAAK,SAAA,CAAU6B,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,eAAA,IAAmB,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,KAAA,CAAM,SAAU1K,CAAAA;gBAC1L,OAAOA,EAAK,IAAA,KAAS;YACvB,KAAC,CACC,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,aAAA,CAAc/H,IACjC,IAAA,CAAK,QAAA,EAAA,IACI,IAAA,CAAK,QAAA,KAAa,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS,KAAK,IAAA,CAAK,SAAA,CAAUsU,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,IAAS,IAAA,CAAK,SAAA,CAAU6B,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,gBAAA,GAAA,CAChK,IAAA,CAAK,OAAA,CAAQ,IAAA,CAAK,MAAA,CAAO,KAAA,GAAQ,IAAA,CAAK,aAAA,CAAczS,IACpD,IAAA,CAAK,QAAA,EAAA,IAEL,IAAA,CAAK,UAAA;QAET,GAEA8E,EAAO,MAAA,GAAS;YACd,IAAIoE,IAAU,IAAA,CAAK,SAAA;YACnB,IAAA,CAAK,OAAA,CAAQ,IAAI6K,GAAQ,OAAA,CAAW;gBAClC,OAAO,IAAA,CAAK,OAAA;gBACZ,QAAQkB,GAAe/L;gBACvB,aAAaA,CAAAA,CAAQoL,EAAU,MAAA,CAAO,SAAS,CACjD;YAAA,KACA,IAAA,CAAK,QAAA;QACP,GAEAxP,EAAO,SAAA,GAAY,SAAmB8G,CAAAA;YACpC,IAAIkN,IAAY,IAAA,CAAK,SAAA;YAErB,IAAIA,KAAa,IAAA,CAAK,OAAA,CAAQA,OAAe,KAC3C,OAAA,IAAA,CAAK,QAAA,IACE,IAAA,CAAK,SAAA;YAGd,IAAI5P,IAAU,IAAA,CAAK,SAAA;YACnB,IAAA,CAAK,OAAA,CAAQ,IAAIgL,GAAW,OAAA,CAAW;gBACrC,OAAO,IAAA,CAAK,OAAA;gBACZ,QAAQe,GAAe/L;gBACvB,aAAaA,CAAAA,CAAQoL,EAAU,MAAA,CAAO,SAAS,CACjD;YAAA,IAAI1I,IACJ,IAAA,CAAK,QAAA;QACP,GAEA9G,EAAO,SAAA,GAAY,SAAmB8G,CAAAA,EAAWmN,CAAAA;YAM/C,IAAA,IALIpQ,IAAS,IAAA,EAETmQ,IAAY,IAAA,CAAK,SAAA,EACjBvH,IAAO,IAAA,CAAK,OAAA,IAETuH,KAAa,CAAC;gBAACrG,EAAO,MAAA;gBAAQA,EAAO,KAAA;gBAAOA,EAAO,MAAA;gBAAQA,EAAO,IAAI;aAAA,CAAE,OAAA,CAAQqG,CAAAA,CAAUxE,EAAU,MAAA,CAAO,IAAI,CAAC,GAAG;gBACxH,IAAA,CAAK,QAAA;gBACL,IAAIpL,IAAU,IAAA,CAAK,OAAA;gBAGnB,IAFAqI,KAAQrI,GAEJA,EAAQ,WAAA,CAAY,UAAUA,EAAQ,MAAA,GAAS,GAAG;oBACpD,IAAIkJ,IAAO,IAAA,CAAK,SAAA;oBAEZA,KAAQA,CAAAA,CAAKkC,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,IAAA,CACjDlB,KAAQ,IAAA,CAAK,aAAA,CAAc,IAAA,CAAK,OAAA,CAAQa,KACxC,IAAA,CAAK,QAAA,EAAA;gBAET;gBAEA0G,IAAY,IAAA,CAAK,SACnB;YAAA;YAEA,IAAIE,IAAW1D,GAAU/D,GAAM,KAAK,MAAA,CAAO,SAAU7O,CAAAA;gBAEnD,IAAIuW,IAAa1H,CAAAA,CAAK7O,IAAI,EAAC,KAAM,MAE7BwW,IAAqB,cAAc,IAAA,CAAK3H;gBAC5C,OAAO,CAAC0H,KAAc,CAACC;YACzB,IACIC,IAAQ7D,GAAU/D,GAAM,KAAK,MAAA,CAAO,SAAU7O,CAAAA;gBAChD,OAAO6O,CAAAA,CAAK7O,IAAI,EAAC,KAAM;YACzB,IAEI0W,IAAiB9D,GAAU/D,GAAM;YAEjC6H,EAAe,MAAA,IAAA,CACjBD,IAAQA,EAAM,MAAA,CAAO,SAAUE,CAAAA;gBAC7B,OAAO,CAAC,CAACD,EAAe,OAAA,CAAQC;YAClC,EAAC;YAGH,IAAIC,IAAAA,CAAAA,GAAcjF,GAAe,OAAA,EAAYqB,GAAM;gBAAC;aAAC,CAAE,MAAA,CAAOsD,GAAUG;YACxEG,EAAQ,OAAA,CAAQ,SAAUC,CAAAA,EAAK7W,CAAAA;gBAC7B,IAAIqC,IAAQuU,CAAAA,CAAQ5W,IAAI,EAAC,IAAK6O,EAAK,MAAA,EAC/B3U,IAAQ2U,EAAK,KAAA,CAAMgI,GAAKxU;gBAE5B,IAAIrC,MAAM,KAAKqW,GACb,OAAOA,EAAc,IAAA,CAAKpQ,GAAQ/L,GAAO0c,EAAQ,MAAM;gBAGzD,IAAIvR,GACAmB,IAAUP,EAAO,SAAA,EACjB6Q,IAActQ,CAAAA,CAAQoL,EAAU,MAAA,CAAO,SAAS,CAAA,GAAIgF,CAAAA,CAAQ5W,EAAC,EAC7DjE,IAASqW,GAAU5L,CAAAA,CAAQ,EAAC,EAAGA,CAAAA,CAAQ,EAAC,GAAIqQ,GAAKrQ,CAAAA,CAAQ,EAAC,EAAGA,CAAAA,CAAQ,EAAC,GAAA,CAAKnE,IAAQ,CAAA;gBAEvF,IAAI,CAACiU,EAAS,OAAA,CAAQO,IAAM;oBAC1B,IAAIE,IAAgB;wBAClB,OAAO7c,EAAM,KAAA,CAAM;wBACnB,QAAQ6B;wBACR,aAAa+a;oBACf;oBACAzR,IAAO,IAAI4L,GAAW,OAAA,CAAW0B,GAAaoE,GAAe;gBAC/D,OAAA,IAAW,CAACN,EAAM,OAAA,CAAQI,IAAM;oBAC9B,IAAIG,IAAS;wBACX,OAAO9c,EAAM,KAAA,CAAM;wBACnB,QAAQ6B;wBACR,aAAa+a;oBACf;oBACAzR,IAAO,IAAI8L,GAAI,OAAA,CAAWwB,GAAaqE,GAAQ;gBACjD,OAAO;oBACL,IAAIC,IAAU;wBACZ,OAAO/c;wBACP,QAAQ6B;wBACR,aAAa+a;oBACf;oBACAnE,GAAasE,GAAS,UACtB5R,IAAO,IAAI+L,GAAK,OAAA,CAAW6F;gBAC7B;gBAEAhR,EAAO,OAAA,CAAQZ,GAAM6D,IAGrBA,IAAY;YACd,IACA,IAAA,CAAK,QAAA;QACP,GAEA9G,EAAO,IAAA,GAAO,SAAc8G,CAAAA;YAC1B,IAAIkN,IAAY,IAAA,CAAK,SAAA;YAErB,OAAIA,KAAa,IAAA,CAAK,OAAA,CAAQA,OAAe,MAAA,CAC3C,IAAA,CAAK,QAAA,IACE,IAAA,CAAK,SAAA,EAAU,IAGjB,IAAA,CAAK,SAAA,CAAUlN;QACxB,GAEA9G,EAAO,IAAA,GAAO;YACZ,MAAO,IAAA,CAAK,QAAA,GAAW,IAAA,CAAK,MAAA,CAAO,MAAA,EACjC,IAAA,CAAK,KAAA,CAAM,CAAA;YAGb,OAAA,IAAA,CAAK,OAAA,CAAQ,iBAAA,IAEN,IAAA,CAAK,IACd;QAAA,GAEAA,EAAO,KAAA,GAAQ,SAAe8U,CAAAA;YAC5B,OAAQ,IAAA,CAAK,SAAA,CAAUtF,EAAU,MAAA,CAAO,IAAI,CAAA;gBAC1C,KAAK7B,EAAO,KAAA;oBACV,IAAA,CAAK,KAAA;oBACL;gBAEF,KAAKA,EAAO,OAAA;oBACV,IAAA,CAAK,OAAA;oBACL;gBAEF,KAAKA,EAAO,eAAA;oBACV,IAAA,CAAK,WAAA;oBACL;gBAEF,KAAKA,EAAO,gBAAA;oBACNmH,KACF,IAAA,CAAK,kBAAA;oBAGP;gBAEF,KAAKnH,EAAO,UAAA;oBACV,IAAA,CAAK,SAAA;oBACL;gBAEF,KAAKA,EAAO,MAAA;gBACZ,KAAKA,EAAO,KAAA;gBACZ,KAAKA,EAAO,MAAA;gBACZ,KAAKA,EAAO,IAAA;oBACV,IAAA,CAAK,IAAA;oBACL;gBAEF,KAAKA,EAAO,KAAA;oBACV,IAAA,CAAK,MAAA;oBACL;gBAEF,KAAKA,EAAO,KAAA;oBACV,IAAA,CAAK,KAAA;oBACL;gBAEF,KAAKA,EAAO,QAAA;oBACV,IAAA,CAAK,SAAA;oBACL;gBAEF,KAAKA,EAAO,SAAA;oBACV,IAAA,CAAK,OAAA;oBACL;gBAEF,KAAKA,EAAO,KAAA;gBACZ,KAAKA,EAAO,UAAA;oBACV,IAAA,CAAK,UAAA;oBACL;gBAEF,KAAKA,EAAO,GAAA;oBACV,IAAA,CAAK,MAAA;oBACL;gBAGF,KAAKA,EAAO,WAAA;oBACV,IAAA,CAAK,oBAAA;gBAEP,KAAKA,EAAO,SAAA;oBACV,IAAA,CAAK,gBAAA;gBAEP;oBACE,IAAA,CAAK,UAAA;YACT;QACF,GAMA3N,EAAO,QAAA,GAAW,SAAkB+U,CAAAA,EAAa9U,CAAAA,EAAOqD,CAAAA;YACtD,IAAI,MAAM,OAAA,CAAQyR,IAAc;gBAC9B,IAAI7G,IAAO6G,EAAY,GAAA;gBACvBA,IAAcA,EAAY,IAAA,CAAK,QAAQ,SAAS7G;YAClD;YAEA,IAAI8G,IAAK,WAAW,IAAA,CAAKD,CAAAA,CAAY,EAAE,IAAI,OAAO;YAElD,OAAKzR,IAME,IAAA,CAAK,KAAA,CAAM,cAAc0R,IAAK,MAAMD,IAAc,cAAezR,IAAQ,cAAe;gBAC7F,OAAOrD;YACT,KAPS,IAAA,CAAK,KAAA,CAAM,cAAc+U,IAAK,MAAMD,IAAc,KAAK;gBAC5D,OAAO9U;YACT;QAMJ,GAEAD,EAAO,aAAA,GAAgB,SAAuB8L,CAAAA;YAC5C,OAAO,IAAA,CAAK,OAAA,CAAQ,KAAA,GAAQ,MAAMA;QACpC,GAEA9L,EAAO,aAAA,GAAgB,SAAuB8L,CAAAA;YAC5C,OAAO,IAAA,CAAK,OAAA,CAAQ,KAAA,GAAQ,KAAKA;QACnC,GAEA9L,EAAO,UAAA,GAAa,SAAoB8L,CAAAA,EAAOmJ,CAAAA;YAC7C,OAAI,IAAA,CAAK,OAAA,CAAQ,KAAA,GACRA,IAAW,MAAM,KAEjBnJ;QAEX,GAEA9L,EAAO,qBAAA,GAAwB,SAA+B8P,CAAAA;YAC5D,IAAI5U,IAAU,IAAA,CAAK,OAAA,CAAQ4U;YAE3B,OAAIA,CAAAA,CAAMN,EAAU,MAAA,CAAO,IAAI,CAAA,KAAM7B,EAAO,KAAA,GACnC,IAAA,CAAK,aAAA,CAAczS,KAEnBA;QAEX,GAEA8E,EAAO,OAAA,GAAU,SAAiBiD,CAAAA,EAAM6D,CAAAA;YACtC,OAAIA,KAAAA,CACE,OAAO,IAAA,CAAKA,MAAS,CAClB,IAAA,CAAK,OAAA,CAAQ,KAAA,IAAA,CAChB,IAAA,CAAK,MAAA,GAAA,CAAU,IAAA,CAAK,MAAA,IAAU,EAAA,IAAMA,CAAAA,GAGtCA,IAAY,CAAA,CAAA,GAGd7D,EAAK,SAAA,GAAY6D,GACjByJ,GAAatN,GAAM,YAAW,GAG5B,IAAA,CAAK,MAAA,IAAA,CACPA,EAAK,MAAA,CAAO,MAAA,GAAS,IAAA,CAAK,MAAA,EAC1B,IAAA,CAAK,MAAA,GAAS,EAAA,GAGT,IAAA,CAAK,OAAA,CAAQ,MAAA,CAAOA;QAC7B,GAEAjD,EAAO,OAAA,GAAU,SAAiB8P,CAAAA;YAChC,OAAIA,MAAU,KAAA,KAAA,CACZA,IAAQ,IAAA,CAAK,SAAA,GAGR,IAAA,CAAK,GAAA,CAAI,KAAA,CAAMA,CAAAA,CAAMN,EAAU,MAAA,CAAO,SAAS,CAAA,EAAGM,CAAAA,CAAMN,EAAU,MAAA,CAAO,OAAO,CAAC;QAC1F,GAMAxP,EAAO,yBAAA,GAA4B,SAAmCqS,CAAAA;YAChEA,MAAkB,KAAA,KAAA,CACpBA,IAAgB,IAAA,CAAK,QAAA,GAAW,CAAA;YAKlC,IAAA,IAFI6C,IAAiB7C,GAEd6C,IAAiB,IAAA,CAAK,MAAA,CAAO,MAAA,EAClC,IAAItF,EAAAA,CAAwB,IAAA,CAAK,MAAA,CAAOsF,EAAc,CAAE1F,EAAU,MAAA,CAAO,IAAI,CAAC,CAAA,EAAG;gBAC/E0F;gBACA;YACF,OACE,OAAOA;YAIX,OAAO,CAAA;QACT,GAEA7V,GAAawR,GAAQ;YAAC;gBACpB,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAQ,CAClC;gBAAA;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EACrC;gBAAA;YACF;YAAG;gBACD,KAAK;gBACL,KAAK;oBACH,OAAO,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,EACrC;gBAAA;YACF;SAAE,GAEKA;IACT;IAEAjZ,GAAQ,OAAA,GAAaiZ;IACrBvY,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC1tCzB,IAAAud,KAAAxd,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAIwd,KAAUnc,GAAuB;IAErC,SAASA,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,IAAImc,KAAyB;QAC3B,SAASA,EAAUC,CAAAA,EAAMzQ,CAAAA;YACvB,IAAA,CAAK,IAAA,GAAOyQ,KAAQ,YAAiB,GAErC,IAAA,CAAK,OAAA,GAAU,MACf,IAAA,CAAK,OAAA,GAAUzQ;QACjB;QAEA,IAAI7E,IAASqV,EAAU,SAAA;QAEvB,OAAArV,EAAO,qBAAA,GAAwB,SAA+B8Q,CAAAA,EAAMjM,CAAAA;YAC9DA,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA;YAGb,IAAI0Q,IAAS,OAAO,MAAA,CAAO,CAAC,GAAG,IAAA,CAAK,OAAA,EAAS1Q;YAE7C,OAAI0Q,EAAO,cAAA,KAAmB,CAAA,IACrB,CAAA,IAEA,OAAOzE,KAAS;QAE3B,GAEA9Q,EAAO,QAAA,GAAW,SAAkB6E,CAAAA;YAC9BA,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA;YAGb,IAAI0Q,IAAS,OAAO,MAAA,CAAO,CAAC,GAAG,IAAA,CAAK,OAAA,EAAS1Q;YAE7C,OAAI0Q,EAAO,QAAA,KAAa,CAAA;QAK1B,GAEAvV,EAAO,KAAA,GAAQ,SAAe8Q,CAAAA,EAAMjM,CAAAA;YAC9BA,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA;YAGb,IAAI2Q,IAAS,IAAIJ,GAAQ,OAAA,CAAWtE,GAAM,IAAA,CAAK,aAAA,CAAcjM;YAC7D,OAAO2Q,EAAO,IAChB;QAAA,GAEAxV,EAAO,aAAA,GAAgB,SAAuB6E,CAAAA;YAC5C,OAAO;gBACL,OAAO,IAAA,CAAK,QAAA,CAASA;YACvB;QACF,GAEA7E,EAAO,IAAA,GAAO,SAAc8Q,CAAAA,EAAMjM,CAAAA;YAChC,IAAIjC,IAAQ,IAAA;YAEZ,OAAIiC,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA,GAGN,IAAI,QAAQ,SAAU4Q,CAAAA,EAASC,CAAAA;gBACpC,IAAI;oBACF,IAAIC,IAAO/S,EAAM,KAAA,CAAMkO,GAAMjM;oBAE7B,QAAQ,OAAA,CAAQjC,EAAM,IAAA,CAAK+S,IAAO,IAAA,CAAK,SAAUvZ,CAAAA;wBAC/C,IAAIqJ,IAAS,KAAA;wBAEb,OAAI7C,EAAM,qBAAA,CAAsBkO,GAAMjM,MAAO,CAC3CY,IAASkQ,EAAK,QAAA,IACd7E,EAAK,QAAA,GAAWrL,CAAAA,GAGX;4BACL,WAAWrJ;4BACX,MAAMuZ;4BACN,QAAQlQ;wBACV;oBACF,GAAG,IAAA,CAAKgQ,GAASC;gBACnB,EAAA,OAASE,GAAP;oBACAF,EAAOE;oBACP;gBACF;YACF;QACF,GAEA5V,EAAO,QAAA,GAAW,SAAkB8Q,CAAAA,EAAMjM,CAAAA;YACpCA,MAAY,KAAA,KAAA,CACdA,IAAU,CAAC,CAAA;YAGb,IAAI8Q,IAAO,IAAA,CAAK,KAAA,CAAM7E,GAAMjM,IAExBzI,IAAY,IAAA,CAAK,IAAA,CAAKuZ;YAE1B,IAAIvZ,KAAa,OAAOA,EAAU,IAAA,IAAS,YACzC,MAAM,IAAI,MAAM;YAGlB,IAAIqJ,IAAS,KAAA;YAEb,OAAIZ,EAAQ,cAAA,IAAkB,OAAOiM,KAAS,YAAA,CAC5CrL,IAASkQ,EAAK,QAAA,IACd7E,EAAK,QAAA,GAAWrL,CAAAA,GAGX;gBACL,WAAWrJ;gBACX,MAAMuZ;gBACN,QAAQlQ;YACV;QACF,GAUAzF,EAAO,GAAA,GAAM,SAAa8Q,CAAAA,EAAMjM,CAAAA;YAC9B,OAAO,IAAA,CAAK,IAAA,CAAKiM,GAAMjM,GAAS,IAAA,CAAK,SAAUpB,CAAAA;gBAC7C,OAAOA,EAAO,IAChB;YAAA;QACF,GAUAzD,EAAO,OAAA,GAAU,SAAiB8Q,CAAAA,EAAMjM,CAAAA;YACtC,OAAO,IAAA,CAAK,QAAA,CAASiM,GAAMjM,GAAS,IACtC;QAAA,GAUA7E,EAAO,SAAA,GAAY,SAAmB8Q,CAAAA,EAAMjM,CAAAA;YAC1C,OAAO,IAAA,CAAK,IAAA,CAAKiM,GAAMjM,GAAS,IAAA,CAAK,SAAUpB,CAAAA;gBAC7C,OAAOA,EAAO,SAChB;YAAA;QACF,GAUAzD,EAAO,aAAA,GAAgB,SAAuB8Q,CAAAA,EAAMjM,CAAAA;YAClD,OAAO,IAAA,CAAK,QAAA,CAASiM,GAAMjM,GAAS,SACtC;QAAA,GAUA7E,EAAO,OAAA,GAAU,SAAiB8Q,CAAAA,EAAMjM,CAAAA;YACtC,OAAO,IAAA,CAAK,IAAA,CAAKiM,GAAMjM,GAAS,IAAA,CAAK,SAAUpB,CAAAA;gBAC7C,OAAOA,EAAO,MAAA,IAAUA,EAAO,IAAA,CAAK,QAAA;YACtC;QACF,GAUAzD,EAAO,WAAA,GAAc,SAAqB8Q,CAAAA,EAAMjM,CAAAA;YAC9C,IAAIpB,IAAS,IAAA,CAAK,QAAA,CAASqN,GAAMjM;YAEjC,OAAOpB,EAAO,MAAA,IAAUA,EAAO,IAAA,CAAK,QAAA;QACtC,GAEO4R;IACT;IAEAzd,GAAQ,OAAA,GAAayd;IACrB/c,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;AC7MzB,IAAAie,KAAAle,EAAAC,CAAAA;IAAA;IAEAA,EAAQ,UAAA,GAAa,CAAA;IACrBA,EAAQ,SAAA,GAAYA,EAAQ,GAAA,GAAMA,EAAQ,MAAA,GAASA,EAAQ,QAAA,GAAWA,EAAQ,IAAA,GAAOA,EAAQ,MAAA,GAASA,EAAQ,OAAA,GAAUA,EAAQ,EAAA,GAAKA,EAAQ,OAAA,GAAUA,EAAQ,UAAA,GAAaA,EAAQ,SAAA,GAAYA,EAAQ,SAAA,GAAY,KAAA;IAEpN,IAAIuX,KAAalW,GAAuB,OAEpC4V,KAAa5V,GAAuB,OAEpCoW,KAAcpW,GAAuB,OAErC6V,KAAW7V,GAAuB,OAElC8V,KAAM9V,GAAuB,OAE7BqW,KAAWrW,GAAuB,OAElCiW,KAAUjW,GAAuB,OAEjC0V,KAAQ1V,GAAuB,OAE/B2V,KAAY3V,GAAuB,OAEnCgW,KAAUhW,GAAuB,OAEjC+V,KAAO/V,GAAuB,OAE9BmW,KAAanW,GAAuB;IAExC,SAASA,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,IAAI4c,KAAY,SAAmB/V,CAAAA;QACjC,OAAO,IAAIoP,GAAW,OAAA,CAAWpP;IACnC;IAEAnI,EAAQ,SAAA,GAAYke;IAEpB,IAAIC,KAAY,SAAmBhW,CAAAA;QACjC,OAAO,IAAI8O,GAAW,OAAA,CAAW9O;IACnC;IAEAnI,EAAQ,SAAA,GAAYme;IAEpB,IAAIrJ,KAAa,SAAoB3M,CAAAA;QACnC,OAAO,IAAIsP,GAAY,OAAA,CAAWtP;IACpC;IAEAnI,EAAQ,UAAA,GAAa8U;IAErB,IAAIF,KAAU,SAAiBzM,CAAAA;QAC7B,OAAO,IAAI+O,GAAS,OAAA,CAAW/O;IACjC;IAEAnI,EAAQ,OAAA,GAAU4U;IAElB,IAAI1J,KAAK,SAAY/C,CAAAA;QACnB,OAAO,IAAIgP,GAAI,OAAA,CAAWhP;IAC5B;IAEAnI,EAAQ,EAAA,GAAKkL;IAEb,IAAIkT,KAAU,SAAiBjW,CAAAA;QAC7B,OAAO,IAAIuP,GAAS,OAAA,CAAWvP;IACjC;IAEAnI,EAAQ,OAAA,GAAUoe;IAElB,IAAIC,KAAS,SAAgBlW,CAAAA;QAC3B,OAAO,IAAImP,GAAQ,OAAA,CAAWnP;IAChC;IAEAnI,EAAQ,MAAA,GAASqe;IAEjB,IAAIN,KAAO,SAAc5V,CAAAA;QACvB,OAAO,IAAI4O,GAAM,OAAA,CAAW5O;IAC9B;IAEAnI,EAAQ,IAAA,GAAO+d;IAEf,IAAI9S,KAAW,SAAkB9C,CAAAA;QAC/B,OAAO,IAAI6O,GAAU,OAAA,CAAW7O;IAClC;IAEAnI,EAAQ,QAAA,GAAWiL;IAEnB,IAAI4C,KAAS,SAAgB1F,CAAAA;QAC3B,OAAO,IAAIkP,GAAQ,OAAA,CAAWlP;IAChC;IAEAnI,EAAQ,MAAA,GAAS6N;IAEjB,IAAIyQ,KAAM,SAAanW,CAAAA;QACrB,OAAO,IAAIiP,GAAK,OAAA,CAAWjP;IAC7B;IAEAnI,EAAQ,GAAA,GAAMse;IAEd,IAAIC,KAAY,SAAmBpW,CAAAA;QACjC,OAAO,IAAIqP,GAAW,OAAA,CAAWrP;IACnC;IAEAnI,EAAQ,SAAA,GAAYue;AAAAA;ACrGpB,IAAAC,KAAAze,EAAAC,CAAAA;IAAA;IAEAA,EAAQ,UAAA,GAAa,CAAA;IACrBA,EAAQ,MAAA,GAASye;IACjBze,EAAQ,eAAA,GAAkB0e;IAC1B1e,EAAQ,aAAA,GAAgB2e;IACxB3e,EAAQ,WAAA,GAAc4e;IACtB5e,EAAQ,WAAA,GAAc6e;IACtB7e,EAAQ,WAAA,GAAcA,EAAQ,KAAA,GAAQA,EAAQ,QAAA,GAAWA,EAAQ,UAAA,GAAaA,EAAQ,MAAA,GAASA,EAAQ,QAAA,GAAWA,EAAQ,SAAA,GAAYA,EAAQ,YAAA,GAAeA,EAAQ,SAAA,GAAYA,EAAQ,YAAA,GAAeA,EAAQ,WAAA,GAAcA,EAAQ,WAAA,GAAc,KAAA;IAEpP,IAAI6M,KAAS,MAETiS,IAEAC,KAAAA,CAAWD,KAAW,CAAC,GAAGA,EAAAA,CAASjS,GAAO,SAAS,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,KAAK,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,UAAU,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,OAAO,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,EAAE,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,OAAO,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,MAAM,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,IAAI,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,QAAQ,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,MAAM,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,GAAG,CAAA,GAAI,CAAA,GAAMiS,EAAAA,CAASjS,GAAO,SAAS,CAAA,GAAI,CAAA,GAAMiS,EAAAA;IAEla,SAASL,GAAOpT,CAAAA;QACd,OAAO,OAAOA,KAAS,YAAY0T,EAAAA,CAAQ1T,EAAK,IAAI,CACtD;IAAA;IAEA,SAAS2T,GAAWhX,CAAAA,EAAMqD,CAAAA;QACxB,OAAOoT,GAAOpT,MAASA,EAAK,IAAA,KAASrD;IACvC;IAEA,IAAIiX,KAAcD,GAAW,IAAA,CAAK,MAAMnS,GAAO,SAAS;IACxD7M,EAAQ,WAAA,GAAcif;IACtB,IAAIC,KAAcF,GAAW,IAAA,CAAK,MAAMnS,GAAO,KAAK;IACpD7M,EAAQ,WAAA,GAAckf;IACtB,IAAIC,KAAeH,GAAW,IAAA,CAAK,MAAMnS,GAAO,UAAU;IAC1D7M,EAAQ,YAAA,GAAemf;IACvB,IAAIC,KAAYJ,GAAW,IAAA,CAAK,MAAMnS,GAAO,OAAO;IACpD7M,EAAQ,SAAA,GAAYof;IACpB,IAAIrR,KAAeiR,GAAW,IAAA,CAAK,MAAMnS,GAAO,EAAE;IAClD7M,EAAQ,YAAA,GAAe+N;IACvB,IAAIsR,KAAYL,GAAW,IAAA,CAAK,MAAMnS,GAAO,OAAO;IACpD7M,EAAQ,SAAA,GAAYqf;IACpB,IAAIC,KAAWN,GAAW,IAAA,CAAK,MAAMnS,GAAO,MAAM;IAClD7M,EAAQ,QAAA,GAAWsf;IACnB,IAAIC,KAASP,GAAW,IAAA,CAAK,MAAMnS,GAAO,IAAI;IAC9C7M,EAAQ,MAAA,GAASuf;IACjB,IAAIC,KAAaR,GAAW,IAAA,CAAK,MAAMnS,GAAO,QAAQ;IACtD7M,EAAQ,UAAA,GAAawf;IACrB,IAAIC,KAAWT,GAAW,IAAA,CAAK,MAAMnS,GAAO,MAAM;IAClD7M,EAAQ,QAAA,GAAWyf;IACnB,IAAIC,KAAQV,GAAW,IAAA,CAAK,MAAMnS,GAAO,GAAG;IAC5C7M,EAAQ,KAAA,GAAQ0f;IAChB,IAAIC,KAAcX,GAAW,IAAA,CAAK,MAAMnS,GAAO,SAAS;IACxD7M,EAAQ,WAAA,GAAc2f;IAEtB,SAASjB,GAAgBrT,CAAAA;QACvB,OAAOiU,GAASjU,MAASA,EAAK,KAAA,IAAA,CAAUA,EAAK,KAAA,CAAM,UAAA,CAAW,SAASA,EAAK,KAAA,CAAM,WAAA,OAAkB,aAAaA,EAAK,KAAA,CAAM,WAAA,OAAkB,YAAYA,EAAK,KAAA,CAAM,WAAA,OAAkB,mBAAmBA,EAAK,KAAA,CAAM,WAAA,OAAkB,aAAA;IACzO;IAEA,SAASsT,GAActT,CAAAA;QACrB,OAAOiU,GAASjU,MAAS,CAACqT,GAAgBrT;IAC5C;IAEA,SAASuT,GAAYvT,CAAAA;QACnB,OAAO,CAAC,CAAA,CAAEoT,GAAOpT,MAASA,EAAK,IAAA;IACjC;IAEA,SAASwT,GAAYxT,CAAAA;QACnB,OAAO4T,GAAY5T,MAASqU,GAAMrU;IACpC;AAAA;AC/DA,IAAAuU,KAAA7f,EAAAC,CAAAA;IAAA;IAEAA,GAAQ,UAAA,GAAa,CAAA;IAErB,IAAI6M,KAAS;IAEb,OAAO,IAAA,CAAKA,IAAQ,OAAA,CAAQ,SAAU5L,CAAAA;QAChCA,MAAQ,aAAaA,MAAQ,gBAC7BA,KAAOjB,MAAWA,EAAAA,CAAQiB,EAAG,KAAM4L,EAAAA,CAAO5L,EAAG,IAAA,CACjDjB,EAAAA,CAAQiB,EAAG,GAAI4L,EAAAA,CAAO5L,EAAG;IAC3B;IAEA,IAAI4e,KAAgB;IAEpB,OAAO,IAAA,CAAKA,IAAe,OAAA,CAAQ,SAAU5e,CAAAA;QACvCA,MAAQ,aAAaA,MAAQ,gBAC7BA,KAAOjB,MAAWA,EAAAA,CAAQiB,EAAG,KAAM4e,EAAAA,CAAc5e,EAAG,IAAA,CACxDjB,EAAAA,CAAQiB,EAAG,GAAI4e,EAAAA,CAAc5e,EAAG;IAClC;IAEA,IAAI6e,KAAU;IAEd,OAAO,IAAA,CAAKA,IAAS,OAAA,CAAQ,SAAU7e,CAAAA;QACjCA,MAAQ,aAAaA,MAAQ,gBAC7BA,KAAOjB,MAAWA,EAAAA,CAAQiB,EAAG,KAAM6e,EAAAA,CAAQ7e,EAAG,IAAA,CAClDjB,EAAAA,CAAQiB,EAAG,GAAI6e,EAAAA,CAAQ7e,EAAG;IAC5B;AAAC;AC1BD,IAAA8e,KAAAhgB,EAAA,CAAAC,IAAAU;IAAA;IAEAV,GAAQ,UAAA,GAAa,CAAA;IACrBA,GAAQ,OAAA,GAAa,KAAA;IAErB,IAAIggB,KAAa3e,GAAuB,OAEpC4e,KAAYtd,GAAwB;IAExC,SAASC;QAA6B,IAAI,OAAO,WAAY,YAAY,OAAO;QAAM,IAAII,IAAQ,IAAI;QAAW,OAAAJ,KAA2B;YAAsC,OAAOI;QAAO,GAAUA;IAAO;IAEjN,SAASL,GAAwBrB,CAAAA;QAAO,IAAIA,KAAOA,EAAI,UAAA,EAAc,OAAOA;QAAO,IAAIA,MAAQ,QAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,YAAc,OAAO;YAAE,SAAWA;QAAI;QAAK,IAAI0B,IAAQJ;QAA4B,IAAII,KAASA,EAAM,GAAA,CAAI1B,IAAQ,OAAO0B,EAAM,GAAA,CAAI1B;QAAQ,IAAI2B,IAAS,CAAC,GAAOC,IAAwB,OAAO,cAAA,IAAkB,OAAO,wBAAA;QAA0B,IAAA,IAASjC,KAAOK,EAAO,IAAI,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAKA,GAAKL,IAAM;YAAE,IAAIkC,IAAOD,IAAwB,OAAO,wBAAA,CAAyB5B,GAAKL,KAAO;YAAUkC,KAAAA,CAASA,EAAK,GAAA,IAAOA,EAAK,GAAA,IAAQ,OAAO,cAAA,CAAeF,GAAQhC,GAAKkC,KAAgBF,CAAAA,CAAOhC,EAAG,GAAIK,CAAAA,CAAIL,EAAQ;QAAA;QAAI,OAAAgC,EAAO,OAAA,GAAa3B,GAAS0B,KAASA,EAAM,GAAA,CAAI1B,GAAK2B,IAAkBA;IAAQ;IAE3uB,SAAS5B,GAAuBC,CAAAA;QAAO,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YAAE,SAAWA;QAAI;IAAG;IAEhG,IAAIsc,KAAS,SAAgBsC,CAAAA;QAC3B,OAAO,IAAIF,GAAW,OAAA,CAAWE;IACnC;IAEA,OAAO,MAAA,CAAOtC,IAAQqC;IACtB,OAAOrC,GAAO,UAAA;IACd,IAAI3d,KAAW2d;IACf5d,GAAQ,OAAA,GAAaC;IACrBS,GAAO,OAAA,GAAUV,GAAQ,OAAA;AAAA;ACvBzB,IAAAmgB,KAAApgB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIogB;IACb;IACA,SAASA,GAAajC,CAAAA;QAClB,OAAOA,EAAU,OAAA,CAAQ,QAAQ;IACrC;AAAA;ACVA,IAAAkC,KAAAtgB,EAAA,CAAAC,IAAAU;IAAA;IAEAA,GAAO,OAAA,GAAU;QAChB,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,cAAgB;YAAC;YAAK;YAAK;SAAG;QAC9B,MAAQ;YAAC;YAAG;YAAK;SAAG;QACpB,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,OAAS;YAAC;YAAK;YAAK;SAAG;QACvB,OAAS;YAAC;YAAK;YAAK;SAAG;QACvB,QAAU;YAAC;YAAK;YAAK;SAAG;QACxB,OAAS;YAAC;YAAG;YAAG;SAAC;QACjB,gBAAkB;YAAC;YAAK;YAAK;SAAG;QAChC,MAAQ;YAAC;YAAG;YAAG;SAAG;QAClB,YAAc;YAAC;YAAK;YAAI;SAAG;QAC3B,OAAS;YAAC;YAAK;YAAI;SAAE;QACrB,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,WAAa;YAAC;YAAI;YAAK;SAAG;QAC1B,YAAc;YAAC;YAAK;YAAK;SAAC;QAC1B,WAAa;YAAC;YAAK;YAAK;SAAE;QAC1B,OAAS;YAAC;YAAK;YAAK;SAAE;QACtB,gBAAkB;YAAC;YAAK;YAAK;SAAG;QAChC,UAAY;YAAC;YAAK;YAAK;SAAG;QAC1B,SAAW;YAAC;YAAK;YAAI;SAAE;QACvB,MAAQ;YAAC;YAAG;YAAK;SAAG;QACpB,UAAY;YAAC;YAAG;YAAG;SAAG;QACtB,UAAY;YAAC;YAAG;YAAK;SAAG;QACxB,eAAiB;YAAC;YAAK;YAAK;SAAE;QAC9B,UAAY;YAAC;YAAK;YAAK;SAAG;QAC1B,WAAa;YAAC;YAAG;YAAK;SAAC;QACvB,UAAY;YAAC;YAAK;YAAK;SAAG;QAC1B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,aAAe;YAAC;YAAK;YAAG;SAAG;QAC3B,gBAAkB;YAAC;YAAI;YAAK;SAAE;QAC9B,YAAc;YAAC;YAAK;YAAK;SAAC;QAC1B,YAAc;YAAC;YAAK;YAAI;SAAG;QAC3B,SAAW;YAAC;YAAK;YAAG;SAAC;QACrB,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,cAAgB;YAAC;YAAK;YAAK;SAAG;QAC9B,eAAiB;YAAC;YAAI;YAAI;SAAG;QAC7B,eAAiB;YAAC;YAAI;YAAI;SAAE;QAC5B,eAAiB;YAAC;YAAI;YAAI;SAAE;QAC5B,eAAiB;YAAC;YAAG;YAAK;SAAG;QAC7B,YAAc;YAAC;YAAK;YAAG;SAAG;QAC1B,UAAY;YAAC;YAAK;YAAI;SAAG;QACzB,aAAe;YAAC;YAAG;YAAK;SAAG;QAC3B,SAAW;YAAC;YAAK;YAAK;SAAG;QACzB,SAAW;YAAC;YAAK;YAAK;SAAG;QACzB,YAAc;YAAC;YAAI;YAAK;SAAG;QAC3B,WAAa;YAAC;YAAK;YAAI;SAAE;QACzB,aAAe;YAAC;YAAK;YAAK;SAAG;QAC7B,aAAe;YAAC;YAAI;YAAK;SAAE;QAC3B,SAAW;YAAC;YAAK;YAAG;SAAG;QACvB,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,MAAQ;YAAC;YAAK;YAAK;SAAC;QACpB,WAAa;YAAC;YAAK;YAAK;SAAE;QAC1B,MAAQ;YAAC;YAAK;YAAK;SAAG;QACtB,OAAS;YAAC;YAAG;YAAK;SAAC;QACnB,aAAe;YAAC;YAAK;YAAK;SAAE;QAC5B,MAAQ;YAAC;YAAK;YAAK;SAAG;QACtB,UAAY;YAAC;YAAK;YAAK;SAAG;QAC1B,SAAW;YAAC;YAAK;YAAK;SAAG;QACzB,WAAa;YAAC;YAAK;YAAI;SAAE;QACzB,QAAU;YAAC;YAAI;YAAG;SAAG;QACrB,OAAS;YAAC;YAAK;YAAK;SAAG;QACvB,OAAS;YAAC;YAAK;YAAK;SAAG;QACvB,UAAY;YAAC;YAAK;YAAK;SAAG;QAC1B,eAAiB;YAAC;YAAK;YAAK;SAAG;QAC/B,WAAa;YAAC;YAAK;YAAK;SAAC;QACzB,cAAgB;YAAC;YAAK;YAAK;SAAG;QAC9B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,sBAAwB;YAAC;YAAK;YAAK;SAAG;QACtC,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,aAAe;YAAC;YAAK;YAAK;SAAG;QAC7B,eAAiB;YAAC;YAAI;YAAK;SAAG;QAC9B,cAAgB;YAAC;YAAK;YAAK;SAAG;QAC9B,gBAAkB;YAAC;YAAK;YAAK;SAAG;QAChC,gBAAkB;YAAC;YAAK;YAAK;SAAG;QAChC,gBAAkB;YAAC;YAAK;YAAK;SAAG;QAChC,aAAe;YAAC;YAAK;YAAK;SAAG;QAC7B,MAAQ;YAAC;YAAG;YAAK;SAAC;QAClB,WAAa;YAAC;YAAI;YAAK;SAAE;QACzB,OAAS;YAAC;YAAK;YAAK;SAAG;QACvB,SAAW;YAAC;YAAK;YAAG;SAAG;QACvB,QAAU;YAAC;YAAK;YAAG;SAAC;QACpB,kBAAoB;YAAC;YAAK;YAAK;SAAG;QAClC,YAAc;YAAC;YAAG;YAAG;SAAG;QACxB,cAAgB;YAAC;YAAK;YAAI;SAAG;QAC7B,cAAgB;YAAC;YAAK;YAAK;SAAG;QAC9B,gBAAkB;YAAC;YAAI;YAAK;SAAG;QAC/B,iBAAmB;YAAC;YAAK;YAAK;SAAG;QACjC,mBAAqB;YAAC;YAAG;YAAK;SAAG;QACjC,iBAAmB;YAAC;YAAI;YAAK;SAAG;QAChC,iBAAmB;YAAC;YAAK;YAAI;SAAG;QAChC,cAAgB;YAAC;YAAI;YAAI;SAAG;QAC5B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,UAAY;YAAC;YAAK;YAAK;SAAG;QAC1B,aAAe;YAAC;YAAK;YAAK;SAAG;QAC7B,MAAQ;YAAC;YAAG;YAAG;SAAG;QAClB,SAAW;YAAC;YAAK;YAAK;SAAG;QACzB,OAAS;YAAC;YAAK;YAAK;SAAC;QACrB,WAAa;YAAC;YAAK;YAAK;SAAE;QAC1B,QAAU;YAAC;YAAK;YAAK;SAAC;QACtB,WAAa;YAAC;YAAK;YAAI;SAAC;QACxB,QAAU;YAAC;YAAK;YAAK;SAAG;QACxB,eAAiB;YAAC;YAAK;YAAK;SAAG;QAC/B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,eAAiB;YAAC;YAAK;YAAK;SAAG;QAC/B,eAAiB;YAAC;YAAK;YAAK;SAAG;QAC/B,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,MAAQ;YAAC;YAAK;YAAK;SAAE;QACrB,MAAQ;YAAC;YAAK;YAAK;SAAG;QACtB,MAAQ;YAAC;YAAK;YAAK;SAAG;QACtB,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,QAAU;YAAC;YAAK;YAAG;SAAG;QACtB,eAAiB;YAAC;YAAK;YAAI;SAAG;QAC9B,KAAO;YAAC;YAAK;YAAG;SAAC;QACjB,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,WAAa;YAAC;YAAI;YAAK;SAAG;QAC1B,aAAe;YAAC;YAAK;YAAI;SAAE;QAC3B,QAAU;YAAC;YAAK;YAAK;SAAG;QACxB,YAAc;YAAC;YAAK;YAAK;SAAE;QAC3B,UAAY;YAAC;YAAI;YAAK;SAAE;QACxB,UAAY;YAAC;YAAK;YAAK;SAAG;QAC1B,QAAU;YAAC;YAAK;YAAI;SAAE;QACtB,QAAU;YAAC;YAAK;YAAK;SAAG;QACxB,SAAW;YAAC;YAAK;YAAK;SAAG;QACzB,WAAa;YAAC;YAAK;YAAI;SAAG;QAC1B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,WAAa;YAAC;YAAK;YAAK;SAAG;QAC3B,MAAQ;YAAC;YAAK;YAAK;SAAG;QACtB,aAAe;YAAC;YAAG;YAAK;SAAG;QAC3B,WAAa;YAAC;YAAI;YAAK;SAAG;QAC1B,KAAO;YAAC;YAAK;YAAK;SAAG;QACrB,MAAQ;YAAC;YAAG;YAAK;SAAG;QACpB,SAAW;YAAC;YAAK;YAAK;SAAG;QACzB,QAAU;YAAC;YAAK;YAAI;SAAE;QACtB,WAAa;YAAC;YAAI;YAAK;SAAG;QAC1B,QAAU;YAAC;YAAK;YAAK;SAAG;QACxB,OAAS;YAAC;YAAK;YAAK;SAAG;QACvB,OAAS;YAAC;YAAK;YAAK;SAAG;QACvB,YAAc;YAAC;YAAK;YAAK;SAAG;QAC5B,QAAU;YAAC;YAAK;YAAK;SAAC;QACtB,aAAe;YAAC;YAAK;YAAK;SAC3B;IAAA;AAAA;ACvJA,IAAA4f,KAAAvgB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,SAASugB,GAAQ1e,CAAAA,EAAQ2e,CAAAA;QACrB,IAAA,IAAQjY,KAAQiY,EAAI,OAAO,cAAA,CAAe3e,GAAQ0G,GAAM;YACpD,YAAY,CAAA;YACZ,KAAKiY,CAAAA,CAAIjY,EACb;QAAA;IACJ;IACAgY,GAAQvgB,IAAS;QACb,YAAY,IAAIygB;QAChB,aAAa,IAAIC;IACrB;IACA,IAAMC,KAA2Btf,GAAuB;IACxD,SAASA,GAAuBC,CAAAA;QAC5B,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YACjC,SAASA;QACb;IACJ;IACA,IAAIsf,KAAM,yDACNC,KAAY,6CACZC,KAAQ,sBACRC,KAAM,mBACNC,KAAY,cACZC,KAAkB,wBAClBC,KAAM,IAAI,OAAO,CAAA,gBAAA,EAAmBJ,GAAM,MAAM,CAAA,CAAA,EAAIG,GAAgB,MAAM,CAAA,IAAA,EAAOF,GAAI,MAAM,CAAA,CAAA,EAAID,GAAM,MAAM,CAAA,CAAA,EAAIG,GAAgB,MAAM,CAAA,MAAA,EAASF,GAAI,MAAM,CAAA,CAAA,EAAID,GAAM,MAAM,CAAA,CAAA,EAAIG,GAAgB,MAAM,CAAA,MAAA,EAASD,GAAU,MAAM,CAAA,CAAA,EAAIF,GAAM,MAAM,CAAA,CAAA,EAAIG,GAAgB,MAAM,CAAA,WAAA,CAAa,GAClRE,KAAM,IAAI,OAAO,CAAA,mBAAA,EAAsBL,GAAM,MAAM,CAAA,wBAAA,EAA2BG,GAAgB,MAAM,CAAA,IAAA,EAAOF,GAAI,MAAM,CAAA,CAAA,EAAID,GAAM,MAAM,CAAA,CAAA,EAAIG,GAAgB,MAAM,CAAA,MAAA,EAASF,GAAI,MAAM,CAAA,CAAA,EAAID,GAAM,MAAM,CAAA,CAAA,EAAIG,GAAgB,MAAM,CAAA,MAAA,EAASD,GAAU,MAAM,CAAA,CAAA,EAAIF,GAAM,MAAM,CAAA,CAAA,EAAIG,GAAgB,MAAM,CAAA,WAAA,CAAa;IAChT,SAASR,GAAWvgB,CAAAA,EAAO,EAAE,OAAAkhB,IAAO,CAAA,CAAO,EAAA,GAAI,CAAC,CAAA;QAC5C,IAAInf,GAAKE;QACT,IAAI,OAAOjC,KAAU,UACjB,OAAO;QAGX,IADAA,IAAQA,EAAM,IAAA,IACVA,MAAU,eACV,OAAO;YACH,MAAM;YACN,OAAO;gBACH;gBACA;gBACA;aACJ;YACA,OAAO;QACX;QAEJ,IAAIA,KAASygB,GAAW,OAAA,EACpB,OAAO;YACH,MAAM;YACN,OAAOA,GAAW,OAAA,CAAQzgB,EAAK,CAAE,GAAA,CAAK+E,CAAAA,IAAIA,EAAE,QAAA;QAChD;QAEJ,IAAIM,IAAMrF,EAAM,OAAA,CAAQ2gB,IAAW,CAACQ,GAAGC,GAAGC,GAAGxO,GAAGD,IAAI;gBAC5C;gBACAwO;gBACAA;gBACAC;gBACAA;gBACAxO;gBACAA;gBACAD,IAAIA,IAAIA,IAAI;aAChB,CAAE,IAAA,CAAK,KAAK,KAAA,CAAM8N;QACtB,IAAIrb,MAAQ,MACR,OAAO;YACH,MAAM;YACN,OAAO;gBACH,SAASA,CAAAA,CAAI,EAAC,EAAG;gBACjB,SAASA,CAAAA,CAAI,EAAC,EAAG;gBACjB,SAASA,CAAAA,CAAI,EAAC,EAAG;aACrB,CAAE,GAAA,CAAKN,CAAAA,IAAIA,EAAE,QAAA;YACb,OAAOM,CAAAA,CAAI,EAAC,GAAA,CAAK,SAASA,CAAAA,CAAI,EAAC,EAAG,MAAM,GAAA,EAAK,QAAA,KAAa,KAAA;QAC9D;QAEJ,IAAI5B;QACJ,IAAI6d,IAAAA,CAAS7d,IAAOzD,EAAM,KAAA,CAAMghB,GAAG,MAAO,QAAQvd,MAAS,KAAA,IAASA,IAAOzD,EAAM,KAAA,CAAMihB;QACvF,IAAIK,MAAU,MACV,OAAO;QAEX,IAAIC,IAAQ;YACRD,CAAAA,CAAM,EAAC;YACPA,CAAAA,CAAM,EAAC;YACPA,CAAAA,CAAM,EACV;SAAA,CAAE,MAAA,CAAO,SAAS,GAAA,CAAKvc,CAAAA,IAAIA,EAAE,QAAA;QAI7B,OAHI,CAACmc,KAASK,EAAM,MAAA,KAAW,KAG3BA,EAAM,MAAA,GAAS,KAAK,CAACA,EAAM,IAAA,CAAMC,CAAAA,IAAO,eAAe,IAAA,CAAKA,MACrD,OAEJ;YACH,MAAMF,CAAAA,CAAM,EAAC;YACb,OAAAC;YACA,OAAA,CAAQxf,IAAMuf,CAAAA,CAAM,EAAC,MAAO,QAAQvf,MAAQ,KAAA,KAAA,CAAmBE,IAAOF,EAAI,QAAA,MAAc,QAAQE,MAAS,KAAA,IAApD,KAAA,IAAsEA,EAAK,IAAA,CAAKF;QACzI;IACJ;IACA,SAASye,GAAY,EAAE,MAAAiB,CAAAA,EAAO,OAAAF,CAAAA,EAAQ,OAAAG,CAAO,EAAA;QACzC,IAAIC,IAAWD,MAAU,KAAA;QACzB,OAAO,CAAA,EAAGD,EAAI,CAAA,EAAIF,EAAM,IAAA,CAAK,KAAI,EAAGI,IAAW,CAAA,GAAA,EAAMD,EAAK,CAAA,GAAK,GAAE,CAAA,CACrE;IAAA;AAAA;ACjGA,IAAAE,KAAA/hB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,SAASugB,GAAQ1e,CAAAA,EAAQ2e,CAAAA;QACrB,IAAA,IAAQjY,KAAQiY,EAAI,OAAO,cAAA,CAAe3e,GAAQ0G,GAAM;YACpD,YAAY,CAAA;YACZ,KAAKiY,CAAAA,CAAIjY,EACb;QAAA;IACJ;IACAgY,GAAQvgB,IAAS;QACb,gBAAgB,IAAI+hB;QACpB,SAAS,IAAIC;IACjB;IACA,IAAMC,KAAS;IACf,SAASF,GAAeN,CAAAA,EAAOS,CAAAA,EAAYC,CAAAA;QACvC,IAAI,OAAOV,KAAU,YACjB,OAAOA,EAAM;YACT,cAAcS;QAClB;QAEJ,IAAIE,IAAAA,CAAAA,GAAaH,GAAO,UAAA,EAAYR,GAAO;YACvC,OAAO,CAAA;QACX;QACA,OAAIW,MAAW,OACJD,IAAAA,CAAAA,GAEAF,GAAO,WAAA,EAAa;YAC3B,GAAGG,CAAAA;YACH,OAAOF;QACX;IACJ;IACA,SAASF,GAAkB,EAAE,OAAAP,CAAAA,EAAQ,UAAAY,CAAAA,EAAW,UAAAC,CAAU,EAAA;QACtD,IAAIC,IAAa,EAAC,CAAE,MAAA,CAAOF;QAC3B,IAAI,OAAOZ,KAAU,YACjB,OAAO;YACH,CAACa,EAAQ,EAAG;YACZ,GAAG,OAAO,WAAA,CAAYC,EAAW,GAAA,CAAK1X,CAAAA,IAC3B;oBACHA;oBACA4W,EAAM;wBACF,iBAAiBa;wBACjB,cAAc,CAAA,IAAA,EAAOA,EAAQ,CAAA,CACjC;oBAAA;iBAEP,EACL;QAAA;QAEJ,IAAMF,IAAAA,CAAAA,GAAaH,GAAO,UAAA,EAAYR;QACtC,OAAIW,MAAW,OACJ,OAAO,WAAA,CAAYG,EAAW,GAAA,CAAK1X,CAAAA,IAAI;gBACtCA;gBACA4W;aACH,KAELW,EAAO,KAAA,KAAU,KAAA,IAEV,OAAO,WAAA,CAAYG,EAAW,GAAA,CAAK1X,CAAAA,IAAI;gBACtCA;gBACA4W;aACH,KAEF;YACH,CAACa,EAAQ,EAAG;YACZ,GAAG,OAAO,WAAA,CAAYC,EAAW,GAAA,CAAK1X,CAAAA,IAC3B;oBACHA;oBAAAA,CAAAA,GACIoX,GAAO,WAAA,EAAa;wBACpB,GAAGG,CAAAA;wBACH,OAAO,CAAA,IAAA,EAAOE,EAAQ,CAAA,CAC1B;oBAAA;iBAEP,EACL;QAAA;IACJ;AAAA;AC1EA,IAAAE,KAAAziB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,SAASugB,GAAQ1e,CAAAA,EAAQ2e,CAAAA;QACrB,IAAA,IAAQjY,KAAQiY,EAAI,OAAO,cAAA,CAAe3e,GAAQ0G,GAAM;YACpD,YAAY,CAAA;YACZ,KAAKiY,CAAAA,CAAIjY,EACb;QAAA;IACJ;IACAgY,GAAQvgB,IAAS;QACb,SAAS,IAAIyiB;QACb,kBAAkB,IAAIC;QACtB,KAAK,IAAIC;QACT,UAAU,IAAIC;QACd,YAAY,IAAIC;QAChB,gBAAgB,IAAIC;QACpB,QAAQ,IAAIC;IAChB;IACA,IAAMC,KAAgB,uBAChBC,KAAoB,OAAOD,GAAc,MAAM;IAGjD,SAASE,GAASnhB,CAAAA;QAClB,OAAAA,IAAS,MAAM,OAAA,CAAQA,KAAUA,IAAS;YACtCA;SACJ,EACAA,IAASA,EAAO,GAAA,CAAK+W,CAAAA,IAAOA,aAAgB,SAASA,EAAK,MAAA,GAASA,IAC5D/W,EAAO,IAAA,CAAK;IACvB;IACA,SAAS0gB,GAAQ1gB,CAAAA;QACb,OAAO,IAAI,OAAOmhB,GAASnhB,IAAS;IACxC;IACA,SAAS2gB,GAAiB3gB,CAAAA;QACtB,OAAO,IAAI,OAAO,CAAA,GAAA,EAAMmhB,GAASnhB,GAAO,CAAA,CAAA,EAAK;IACjD;IACA,SAAS4gB,GAAI7gB,CAAAA;QACT,OAAO,CAAA,GAAA,EAAMA,EAAQ,GAAA,CAAIohB,IAAU,IAAA,CAAK,KAAI,CAAA,CAChD;IAAA;IACA,SAASN,GAAS7gB,CAAAA;QACd,OAAO,CAAA,GAAA,EAAMmhB,GAASnhB,GAAO,EAAA,CACjC;IAAA;IACA,SAAS8gB,GAAW9gB,CAAAA;QAChB,OAAO,CAAA,GAAA,EAAMmhB,GAASnhB,GAAO,EAAA,CACjC;IAAA;IACA,SAAS+gB,GAAeK,CAAAA,EAAMC,CAAAA,EAAOC,IAAQ,CAAA;QACzC,OAAOX,GAAiB;YACpBK,GAAOI;YACP;YACAE,MAAU,IAAI,CAAA,EAAA,EAAKN,GAAOI,GAAK,EAAGJ,GAAOK,GAAM,GAAA,CAAA,GAAST,GAAI;gBACxD,CAAA,EAAA,EAAKI,GAAOI,GAAK,EAAGJ,GAAOK,GAAM,GAAA,CAAA;gBACjCN,GAAeK,GAAMC,GAAOC,IAAQ;aACvC;YACD;YACAN,GAAOK;SACV;IACL;IACA,SAASL,GAAOlV,CAAAA;QACZ,OAAOA,KAAUoV,GAAkB,IAAA,CAAKpV,KAAUA,EAAO,OAAA,CAAQmV,IAAe,UAAUnV,KAAU;IACxG;AAAA;AC3DA,IAAAyV,KAAAvjB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,uBAAuB;QAClD,YAAY,CAAA;QACZ,KAAK,IAAIujB;IACb;IACA,IAAMC,KAAuB7gB,GAAwB;IACrD,SAASC,GAAyBC,CAAAA;QAC9B,IAAI,OAAO,WAAY,YAAY,OAAO;QAC1C,IAAIC,IAAoB,IAAI,SACxBC,IAAmB,IAAI;QAC3B,OAAA,CAAQH,KAA2B,SAASC,CAAAA;YACxC,OAAOA,IAAcE,IAAmBD;QAC5C,CAAA,EAAGD;IACP;IACA,SAASF,GAAwBrB,CAAAA,EAAKuB,CAAAA;QAClC,IAAI,CAACA,KAAevB,KAAOA,EAAI,UAAA,EAC3B,OAAOA;QAEX,IAAIA,MAAQ,QAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,YAC1D,OAAO;YACH,SAASA;QACb;QAEJ,IAAI0B,IAAQJ,GAAyBC;QACrC,IAAIG,KAASA,EAAM,GAAA,CAAI1B,IACnB,OAAO0B,EAAM,GAAA,CAAI1B;QAErB,IAAI2B,IAAS,CAAC,GACVC,IAAwB,OAAO,cAAA,IAAkB,OAAO,wBAAA;QAC5D,IAAA,IAAQjC,KAAOK,EACX,IAAIL,MAAQ,aAAa,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAKK,GAAKL,IAAM;YACrE,IAAIkC,IAAOD,IAAwB,OAAO,wBAAA,CAAyB5B,GAAKL,KAAO;YAC3EkC,KAAAA,CAASA,EAAK,GAAA,IAAOA,EAAK,GAAA,IAC1B,OAAO,cAAA,CAAeF,GAAQhC,GAAKkC,KAEnCF,CAAAA,CAAOhC,EAAG,GAAIK,CAAAA,CAAIL,EAE1B;QAAA;QAEJ,OAAAgC,EAAO,OAAA,GAAU3B,GACb0B,KACAA,EAAM,GAAA,CAAI1B,GAAK2B,IAEZA;IACX;IACA,UAAUsgB,GAAoBzN,CAAAA,EAAO2N,CAAAA;QACjC,IAAIC,IAAW,IAAI,OAAO,CAAA,WAAA,EAAcF,GAAO,MAAA,CAAOC,GAAU,CAAA,CAAA,EAAK,MACjEJ,IAAQ,GACRM,IAAY,GACZjY,IAAQ,CAAA,GACRkY,IAAiB,GACjBC,IAAiB,GACjBC,IAAkBL,EAAU,MAAA;QAGhC,KAAA,IAASjC,KAAS1L,EAAM,QAAA,CAAS4N,GAAU;YACvC,IAAIK,IAAmBvC,CAAAA,CAAM,EAAC,KAAMiC,CAAAA,CAAUG,EAAc,EACxDI,IAAmBJ,MAAmBE,IAAkB,GACxDG,IAAuBF,KAAoBC;YAC3CxC,CAAAA,CAAM,EAAC,KAAM,OAAK6B,KAClB7B,CAAAA,CAAM,EAAC,KAAM,OAAK6B,KAClB7B,CAAAA,CAAM,EAAC,KAAM,OAAK6B,KAClB7B,CAAAA,CAAM,EAAC,KAAM,OAAK6B,KAClB7B,CAAAA,CAAM,EAAC,KAAM,OAAK6B,KAClB7B,CAAAA,CAAM,EAAC,KAAM,OAAK6B,KAClBU,KAAoBV,MAAU,KAAA,CAC1BQ,MAAmB,KAAA,CACnBA,IAAiBrC,EAAM,KAAA,GAE3BoC,GAAAA,GAEAK,KAAwBZ,MAAU,KAAA,CAClC3X,IAAQ,CAAA,GACR,MAAMoK,EAAM,SAAA,CAAU6N,GAAWE,IACjCF,IAAYE,IAAiBC,CAAAA,GAE7BF,MAAmBE,KAAAA,CACnBF,IAAiB,GACjBC,IAAiB,CAAA;QAEzB;QAIInY,IACA,MAAMoK,EAAM,SAAA,CAAU6N,KAEtB,MAAM7N;IAEd;AAAA;AC5FA,IAAAoO,KAAAnkB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,SAASugB,GAAQ1e,CAAAA,EAAQ2e,CAAAA;QACrB,IAAA,IAAQjY,KAAQiY,EAAI,OAAO,cAAA,CAAe3e,GAAQ0G,GAAM;YACpD,YAAY,CAAA;YACZ,KAAKiY,CAAAA,CAAIjY,EACb;QAAA;IACJ;IACAgY,GAAQvgB,IAAS;QACb,qBAAqB,IAAImkB;QACzB,sBAAsB,IAAIC;IAC9B;IACA,IAAMC,KAAuB,MACzBC,KAAW,IAAI,IAAI;QACnB;QACA;QACA;QACA;QACA;KACH,GACGC,KAAQ,mBAERC,KAAS;IACb,SAASL,GAAoBrO,CAAAA;QAEzB,OADc,MAAM,IAAA,CAAA,CAAA,GAASuO,GAAqB,mBAAA,EAAqBvO,GAAO,MAC/D,GAAA,CAAK2O,CAAAA;YAChB,IAAIvkB,IAAQukB,EAAO,IAAA,IACf5Y,IAAS;gBACT,KAAK3L;YACT,GACIwkB,IAAQxkB,EAAM,KAAA,CAAMqkB,KACpBI,IAAO,IAAI;YACf,KAAA,IAASjD,KAAQgD,EAEbF,GAAO,SAAA,GAAY,GAEf,CAACG,EAAK,GAAA,CAAI,cAAcL,GAAS,GAAA,CAAI5C,KAAI,CACzC7V,EAAO,OAAA,GAAU6V,GACjBiD,EAAK,GAAA,CAAI,UAAS,IACXH,GAAO,IAAA,CAAK9C,KACdiD,EAAK,GAAA,CAAI,OAGFA,EAAK,GAAA,CAAI,OAGTA,EAAK,GAAA,CAAI,UAGTA,EAAK,GAAA,CAAI,aAAQ,CACzB9Y,EAAO,MAAA,GAAS6V,GAChBiD,EAAK,GAAA,CAAI,SAAQ,IAAA,CAJjB9Y,EAAO,IAAA,GAAO6V,GACdiD,EAAK,GAAA,CAAI,OAAM,IAAA,CAJf9Y,EAAO,CAAA,GAAI6V,GACXiD,EAAK,GAAA,CAAI,IAAG,IAAA,CAJZ9Y,EAAO,CAAA,GAAI6V,GACXiD,EAAK,GAAA,CAAI,IAAG,IAYX9Y,EAAO,KAAA,GAAA,CAGHA,EAAO,OAAA,IAAA,CAASA,EAAO,OAAA,GAAU,EAAC,GACvCA,EAAO,OAAA,CAAQ,IAAA,CAAK6V,EAAI,IAHxB7V,EAAO,KAAA,GAAQ6V;YAQ3B,OAAA7V,EAAO,KAAA,GAAQA,EAAO,CAAA,KAAM,KAAA,KAAaA,EAAO,CAAA,KAAM,KAAA,GAC/CA;QACX;IACJ;IACA,SAASuY,GAAqBQ,CAAAA;QAC1B,OAAOA,EAAQ,GAAA,CAAKH,CAAAA,IACXA,EAAO,KAAA,GAGL;gBACHA,EAAO,OAAA;gBACPA,EAAO,CAAA;gBACPA,EAAO,CAAA;gBACPA,EAAO,IAAA;gBACPA,EAAO,MAAA;gBACPA,EAAO,KACX;aAAA,CAAE,MAAA,CAAO,SAAS,IAAA,CAAK,OATZA,EAAO,GAUrB,EAAE,IAAA,CAAK;IACZ;AAAA;ACnFA,IAAAI,KAAA9kB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,SAASugB,GAAQ1e,CAAAA,EAAQ2e,CAAAA;QACrB,IAAA,IAAQjY,KAAQiY,EAAI,OAAO,cAAA,CAAe3e,GAAQ0G,GAAM;YACpD,YAAY,CAAA;YACZ,KAAKiY,CAAAA,CAAIjY,EACb;QAAA;IACJ;IACAgY,GAAQvgB,IAAS;QACb,WAAW,IAAI8kB;QACf,KAAK,IAAIC;QACT,QAAQ,IAAIC;QACZ,YAAY,IAAIC;QAChB,QAAQ,IAAI9W;QACZ,WAAW,IAAI+W;QACf,QAAQ,IAAIT;QACZ,OAAO,IAAIhD;QACX,OAAO,IAAI0D;QACX,UAAU,IAAIC;QACd,UAAU,IAAIpK;QACd,YAAY,IAAIqK;QAChB,aAAa,IAAIC;QACjB,cAAc,IAAIC;QAClB,cAAc,IAAIC;IACtB;IACA,IAAMvD,KAAS,MACTwD,KAAuB,MACzBC,KAAe;QACf;QACA;QACA;QACA;KACJ,EAEIC,KAAQ,iBAERC,KAAa;IAEjB,SAASd,GAAU5kB,CAAAA,EAAOqf,IAAS,CAAA,CAAA;QAE/B,OAAIrf,EAAM,QAAA,CAAS,UACRA,EAAM,KAAA,CAAM,iBAAiB,MAAA,CAAO,SAAS,GAAA,CAAKwhB,CAAAA,IACjD,eAAe,IAAA,CAAKA,KACbA,IAEJoD,GAAUpD,GAAM,CAAA,IACxB,IAAA,CAAK,MAAE,CAGdxhB,IAAQA,EAAM,OAAA,CAAQ,cAAc,CAAC2lB,GAAWC,IAAkBA,IAAkB,IAAI,MAAA,CAAOD,EAAU,MAAA,GAAS,IAAI,OAAA,CAAQ,OAAO,KAAK,OAAA,CAAQ,QAAQ,MAEtJtG,KAAAA,CACArf,IAAQA,EAAM,IAAA,EAAK,GAIvBA,IAAQA,EAAM,OAAA,CAAQ,+BAAgCshB,CAAAA,IAC3CA,EAAM,OAAA,CAAQ,qEAAqE,YAEvFthB,CAAAA;IACX;IACA,SAAS6kB,GAAI7kB,CAAAA;QACT,OAAOA,EAAM,UAAA,CAAW;IAC5B;IACA,SAAS8kB,GAAO9kB,CAAAA;QACZ,OAAO,CAAC,MAAM,OAAOA,OAAWwlB,GAAa,IAAA,CAAM5V,CAAAA,IAAK,IAAI,OAAO,CAAA,CAAA,EAAIA,EAAE,MAAA,CAAQ,EAAE,IAAA,CAAK5P;IAC5F;IACA,SAAS+kB,GAAW/kB,CAAAA;QAChB,OAAOA,EAAM,KAAA,CAAM0lB,IAAY,KAAA,CAAOlE,CAAAA,IAC3B,MAAM,IAAA,CAAKA,MAASgE,GAAa,IAAA,CAAM5V,CAAAA,IAAK,IAAI,OAAO,CAAA,CAAA,EAAIA,EAAE,OAAA,CAAS,EAAE,IAAA,CAAK4R;IAE5F;IACA,IAAIqE,KAAc;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACJ,EACIC,KAAqB,CAAA,GAAA,EAAMD,GAAY,IAAA,CAAK,KAAI,CAAA,CAAA;IACpD,SAAS5X,GAAOjO,CAAAA;QACZ,OAAOA,EAAM,KAAA,CAAM0lB,IAAY,KAAA,CAAOlE,CAAAA,IAC3BA,MAAS,OAAO,IAAI,OAAO,CAAA,EAAGsE,GAAkB,CAAA,CAAG,EAAE,IAAA,CAAKtE,MAASgE,GAAa,IAAA,CAAM5V,CAAAA,IAAK,IAAI,OAAO,CAAA,CAAA,EAAIA,EAAE,MAAA,EAASkW,GAAkB,CAAE,EAAE,IAAA,CAAKtE;IAE/J;IACA,IAAIuE,KAAa,IAAI,IAAI;QACrB;QACA;QACA;KACH;IACD,SAASf,GAAUhlB,CAAAA;QACf,OAAO+lB,GAAW,GAAA,CAAI/lB;IAC1B;IACA,SAASukB,GAAOvkB,CAAAA;QACZ,IAAIgmB,IAAAA,CAAAA,GAAoBT,GAAqB,mBAAA,EAAqBX,GAAU5kB;QAC5E,KAAA,IAASimB,KAAgBD,EACrB,IAAI,CAACC,EAAa,KAAA,EACd,OAAO,CAAA;QAGf,OAAO,CAAA;IACX;IACA,SAAS1E,GAAMvhB,CAAAA;QACX,IAAIS,IAAS;QASb,OARaT,EAAM,KAAA,CAAM0lB,IAAY,KAAA,CAAOlE,CAAAA,IAAAA,CACxCA,IAAOoD,GAAUpD,IACbA,EAAK,UAAA,CAAW,UAAgB,CAAA,IAAA,CAAA,GAC5BO,GAAO,UAAA,EAAYP,GAAM;gBAC7B,OAAO,CAAA;YACX,OAAO,OAAA,CAAa/gB,KAAU,CAAA,CAAA,IACvB,CAAA,CAAA,KAGJA,IAAS,IADI,CAAA;IAExB;IACA,SAASwkB,GAAMjlB,CAAAA;QACX,IAAIkmB,IAAS;QAeb,OAdalmB,EAAM,KAAA,CAAMylB,IAAO,KAAA,CAAOjE,CAAAA,IAAAA,CACnCA,IAAOoD,GAAUpD,IACbA,EAAK,UAAA,CAAW,UAAgB,CAAA,IAChCqD,GAAIrD,MAAS0D,GAAS1D,MAAS;gBAC/B;gBACA;gBACA;gBACA;aACJ,CAAE,IAAA,CAAM5R,CAAAA,IAAK4R,EAAK,UAAA,CAAW5R,MAAG,CAC5BsW,KACO,CAAA,CAAA,IAEJ,CAAA,CAAA,KAGJA,IAAS,IADI,CAAA;IAExB;IACA,IAAIC,KAAgB,IAAI,IAAI;QACxB;QACA;QACA;QACA;QACA;KACH;IACD,SAASjB,GAASllB,CAAAA;QACdA,IAAQ4kB,GAAU5kB;QAClB,KAAA,IAAS8H,KAAQqe,GACb,IAAInmB,EAAM,UAAA,CAAW,CAAA,EAAG8H,EAAI,CAAA,CAAG,GAC3B,OAAO,CAAA;QAGf,OAAO,CAAA;IACX;IACA,IAAIse,KAAiB,IAAI,IAAI;QACzB;QACA;QACA;QACA;QACA;KACH;IACD,SAAStL,GAAS9a,CAAAA;QACd,IAAIqmB,IAAY;QAUhB,OATarmB,EAAM,KAAA,CAAM0lB,IAAY,KAAA,CAAOlE,CAAAA,IAAAA,CACxCA,IAAOoD,GAAUpD,IACbA,EAAK,UAAA,CAAW,UAAgB,CAAA,IAChC4E,GAAe,GAAA,CAAI5E,MAASvT,GAAOuT,MAASuD,GAAWvD,KAAI,CAC3D6E,KACO,CAAA,CAAA,IAEJ,CAAA,CAAA,KAGJA,IAAY,IADC,CAAA;IAExB;IACA,SAASlB,GAAWnlB,CAAAA;QAChB,IAAIsmB,IAAQ;QAiBZ,OAhBatmB,EAAM,KAAA,CAAMylB,IAAO,KAAA,CAAOjE,CAAAA,IAAAA,CACnCA,IAAOoD,GAAUpD,IACbA,EAAK,UAAA,CAAW,UAAgB,CAAA,IAEhCA,EAAK,QAAA,CAAS,QACV,CAAC,oBAAoB,IAAA,CAAKA,MAK9B,OAAO,IAAA,CAAKA,KACL,CAAA,IAAA,CAEX8E,KACO,CAAA,CAAA,CAAA,KAGJA,IAAQ,IADK,CAAA;IAExB;IACA,IAAIC,KAAe,IAAI,IAAI;QACvB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACH;IACD,SAASnB,GAAYplB,CAAAA;QACjB,OAAOumB,GAAa,GAAA,CAAIvmB;IAC5B;IACA,IAAIwmB,KAAgB,IAAI,IAAI;QACxB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACH;IACD,SAASnB,GAAarlB,CAAAA;QAClB,OAAOwmB,GAAc,GAAA,CAAIxmB;IAC7B;IACA,IAAIymB,KAAgB,IAAI,IAAI;QACxB;QACA;KACH;IACD,SAASnB,GAAatlB,CAAAA;QAClB,OAAOymB,GAAc,GAAA,CAAIzmB;IAC7B;AAAA;AClPA,IAAA0mB,KAAA7mB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,SAASugB,GAAQ1e,CAAAA,EAAQ2e,CAAAA;QACrB,IAAA,IAAQjY,KAAQiY,EAAI,OAAO,cAAA,CAAe3e,GAAQ0G,GAAM;YACpD,YAAY,CAAA;YACZ,KAAKiY,CAAAA,CAAIjY,EACb;QAAA;IACJ;IACAgY,GAAQvgB,IAAS;QACb,kBAAkB,IAAI6mB;QACtB,SAAS,IAAIC;QACb,kBAAkB,IAAIC;QACtB,SAAS,IAAIC;QACb,eAAe,IAAIC;QACnB,aAAa,IAAIC;IACrB;IACA,IAAMC,KAAuC9lB,GAAuB,OAC9D+lB,KAA8B/lB,GAAuB,OACrDgmB,KAAqB,MACrBC,KAAa,MACbC,KAA6BlmB,GAAuB;IAC1D,SAASA,GAAuBC,CAAAA;QAC5B,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YACjC,SAASA;QACb;IACJ;IACA,SAASulB,GAAiB5G,CAAAA,EAAWuH,CAAAA;QAWjC,OAAA,CAAA,GAViBL,GAAuB,OAAA,EAAUlH,CAAAA;YAC9CA,EAAU,WAAA,CAAawH,CAAAA;gBACnB,IAAIC,IAAeF,EAAYC,EAAI,KAAK;gBACxCA,EAAI,KAAA,GAAQC,GACRD,EAAI,IAAA,IAAQA,EAAI,IAAA,CAAK,KAAA,IAAA,CACrBA,EAAI,IAAA,CAAK,KAAA,GAAA,CAAA,GAAYL,GAAc,OAAA,EAASK,EAAI,IAAA,CAAK,KAAK,CAAA;YAElE;QACJ,GACoB,WAAA,CAAYxH;IAEpC;IACA,SAAS0H,GAAsBC,CAAAA,EAAUC,CAAAA;QACrC,IAAI,CAACC,GAAiBF,IAClB;QAEJ,IAAI1nB,IAAQ0nB,EAAS,KAAA,CAAM,GAAG,CAAA;QAC9B,IAAKC,EAAS3nB,IAGd,OAAA,CAAA,GAAWonB,GAAW,SAAA,EAAWpnB;IACrC;IACA,SAAS6nB,GAAgBH,CAAAA,EAAUI,IAAS,CAAC,CAAA,EAAGH,CAAAA;QAC5C,IAAII,IAAgBD,CAAAA,CAAOJ,EAAQ;QACnC,IAAIK,MAAkB,KAAA,GAClB,OAAA,CAAA,GAAWV,GAAa,OAAA,EAASU;QAErC,IAAIH,GAAiBF,IAAW;YAC5B,IAAIM,IAAWP,GAAsBC,GAAUC;YAC/C,OAAIK,MAAa,KAAA,IACb,KAAA,IAAA,CAAA,GAEOX,GAAa,OAAA,EAASW;QACrC;IACJ;IACA,SAASpB,GAAQc,CAAAA,EAAU3a,IAAU,CAAC,CAAA,EAAG,EAAE,UAAA4a,IAAU,IAAI,CAAA,CAAM,EAAA,GAAI,CAAC,CAAA;QAChE,IAAI5lB;QACJ,IAAI/B,IAAAA,CAAS+B,IAAMgL,EAAQ,MAAA,MAAY,QAAQhL,MAAQ,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAI2lB,EAAQ;QACrF,OAAI1nB,MAAU,KAAA,IACHA,IAEP+M,EAAQ,sBAAA,IAA0B2a,EAAS,UAAA,CAAW,OAC/CG,GAAgBH,EAAS,KAAA,CAAM,IAAI3a,EAAQ,MAAA,EAAQ4a,KAEvDF,GAAsBC,GAAUC;IAC3C;IACA,SAASC,GAAiBhS,CAAAA;QACtB,OAAOA,EAAM,UAAA,CAAW,QAAQA,EAAM,QAAA,CAAS;IACnD;IACA,SAASqS,GAAWP,CAAAA;QAChB,IAAIQ,IAAWR,EAAS,WAAA,CAAY;QACpC,OAAIQ,MAAa,CAAA,KAAMA,MAAaR,EAAS,MAAA,GAAS,IAC3C;YACHA;SACJ,GAEG;YACHA,EAAS,KAAA,CAAM,GAAGQ;YAClBR,EAAS,KAAA,CAAMQ,IAAW;SAElC;IAAA;IACA,SAASrB,GAAiB7mB,CAAAA;QACtB,IAAI,OAAOA,KAAU,YAAYA,EAAM,QAAA,CAAS,kBAAkB;YAC9D,IAAIga,IAAWha;YACf,OAAO,CAAC,EAAE,cAAAmoB,IAAc,CAAG,EAAA,GAAInO,EAAS,OAAA,CAAQ,iBAAiBmO;QACrE;QACA,OAAOnoB;IACX;IACA,SAAS8mB,GAAQY,CAAAA,EAAU3a,IAAU,CAAC,CAAA,EAAG,EAAE,gBAAAqb,IAAgB,CAAC,CAAG,EAAA,GAAI,CAAC,CAAA;QAChE,IAAIrmB;QACJ,IAAA,CAAA,CAAMA,IAAMgL,EAAQ,MAAA,MAAY,QAAQhL,MAAQ,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAI2lB,EAAQ,MAAO,KAAA,GAAW;YAC5F,IAAIzlB;YACJ,OAAO4kB,GAAAA,CAAkB5kB,IAAO8K,EAAQ,MAAA,MAAY,QAAQ9K,MAAS,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAKylB,EAAS;QACzG;QACA,IAAI,CAACnG,GAAOG,EAAK,GAAIuG,GAAWP;QAChC,IAAIhG,MAAU,KAAA,GAAW;YACrB,IAAIje,GAAMC,GAAMC,GACZC;YACJ,IAAIykB,IAAAA,CAAmBzkB,IAAAA,CAAQH,IAAOsJ,EAAQ,MAAA,MAAY,QAAQtJ,MAAS,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAK8d,EAAK,MAAO,QAAQ3d,MAAS,KAAA,IAASA,IAAOgkB,GAAiBrG,KAASA,EAAM,KAAA,CAAM,GAAG,CAAA,KAAM,KAAA;YAC9L,OAAI8G,MAAoB,KAAA,IACpB,KAAA,IAAA,CAEJA,IAAkBxB,GAAiBwB,IAC/BT,GAAiBlG,KAAK,CAAA,GACXyF,GAAmB,cAAA,EAAgBkB,GAAiB3G,EAAM,KAAA,CAAM,GAAG,CAAA,MAAG,CAAA,CAE/Ehe,IAAO0kB,EAAe,KAAA,MAAW,QAAQ1kB,MAAS,KAAA,KAAA,CAAmBC,IAAOD,EAAK,OAAA,MAAa,QAAQC,MAAS,KAAA,IAApD,KAAA,IAAsEA,CAAAA,CAAK+d,EAAK,MAAO,KAAA,IACpJ,KAAA,IAAA,CAAA,GAEOyF,GAAmB,cAAA,EAAgBkB,GAAiBD,EAAe,KAAA,CAAM,OAAA,CAAQ1G,EAAM,CAAA;QACtG;QACA,OAAOkF,GAAQc,GAAU3a,GAAS;YAC9B,UAAUqa,GAAW,KACzB;QAAA;IACJ;IACA,SAASL,GAAcW,CAAAA,EAAU3a,IAAU,CAAC,CAAA;QACxC,IAAIhL;QACJ,OAAA,CAAQA,IAAMgL,EAAQ,MAAA,MAAY,QAAQhL,MAAQ,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAI2lB,EAC5E;IAAA;IACA,SAASY,GAAMX,CAAAA;QACX,OAAO,CAACD,GAAU3a,IACP6Z,GAAQc,GAAU3a,GAAS;gBAC9B,UAAA4a;YACJ;IAER;IACA,IAAIY,KAAU;QACV,KAAK3B;QACL,OAAOE;QACP,KAAKwB,GAAMlB,GAAW,GAAG;QACzB,OAAOkB,GAAMlB,GAAW,KAAK;QAC7B,QAAQkB,GAAMlB,GAAW,MAAM;QAC/B,YAAYkB,GAAMlB,GAAW,UAAU;QACvC,UAAUkB,GAAMlB,GAAW,QAAQ;QACnC,QAAQL;QACR,gBAAgBuB,GAAMlB,GAAW,WAAW;QAC5C,eAAekB,GAAMlB,GAAW,UAAU;QAC1C,QAAQkB,GAAMlB,GAAW,MAAM;QAC/B,cAAckB,GAAMlB,GAAW,SAAS;QACxC,iBAAiBkB,GAAMlB,GAAW,YAAY;QAC9C,iBAAiBkB,GAAMlB,GAAW,YAAY;QAC9C,QAAQkB,GAAMlB,GAAW,MAAM;IACnC,GACIoB,KAAiB,OAAO,IAAA,CAAKD;IACjC,SAASE,GAAa7S,CAAAA,EAAO8S,CAAAA;QACzB,IAAIC,IAAM/S,EAAM,OAAA,CAAQ8S;QACxB,OAAIC,MAAQ,CAAA,IAAW;YACnB,KAAA;YACA/S;SACJ,GACO;YACHA,EAAM,KAAA,CAAM,GAAG+S;YACf/S,EAAM,KAAA,CAAM+S,IAAM;SAE1B;IAAA;IACA,SAAS3B,GAAYpd,CAAAA,EAAO8d,CAAAA,EAAU3a,CAAAA,EAASqb,CAAAA;QAC3C,IAAIR,GAAiBF,IAAW;YAC5B,IAAIkB,IAAiBlB,EAAS,KAAA,CAAM,GAAG,CAAA,IACnC,CAACmB,GAAc7oB,EAAK,GAAIyoB,GAAaG,GAAgB;YAIzD,IAAI,CAAC,aAAa,IAAA,CAAKC,IACnB7oB,IAAQ4oB;iBAAAA,IACDC,MAAiB,KAAA,KAAa,CAACL,GAAe,QAAA,CAASK,IAC9D,OAAO,EAAC;YAEZ,IAAI7oB,EAAM,MAAA,GAAS,KAAKwoB,GAAe,QAAA,CAASK,IAC5C,OAAO;gBACHjC,GAAQ,CAAA,CAAA,EAAI5mB,EAAK,CAAA,CAAA,EAAK+M;gBACtB8b;aAGZ;QAAA;QAEA,KAAA,IAAS/gB,KAAQ,EAAC,CAAE,MAAA,CAAO8B,GAAO;YAC9B,IAAI+B,IAAS4c,EAAAA,CAAQzgB,EAAI,CAAE4f,GAAU3a,GAAS;gBAC1C,gBAAAqb;YACJ;YACA,IAAIzc,MAAW,KAAA,GAAW,OAAO;gBAC7BA;gBACA7D;aAER;QAAA;QACA,OAAO,EACX;IAAA;AAAA;AClMA,IAAAghB,KAAAjpB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIipB;IACb;IACA,SAASA,GAAaC,CAAAA;QAClB,OAAO,OAAOA,KAAkB,aAAaA,EAAc,CAAC,KAAKA;IACrE;AAAA;ACVA,IAAAC,KAAAppB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIopB;IACb;IACA,IAAM7B,KAA6BlmB,GAAuB,OACpDgoB,KAAgChoB,GAAuB,OACvDioB,KAAkCjoB,GAAuB,OACzDkoB,KAAmCloB,GAAuB,OAC1DmoB,KAAwBnoB,GAAuB,OAC/CooB,KAAY,MACZC,KAAU,MACVC,KAAmB,MACnBC,KAA+BvoB,GAAuB,OACtDwoB,KAAa,MACbC,KAAe,MACfzC,KAAqB,MACrB0C,KAA8B1oB,GAAuB;IAC3D,SAASA,GAAuBC,CAAAA;QAC5B,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YACjC,SAASA;QACb;IACJ;IACA,SAAS0oB,GAAWlU,CAAAA;QAChB,OAAO,OAAOA,KAAU;IAC5B;IACA,SAASmU,GAASnU,CAAAA;QACd,OAAO,OAAOA,KAAU,YAAYA,MAAU;IAClD;IACA,SAASoU,GAAUroB,CAAAA,EAAAA,GAAWC,CAAAA;QAC1B,IAAIqoB,IAAaroB,EAAQ,GAAA;QACzB,KAAA,IAASC,KAAUD,EACf,IAAA,IAAQE,KAAKD,EAAO;YAChB,IAAI4b,IAASwM,EAAWtoB,CAAAA,CAAOG,EAAC,EAAGD,CAAAA,CAAOC,EAAE;YACxC2b,MAAW,KAAA,IACPsM,GAASpoB,CAAAA,CAAOG,EAAE,KAAKioB,GAASloB,CAAAA,CAAOC,EAAE,IACzCH,CAAAA,CAAOG,EAAC,GAAIkoB,GAAUroB,CAAAA,CAAOG,EAAC,EAAGD,CAAAA,CAAOC,EAAC,EAAGmoB,KAE5CtoB,CAAAA,CAAOG,EAAC,GAAID,CAAAA,CAAOC,EAAC,GAGxBH,CAAAA,CAAOG,EAAC,GAAI2b;QAEpB;QAEJ,OAAO9b;IACX;IACA,IAAMuoB,KAAc;QAChB,QAAQZ,GAAQ,OAAA;QAChB,UAAUa,CAAAA;YAEN,OAAO,OAAO,IAAA,CAAKA,GAAO,MAAA,CAAQppB,CAAAA,IAAMopB,CAAAA,CAAMppB,EAAG,KAAM,KAAK,MAAA,CAAO,CAACqpB,GAAerpB;gBAC/E,IAAIspB,IAAAA,CAAAA,GAAoBhD,GAAa,OAAA,EAAS8C,CAAAA,CAAMppB,EAAI;gBACxD,OAAIspB,MAAkB,KAAA,KAAA,CAClBD,CAAAA,CAAc,CAAA,CAAA,EAAIrpB,EAAG,CAAE,CAAA,GAAIspB,CAAAA,GAExBD;YACX,GAAG,CAAC;QACR;QACA,aAAaE,CAAAA;YACT,OAAO,OAAO,IAAA,CAAKA,GAAS,MAAA,CAAQvpB,CAAAA,IAAM,OAAOupB,CAAAA,CAAQvpB,EAAG,IAAM,UAAU,MAAA,CAAO,CAACJ,GAAaI,IAAAA,CAAO;oBAChG,GAAGJ,CAAAA;oBACH,CAAC,CAAA,OAAA,EAAUI,EAAG,CAAE,CAAA,EAAGupB,CAAAA,CAAQvpB,EAC/B;gBAAA,CAAA,GAAI,CAAC;QACb;IACJ;IACA,SAASf,GAAMuqB,CAAAA,EAAAA,GAAmB1a,CAAAA;QAC9B,OAAOia,GAAWS,KAAkBA,KAAkB1a,KAAQ0a;IAClE;IACA,SAASC,GAAeC,CAAAA;QACpB,OAAOA,EAAM,MAAA,CAAO,CAAChN,GAAQ,EAAE,QAAAiN,CAAQ,EAAA,GAC5BV,GAAUvM,GAAQiN,GAAQ,CAACC,GAAaC,IACvCD,MAAgB,KAAA,IACT;oBACHC;iBACJ,GAEA,MAAM,OAAA,CAAQD,KACP;oBACHC;uBACGD;iBACP,GAEG;oBACHC;oBACAD;iBAEP,GACF,CAAC;IACR;IACA,SAASE,GAAYC,CAAAA;QACjB,OAAO;YACH,GAAGA,EAAO,MAAA,CAAO,CAACrN,GAAQ/c,IAAAA,CAAAA,GAAY6oB,GAAU,QAAA,EAAU9L,GAAQ/c,IAAQ,CAAC,EAAC;YAG5E,QAAQ8pB,GAAeM;QAC3B;IACJ;IACA,SAASC,GAAyBtN,CAAAA,EAAQzd,CAAAA;QAEtC,IAAI,MAAM,OAAA,CAAQyd,MAAWsM,GAAStM,CAAAA,CAAO,EAAE,GAC3C,OAAOA,EAAO,MAAA,CAAOzd;QAGzB,IAAI,MAAM,OAAA,CAAQA,MAAU+pB,GAAS/pB,CAAAA,CAAM,EAAE,KAAK+pB,GAAStM,IACvD,OAAO;YACHA;eACGzd;SACP;QAGJ,IAAI,MAAM,OAAA,CAAQA,IACd,OAAOA;IAIf;IACA,SAASgrB,GAAgB,EAAE,QAAAN,CAAAA,EAAS,GAAGhqB,GAAM;QACzC,OAAOspB,GAAUtpB,GAAOgqB,GAAQ,CAACO,GAAY9mB,IAErC,CAAC2lB,GAAWmB,MAAe,CAAC9mB,EAAW,IAAA,CAAK2lB,MACrCE,GAAU,CAAC,GAAGiB,MAAe9mB,GAAY4mB,MAE7C,CAACG,GAAkBC,IAAQnB,GAAU,CAAC,MAAM;oBAC3CiB;uBACG9mB;iBACP,CAAE,GAAA,CAAK2Z,CAAAA,IAAI9d,GAAM8d,GAAGoN,GAAkBC,KAASJ;IAE3D;IAKI,UAAUK,GAAQrqB,CAAAA;QAClB,IAAIqB,IAAAA,CAAAA,GAAWonB,GAAQ,MAAA,EAAQzoB;QAK/B,IAJIqB,EAAK,MAAA,KAAW,KAAA,CAGpB,MAAMA,GACF,MAAM,OAAA,CAAQrB,EAAG,GACjB;QAEJ,IAAIwhB,IAAU,0BACV8I,IAAUtqB,EAAI,KAAA,CAAMwhB;QACxB,IAAI8I,MAAY,MAAM;YAClB,IAAI,GAAGC,GAAQ5J,EAAK,GAAI2J,GACpBE,IAAAA,CAAAA,GAAc/B,GAAQ,MAAA,EAAQ8B;YAClCC,EAAQ,KAAA,GAAQ7J,GAChB,MAAM6J;QACV;IACJ;IACA,SAASC,GAAoBpe,CAAAA;QAEzB,IAAMqe,IAAc,CAAC1qB,GAAKkhB;YACtB,KAAA,IAAW7f,KAAQgpB,GAAQrqB,GAAK;gBAC5B,IAAIoH,IAAQ,GACRujB,IAAMte;gBACV,MAA2Bse,KAAQ,QAAQvjB,IAAQ/F,EAAK,MAAA,EACpDspB,IAAMA,CAAAA,CAAItpB,CAAAA,CAAK+F,IAAQ,CAAA,EAEvBujB,IADwB5B,GAAW4B,MAAG,CAAMtpB,EAAK,KAAA,KAAU,KAAA,KAAa+F,KAAS/F,EAAK,MAAA,GAAS,CAAA,IACrEspB,EAAID,GAAavB,MAAewB;gBAE9D,IAAIA,MAAQ,KAAA,GAAW;oBACnB,IAAItpB,EAAK,KAAA,KAAU,KAAA,GAAW;wBAC1B,IAAIupB,IAAAA,CAAAA,GAAiB/B,GAAa,gBAAA,EAAkB8B;wBACpD,OAAA,CAAA,GAAWvE,GAAmB,cAAA,EAAgBwE,GAAYvpB,EAAK,KAAA,EAAA,CAAA,GAAWynB,GAAc,OAAA,EAAS8B;oBACrG;oBACA,OAAA,CAAA,GAAQjC,GAAe,OAAA,EAASgC,KAAG,CAAA,GACpB/B,GAAW,SAAA,EAAW+B,KAE9BA;gBACX;YACJ;YACA,OAAOzJ;QACX;QACA,OAAA,OAAO,MAAA,CAAOwJ,GAAa;YACvB,OAAOA;YACP,GAAGvB,EACP;QAAA,IACO,OAAO,IAAA,CAAK9c,GAAQ,MAAA,CAAO,CAAC4a,GAAUjnB,IAAAA,CACzCinB,CAAAA,CAASjnB,EAAG,GAAI+oB,GAAW1c,CAAAA,CAAOrM,EAAI,IAAIqM,CAAAA,CAAOrM,EAAG,CAAE0qB,GAAavB,MAAe9c,CAAAA,CAAOrM,EAAG,EACrFinB,CAAAA,GACR,CAAC;IACR;IACA,SAAS4D,GAAqBC,CAAAA;QAC1B,IAAIC,IAAa,EAAC;QAClB,OAAAD,EAAQ,OAAA,CAAS3oB,CAAAA;YACb4oB,IAAa;mBACNA;gBACH5oB;aACJ;YACA,IAAInB;YACJ,IAAM1B,IAAAA,CAAW0B,IAAMmB,KAAW,OAA4B,KAAA,IAASA,EAAO,OAAA,MAAa,QAAQnB,MAAQ,KAAA,IAASA,IAAM,EAAC;YACvH1B,EAAQ,MAAA,KAAW,KAGvBA,EAAQ,OAAA,CAAS0rB,CAAAA;gBACTA,EAAO,mBAAA,IAAA,CACPA,IAASA,GAAO;gBAEpB,IAAIhqB;gBACJ+pB,IAAa;uBACNA;uBACAF,GAAqB;wBAAA,CACnB7pB,IAAMgqB,KAAW,OAA4B,KAAA,IAASA,EAAO,MAAA,MAAY,QAAQhqB,MAAQ,KAAA,IAASA,IAAM,CAAC;qBAC7G;iBAET;YAAA;QACJ,IACO+pB;IACX;IACA,SAASE,GAAmBC,CAAAA;QAWxB,OAVe;eACRA;SACP,CAAE,WAAA,CAAY,CAACjE,GAAUkE,IACjBpC,GAAWoC,KACJA,EAAiB;gBACpB,aAAalE;YACjB,KAAC,CAAA,GAEMoB,GAAkB,OAAA,EAAS8C,GAAkBlE,IACzDmB,GAAgB,OAAO;IAE9B;IACA,SAASgD,GAAmBC,CAAAA;QASxB,OARe;eACRA;SACP,CAAE,WAAA,CAAY,CAACpE,GAAUqE,IACd;mBACArE;mBACAqE;aACP,EACD,EAAE;IAET;IACA,SAASnD,GAAc2C,CAAAA;QACnB,IAAIC,IAAa;eACVF,GAAqBC;YACxB;gBACI,QAAQ;gBACR,WAAW,CAAA;gBACX,WAAW;gBACX,cAAcxC,GAAmB,OAAA,CAAQ,YAC7C;YAAA;SACJ;QACA,IAAItnB,GAAKE;QACT,OAAA,CAAA,GAAWwnB,GAAiB,eAAA,EAAA,CAAA,GAAqBF,GAAU,QAAA,EAAU;YACjE,OAAOiC,GAAoBR,GAAgBH,GAAYiB,EAAW,GAAA,CAAK/W,CAAAA,IAAAA,CAC3DhT,IAAMgT,KAAM,OAAuB,KAAA,IAASA,EAAE,KAAA,MAAW,QAAQhT,MAAQ,KAAA,IAASA,IAAM,CAAC;YAErG,aAAaiqB,GAAmBF,EAAW,GAAA,CAAKQ,CAAAA,IAAIA,EAAE,WAAW;YACjE,SAASH,GAAmBN,EAAQ,GAAA,CAAKS,CAAAA,IAAAA,CAC7BrqB,IAAOqqB,KAAM,OAAuB,KAAA,IAASA,EAAE,OAAA,MAAa,QAAQrqB,MAAS,KAAA,IAASA,IAAO,EACxG;QACL,MAAM6pB;IACV;AAAA;AClQA,IAAAS,KAAA,CAAA;AAAA/sB,GAAA+sB,IAAA;IAAA,SAAA,IAAAC;AAAAA;AAAA,IAAOA,IAAPC,KAAA9sB,GAAA;IAAO6sB,KAAQ;QACb,QAAS9lB,CAAAA,IAAMA;IACjB;AAAA;ACFA,IAAAgmB,KAAA7sB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,SAASugB,GAAQ1e,CAAAA,EAAQ2e,CAAAA;QACrB,IAAA,IAAQjY,KAAQiY,EAAI,OAAO,cAAA,CAAe3e,GAAQ0G,GAAM;YACpD,YAAY,CAAA;YACZ,KAAKiY,CAAAA,CAAIjY,EACb;QAAA;IACJ;IACAgY,GAAQvgB,IAAS;QACb,aAAa,IAAI6sB;QACjB,kBAAkB,IAAIC;QACtB,SAAS,IAAI7sB;IACjB;IACA,IAAM8sB,KAA4B1rB,GAAuB,CAAA,MAAA,GAAA,GAAA,IACnDD,KAAqBC,GAAuB,CAAA,MAAA,GAAA,GAAA;IAClD,SAASA,GAAuBC,CAAAA;QAC5B,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YACjC,SAASA;QACb;IACJ;IACA,IAAIM,KAAW;QACX,2BAA2B,CAAA;IAC/B,GACIorB,KAAe;QACf,QAAQ;YACJ;YACA;SACJ;QACA,cAAc;YACV;YACA;SAER;IAAA;IACA,SAASH,GAAYzpB,CAAAA,EAAQ6pB,CAAAA;QACzB,IAAID,GAAa,MAAA,CAAO,QAAA,CAASC,IAAO;YACpC,IAAIhrB,GACAE,GAAMwB;YACV,OAAOP,EAAO,MAAA,KAAW,SAAA,CAAA,CAAWO,IAAAA,CAAQxB,IAAOiB,KAAW,QAAA,CAAsCnB,IAAMmB,EAAO,MAAA,MAAY,QAAQnB,MAAQ,KAAA,IAAnD,KAAA,IAAqEA,CAAAA,CAAIgrB,EAAI,MAAO,QAAQ9qB,MAAS,KAAA,IAASA,IAAOP,EAAAA,CAASqrB,EAAI,MAAO,QAAQtpB,MAAS,KAAA,IAASA,IAAO,CAAA,CAAA;QACxQ;QACA,IAAIqpB,GAAa,YAAA,CAAa,QAAA,CAASC,IAAO;YAC1C,IAAIrpB,GACAC,GAAMC;YACV,OAAOV,EAAO,YAAA,KAAiB,SAAA,CAAA,CAAWU,IAAAA,CAAQD,IAAOT,KAAW,QAAA,CAAsCQ,IAAOR,EAAO,YAAA,MAAkB,QAAQQ,MAAS,KAAA,IAA3D,KAAA,IAA6EA,CAAAA,CAAKqpB,EAAI,MAAO,QAAQppB,MAAS,KAAA,IAASA,IAAOjC,EAAAA,CAASqrB,EAAI,MAAO,QAAQnpB,MAAS,KAAA,IAASA,IAAO,CAAA,CAAA;QACvR;QACA,OAAO,CAAA;IACX;IACA,SAASopB,GAAyB9pB,CAAAA;QAC9B,IAAIA,EAAO,YAAA,KAAiB,OACxB,OAAO4pB,GAAa,YAAA;QAExB,IAAI/qB;QACJ,OAAO,OAAO,IAAA,CAAA,CAAMA,IAAMmB,KAAW,OAA4B,KAAA,IAASA,EAAO,YAAA,MAAkB,QAAQnB,MAAQ,KAAA,IAASA,IAAM,CAAC,GAAG,MAAA,CAAQgrB,CAAAA,IAAOD,GAAa,YAAA,CAAa,QAAA,CAASC,MAAS7pB,EAAO,YAAA,CAAa6pB,EAAK;IAC9N;IACA,SAASH,GAAiB1pB,CAAAA;QACtB,IAAI,QAAQ,GAAA,CAAI,cAAA,KAAmB,KAAA,KAG/B8pB,GAAyB9pB,GAAQ,MAAA,GAAS,GAAG;YAC7C,IAAI+pB,IAAUD,GAAyB9pB,GAAQ,GAAA,CAAKwD,CAAAA,IAAImmB,GAAY,OAAA,CAAQ,MAAA,CAAOnmB,IAAI,IAAA,CAAK;YAC5FxF,GAAK,OAAA,CAAQ,IAAA,CAAK,8BAA8B;gBAC5C,CAAA,wCAAA,EAA2C+rB,EAAO,CAAA;gBAClD;aACH;QACL;IACJ;IACA,IAAMltB,KAAW+sB;AAAAA;ACnEjB,IAAAI,KAAArtB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIqtB;IACb;IACA,IAAMC,KAAqCjsB,GAAuB,OAC5DksB,KAAgB;IACtB,SAASlsB,GAAuBC,CAAAA;QAC5B,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YACjC,SAASA;QACb;IACJ;IACA,SAAS+rB,GAAcjqB,CAAAA;QACnB,IAAInB;QACJ,IAAM8pB,IAAAA,CAAAA,CAAY9pB,IAAMmB,KAAW,OAA4B,KAAA,IAASA,EAAO,OAAA,MAAa,QAAQnB,MAAQ,KAAA,IAASA,IAAM;YACvHqrB,GAAqB,OACzB;SAAA,EAAG,KAAA,GAAQ,OAAA,GAAU,OAAA,CAASE,CAAAA,IAASH,GAAc,OAAOG,KAAW,aAAaA,MAAWA,KACzFC,IAAW;YAEb,gCAAgC;gBAC5B,OAAO;oBACH,WAAW;wBACP,SAAS;oBACb;gBACJ;YACJ;QACJ,GACMC,IAAgB,OAAO,IAAA,CAAKD,GAAU,MAAA,CAAQE,CAAAA,IAAAA,CAAAA,GAAcJ,GAAc,WAAA,EAAanqB,GAAQuqB,IAAU,GAAA,CAAKA,CAAAA,IAAUF,CAAAA,CAASE,EAAQ;QAC/I,OAAO;YACHvqB;eACGsqB;eACA3B;SAEX;IAAA;AAAA;ACpCA,IAAA6B,KAAA7tB,EAAAC,CAAAA;IAAA;IACA,OAAO,cAAA,CAAeA,IAAS,cAAc;QACzC,OAAO,CAAA;IACX;IACA,OAAO,cAAA,CAAeA,IAAS,WAAW;QACtC,YAAY,CAAA;QACZ,KAAK,IAAIopB;IACb;IACA,IAAMyE,KAA+BxsB,GAAuB,OACtDysB,KAA+BzsB,GAAuB;IAC5D,SAASA,GAAuBC,CAAAA;QAC5B,OAAOA,KAAOA,EAAI,UAAA,GAAaA,IAAM;YACjC,SAASA;QACb;IACJ;IACA,SAAS8nB,GAAAA,GAAiB2C,CAAAA;QACtB,IAAI,GAAG,GAAGgC,EAAc,GAAA,CAAA,GAAQD,GAAe,OAAA,EAAS/B,CAAAA,CAAQ,EAAE;QAClE,OAAA,CAAA,GAAW8B,GAAe,OAAA,EAAS;eAC5B9B;eACAgC;SACN;IACL;AAAA;ACrBA,IAAA5E,KAAAppB,EAAA,CAAAC,IAAAU;IAAA,IAAI0oB,KAAgB;IACpB1oB,GAAO,OAAA,GAAA,CAAW0oB,GAAc,UAAA,GAAaA,KAAgB;QAAE,SAASA;IAAc,CAAA,EAAG,OAAA;AAAA;ACCzF,IAAI4E;AAEG,SAASC,GAAKC,CAAAA;IACnBF,KAAeE;AACjB;AAEA,IAAIC,KAAwB;AAE5B,eAAOC;IACL,OAAIJ,MAAAA,CAEAG,KAAAA,CACF,MAAMA,IACCH,EAAAA,IAAAA,CAGTG,KAAwB,QAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA,EAAA,GACrB,IAAA,CAAME,CAAAA,IAAQA,EAAI,aAAA,IAClB,IAAA,CAAMH,CAAAA,IAAUF,KAAeE,IAElC,MAAMC,IACNA,KAAwB,MAEjBH,EAAAA,CAAAA;AACT;AC1BA,IAAIhQ,KAAE,CAAC/I,GAAEqM,IAAI,IAAA,CAAKA,KAAGrM,EAAAA,CAAGqM,IAAE;YAAC,SAAQ,CAAC;QAAC,CAAA,EAAG,OAAA,EAAQA,IAAGA,EAAE,OAAA,GAAagN,KAAEtQ,GAAE,CAAChc,GAAEuf;IAAKA,EAAE,OAAA,GAAQ;QAAC;QAAK;QAAK;QAAK;QAAM;QAAK;QAAK;QAAO;QAAO;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;KAAQ;AAAA,IAAOzO,KAAEkL,GAAE,CAACuQ,GAAEtpB;IAAKA,EAAE,OAAA,GAAQ;QAAC;QAAM;QAAO;QAAM;KAAO;AAAA,IAAOunB,KAAExO,GAAE,CAACwQ,GAAEC;IAAKA,EAAE,OAAA,GAAQ;QAAC;QAAM;QAAO;KAAO;AAAA,IAAOC,KAAE1Q,GAAE,CAAC2Q,GAAEC;IAAKA,EAAE,OAAA,GAAQ;QAAC;QAAK;KAAM;AAAA,IAAOje,KAAEqN,GAAE,CAAC/V,GAAE8K;IAAKA,EAAE,OAAA,GAAQ;QAAC;QAAI;KAAK;AAAA,IAAO8b,KAAEP,MAAIQ,KAAEhc,MAAIjI,KAAE2hB,MAAIuC,KAAEL,MAAIM,KAAEre;AAAI,SAAS/J,GAAEqO,CAAAA;IAAG,IAAG,SAAS,IAAA,CAAKA,IAAG,MAAM,IAAI,MAAM;IAA0C,IAAG,WAAW,IAAA,CAAKA,IAAG,MAAM,IAAI,MAAM;IAAmC,IAAGga,GAAEha,KAAG,GAAE,MAAM,IAAI,MAAM;IAA2B,IAAG,KAAK,IAAA,CAAKA,IAAG;QAAC,IAAA,CAAK,IAAA,GAAK,cAAa,IAAA,CAAK,KAAA,GAAMjL,GAAEiL,IAAG,IAAA,CAAK,IAAA,GAAK;QAAI;IAAM;IAAC,IAAIqM,IAAE4N,GAAEja;IAAG,IAAG,CAACqM,GAAE;QAAC,IAAA,CAAK,IAAA,GAAK,UAAS,IAAA,CAAK,KAAA,GAAMtX,GAAEiL;QAAG;IAAM;IAAC,IAAA,CAAK,IAAA,GAAKka,GAAE7N,IAAG,IAAA,CAAK,KAAA,GAAMtX,GAAEiL,EAAE,MAAA,CAAO,GAAEA,EAAE,MAAA,GAAOqM,EAAE,MAAM,IAAG,IAAA,CAAK,IAAA,GAAKA;AAAC;AAAC1a,GAAE,SAAA,CAAU,OAAA,GAAQ;IAAW,OAAO,IAAA,CAAK,KAAK;AAAA;AAAEA,GAAE,SAAA,CAAU,QAAA,GAAS;IAAW,OAAO,IAAA,CAAK,KAAA,GAAA,CAAO,IAAA,CAAK,IAAA,IAAM,EAAA;AAAG;AAAE,SAASwoB,GAAEna,CAAAA;IAAG,OAAO,IAAIrO,GAAEqO;AAAE;AAAC,SAASga,GAAEha,CAAAA;IAAG,IAAIqM,IAAErM,EAAE,KAAA,CAAM;IAAO,OAAOqM,IAAEA,EAAE,MAAA,GAAO;AAAC;AAAC,SAAStX,GAAEiL,CAAAA;IAAG,IAAIqM,IAAE,WAAWrM;IAAG,IAAG,MAAMqM,IAAG,MAAM,IAAI,MAAM,qBAAmBrM;IAAG,OAAOqM;AAAC;AAAC,IAAI+N,KAAE,EAAC,CAAE,MAAA,CAAOP,IAAEC,IAAEF,IAAEhkB,IAAEmkB;AAAG,SAASE,GAAEja,CAAAA;IAAG,IAAIqM,IAAErM,EAAE,KAAA,CAAM,SAAQ,IAAEqM,KAAGA,CAAAA,CAAE,EAAC;IAAE,IAAG,KAAG+N,GAAE,OAAA,CAAQ,OAAK,CAAA,GAAG,MAAM,IAAI,MAAM,mBAAiB;IAAG,OAAO;AAAC;AAAC,IAAIC,KAAE,OAAO,MAAA,CAAOtpB,GAAE8oB,IAAE,UAAS9oB,GAAE+oB,IAAE,cAAa/oB,GAAE6E,IAAE,eAAc7E,GAAEgpB,IAAE;AAAS,SAAShpB,GAAEiP,CAAAA,EAAEqM,CAAAA;IAAG,OAAO,OAAO,WAAA,CAAYrM,EAAE,GAAA,CAAI,CAAA,IAAG;YAAC;YAAEqM;SAAE;AAAE;AAAC,SAAS6N,GAAEla,CAAAA;IAAG,OAAOqa,EAAAA,CAAEra,EAAC,IAAG;AAAQ;;ACKl5C,SAASsa,GAAelkB,CAAAA;IAC7B,IAAMrD,IAAO,OAAOqD;IACpB,OACE,CAAA,CAAArD,MAAS,YACTA,MAAS,YACTA,MAAS,YACTA,MAAS,SAAA;AAKb;AAEO,SAASwnB,GAAQV,CAAAA;IACtB,OAAO,WAAW,IAAA,CAAKA,EAAE,QAAA;AAC3B;AAEO,SAASW,GAA+BppB,CAAAA;IAC7C,OAAO,6BAA6BA;AACtC;AAEO,SAASqpB,GAAkBC,CAAAA;IAChC,IAAMC,IACJ,OAAOD,IAAa,MAAc,EAAC,GAAI,EAAC,CAAE,MAAA,CAAOA,GAAU,IAAA,CAAK,IAAA,IAE5DE,IAAM,EAAC;IACb,IAAA,IAAS7pB,IAAI,GAAGA,IAAI4pB,EAAS,MAAA,EAAQ5pB,IAAK;QACxC,IAAI9F,IAAQ0vB,CAAAA,CAAS5pB,EAAC;QAEpB,OAAO9F,IAAU,OACjB,OAAOA,KAAU,aACjBA,MAAU,QAAA,CAIR,OAAOA,KAAU,YAAA,CACnBA,IAAQ,OAAOA,EAAK,GAGpB,OAAOA,KAAU,YACjB2vB,EAAI,MAAA,IACJ,OAAOA,CAAAA,CAAIA,EAAI,MAAA,GAAS,EAAC,IAAM,WAE/BA,CAAAA,CAAIA,EAAI,MAAA,GAAS,EAAC,IAAK3vB,IAEvB2vB,EAAI,IAAA,CAAK3vB,EAAK;IAElB;IACA,OAAO2vB;AACT;AAEO,SAASC,EACd3hB,CAAAA,EACA4hB,CAAAA,EACAC,CAAAA,EACAC,CAAAA,EACAhL,IAAa,CAAA,CAAA;IAEb,IAAI,OAAO9W,KAAW,UAAU,OAAOA;IAGvC,IAAI;QAIF,IAHAA,IAASA,EAAO,IAAA,IAGZ,UAAU,IAAA,CAAKA,IAAS;QAG5B,IAAIA,MAAW,OAAO,CAACA,IAAS,OAAO,CAACA;QAExC,IAAMiU,IAAS,IAAIgN,GAAajhB;QAChC,IAAIiU,EAAO,IAAA,KAAS,UAClB,OAAQA,EAAO,IAAA;YACb,KAAK;gBACH,OAAOA,EAAO,KAAA,GAAQ2N;YACxB,KAAK;gBACH,OAAO3N,EAAO,KAAA,GAAQ;YACxB,KAAK;gBACH,OAAO,CAAC,CAAA,CACLA,EAAO,KAAA,GAAS6N,EAAe,cAAA,GAChC,GAAA;YAEJ,KAAK;gBACH,OAAO,CAAC,CAAA,CACL7N,EAAO,KAAA,GAAS6N,EAAe,eAAA,GAChC,GAAA;YAEJ;gBACE,OAAO7N,EAAO,KAClB;QAAA;aAAA,IACSA,EAAO,IAAA,KAAS,SACzB,OAAQA,EAAO,IAAA;YACb,KAAK;gBACH,OAAOA,EAAO,KAAA;YAChB,KAAK;gBACH,OAAQA,EAAO,KAAA,GAAQ,MAAO,KAAK,EAAA;YACrC;gBACE,OAAOA,EAAO,KAClB;QAAA;aAAA,IACSA,EAAO,IAAA,KAAS,gBACrB6C,GACF,OAAQ7C,EAAO,KAAA,GAAQ,MAAO4N;IAGpC,EAAA,OAAE,CAEF;AACF;AAGO,SAASE,GAASC,CAAAA,EAAcC,CAAAA;IACrC,OAAO;QACLD,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC;QAC5BD,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC;QAC5BD,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC;QAC5BD,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC;QAC5BD,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EAAC;QACpCA,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EAAC,GAAIC,CAAAA,CAAG,EAAC,GAAID,CAAAA,CAAG,EACrC;KACF;AAAA;AAEO,SAASlrB,GACdorB,CAAAA,EACAC,CAAAA,EACAC,CAAAA,EACAC,CAAAA;IAEA,IAAItwB,IAAQowB,CAAAA,CAAID,EAAK;IACrB,IAAI,OAAOnwB,IAAU,KAAa;QAChC,IAAIswB,KAAgC,OAAOH,IAAU,KACnD,MAAM,IAAI,MACR,CAAA,gCAAA,EAAmCG,EAA4B,mBAAA,EAAsB,OAAO,IAAA,CAC1FF,GAEC,GAAA,CAAKG,CAAAA,IAAO,CAAA,CAAA,EAAIA,EAAE,CAAA,CAAG,EACrB,IAAA,CAAK,OAAM,aAAA,EAAgBJ,EAAK,EAAA,CACrC;QAEFnwB,IAAQqwB;IACV;IACA,OAAOrwB;AACT;AAEA,IAAIwwB,IACAC,IAKSC,KAAiB;IAC5B;IAAQ;IAAQ;IAAQ;IAAS;IAAS;IAAQ;IAAQ;CAC5D,CAAE,GAAA,CAAKC,CAAAA,IAAU,OAAO,aAAA,CAAcA;AAE/B,SAASC,GACdxtB,CAAAA,EACAytB,CAAAA,EACAC,CAAAA;IAEA,IAAI,CAACN,MAAiB,CAACC,IAAmB;QACxC,IAAI,CAAA,CAAE,OAAO,OAAS,OAAe,eAAe,IAAA,GAElD,MAAM,IAAI,MACR;QAIJD,KAAgB,IAAI,KAAK,SAAA,CAAUM,GAAQ;YAAE,aAAa;QAAO,IACjEL,KAAoB,IAAI,KAAK,SAAA,CAAUK,GAAQ;YAC7C,aAAa;QACf;IACF;IAEA,IAAID,MAAgB,YAClB,OAAO;WAAIJ,GAAkB,OAAA,CAAQrtB;KAAQ,CAAE,GAAA,CAAK2tB,CAAAA,IAAQA,EAAI,OAAO;IAClE;QACL,IAAMC,IAAY;eAAIR,GAAc,OAAA,CAAQptB;SAAQ,CAAE,GAAA,CACnD2tB,CAAAA,IAAQA,EAAI,OACf,GAEMhjB,IAAS,EAAC,EAEZjI,IAAI;QAGR,MAAOA,IAAIkrB,EAAU,MAAA,EAAQ;YAC3B,IAAMtqB,IAAIsqB,CAAAA,CAAUlrB,EAAC;YAErB,IAAIY,KAAK,QAAU;gBACjB,IAAMuqB,IAAenrB,MAAM,IAAI,KAAKiI,EAAO,GAAA,IACrCmjB,IAAWprB,MAAMkrB,EAAU,MAAA,GAAS,IAAI,KAAKA,CAAAA,CAAUlrB,IAAI,EAAC;gBAElEiI,EAAO,IAAA,CAAKkjB,IAAe,SAAWC,IACtCprB,KAAK;YACP,OACEiI,EAAO,IAAA,CAAKrH,IACZZ;QAEJ;QAEA,OAAOiI;IACT;AACF;AAEO,SAASojB,EACdrpB,CAAAA,EACAspB,CAAAA,EACA3B,CAAAA;IAEA,IAAI4B,IAAa;IAEjB,KAAA,IAAW,CAACvvB,GAAGyuB,EAAE,IAAK,OAAO,OAAA,CAAQa,GAC/B,OAAOb,IAAO,OAAA,CAChBc,KAAc,CAAA,CAAA,EAAIvvB,EAAC,EAAA,EAAKyuB,EAAE,CAAA,CAAA;IAI9B,OAAId,IACK,CAAA,CAAA,EAAI3nB,EAAI,EAAGupB,EAAU,CAAA,EAAI5B,EAAQ,EAAA,EAAK3nB,EAAI,CAAA,CAAA,GAE5C,CAAA,CAAA,EAAIA,EAAI,EAAGupB,EAAU,EAAA,CAC9B;AAAA;AAEO,SAASC,GAAaC,IAAM,EAAA;IACjC,IAAMC,IAAwB,IAAI;IAClC,SAASC,EAAI1wB,CAAAA,EAAaf,CAAAA;QACxB,IAAIwxB,EAAM,IAAA,IAAQD,GAAK;YACrB,IAAMG,IAAcF,EAAM,IAAA,GAAO,IAAA,GAAO,KAAA;YACxCA,EAAM,MAAA,CAAOE;QACf;QACAF,EAAM,GAAA,CAAIzwB,GAAKf;IACjB;IACA,SAAS2xB,EAAI5wB,CAAAA;QAEX,IAAI,CADWywB,EAAM,GAAA,CAAIzwB,IACZ;QAEb,IAAM6wB,IAAQJ,EAAM,GAAA,CAAIzwB;QACxB,OAAAywB,EAAM,MAAA,CAAOzwB,IACbywB,EAAM,GAAA,CAAIzwB,GAAK6wB,IACRA;IACT;IACA,SAASC;QACPL,EAAM,KAAA;IACR;IAEA,OAAO;QACL,KAAAC;QACA,KAAAE;QACA,OAAAE;IACF;AACF;AAEO,SAASC,GAAaC,CAAAA;IAC3B,OAAOA,IAAUA,EAAQ,KAAA,CAAM,QAAQ,MAAA,CAAO,SAAS,GAAA,CAAI,UAAU;AACvE;AAEO,SAASC,GAASjD,CAAAA;IACvB,OAAO,OAAO,SAAA,CAAU,QAAA,CAAS,IAAA,CAAKA;AACxC;AAEO,SAASxP,GAASwP,CAAAA;IACvB,OAAO,OAAOA,KAAM;AACtB;AAEO,SAASkD,GAASlD,CAAAA;IACvB,OAAO,OAAOA,KAAM;AACtB;AAEO,SAASmD,GAAYnD,CAAAA;IAC1B,OAAOiD,GAASjD,OAAO;AACzB;AAEO,SAASoD,GACd/uB,CAAAA,EACAgvB,CAAAA;IAKA,IAAIA,MAAc,aAChB,OAAO;QAAE,OAAOxB,GAAQxtB,GAAS;QAAa,gBAAgB,EAAG;IAAA;IAGnE,IAAIgvB,MAAc,YAChB,OAAO;QAAE,OAAOxB,GAAQxtB,GAAS;QAAS,gBAAgB,EAAG;IAAA;IAG/D,IAAMivB,IAAU,IAAIC,8IAAAA,CAAAA,UAAAA,CAAYlvB,IAC5BgT,IAAO,GACPmc,IAAKF,EAAQ,SAAA,IACXG,IAAQ,EAAC,EACTC,IAAiB;QAAC,CAAA;KAAK;IAE7B,MAAOF,GAAI;QACT,IAAM5d,IAAOvR,EAAQ,KAAA,CAAMgT,GAAMmc,EAAG,QAAQ;QAC5CC,EAAM,IAAA,CAAK7d,IAEP4d,EAAG,QAAA,GACLE,EAAe,IAAA,CAAK,CAAA,KAEpBA,EAAe,IAAA,CAAK,CAAA,IAGtBrc,IAAOmc,EAAG,QAAA,EACVA,IAAKF,EAAQ,SAAA;IACf;IAEA,OAAO;QAAE,OAAAG;QAAO,gBAAAC;IAAe;AACjC;AAEO,IAAMC,KAAWhsB,CAAAA,IACfA,EAAE,UAAA,CACP,YACA,CAACya,GAAGwR,IAAmB,CAAA,CAAA,EAAIA,EAAO,WAAA,GAAa,CACjD;AAGK,SAASC,GACdhd,CAAAA,EACA2N,IAA6B,GAAA;IAE7B,IAAM5X,IAAS,EAAC,EACZkjB,IAAI,GACJgE,IAAa;IACjBtP,IAAY,IAAI,OAAOA;IAEvB,IAAA,IAASzd,IAAI,GAAGA,IAAI8P,EAAM,MAAA,EAAQ9P,IAC5B8P,CAAAA,CAAM9P,EAAC,KAAM,MACf+sB,MACSjd,CAAAA,CAAM9P,EAAC,KAAM,OACtB+sB,KAGEA,MAAe,KAAKtP,EAAU,IAAA,CAAK3N,CAAAA,CAAM9P,EAAE,KAAA,CAC7C6F,EAAO,IAAA,CAAKiK,EAAM,KAAA,CAAMiZ,GAAG/oB,GAAG,IAAA,KAC9B+oB,IAAI/oB,IAAI,CAAA;IAIZ,OAAA6F,EAAO,IAAA,CAAKiK,EAAM,KAAA,CAAMiZ,GAAG,IAAA,KAEpBljB;AACT;ACjVA,IAAMmnB,KAAO,cACPC,KAAO,cACPC,KAAO,cACPC,KAAM,aACNC,KAAO,cACPC,KAAM,aACNC,KAAM;AAEZ,SAASC,GAAUC,CAAAA;IACjB,IAAMC,IAAO,IAAI,SAASD,IAGtBvd,IAAS,GAEP1L,IAAMkpB,EAAK,UAAA;IACjB,MAAOxd,IAAS1L,GAAK;QACnB,IAAM,IAAIkpB,EAAK,SAAA,CAAUxd,GAAQ,CAAA;QAEjC,IAAI,IAAI1L,GACN,MAAM,IAAI,UAAU;QAGtB,IAAMmL,IAAO+d,EAAK,QAAA,CAAS,IAAI,IAAIxd;QACnC,IAAIP,MAAS,OAAQA,MAAS,OAAQA,MAAS,KAC7C,OAAO;YACL+d,EAAK,SAAA,CAAU,IAAI,IAAIxd,GAAQ,CAAA;YAC/Bwd,EAAK,SAAA,CAAU,IAAI,IAAIxd,GAAQ,CAAA;SACjC;QAKFA,KAAU,IAAI;IAChB;IAEA,MAAM,IAAI,UAAU;AACtB;AAEA,SAASyd,GAASF,CAAAA;IAChB,IAAMC,IAAO,IAAI,WAAWD,EAAI,KAAA,CAAM,GAAG;IACzC,OAAO;QAACC,CAAAA,CAAK,EAAC,GAAKA,CAAAA,CAAK,EAAC,IAAK;QAAIA,CAAAA,CAAK,EAAC,GAAKA,CAAAA,CAAK,EAAC,IAAK;KAI1D;AAAA;AAEA,SAASE,GAASH,CAAAA;IAChB,IAAMvuB,IAAI,IAAI,SAASuuB;IACvB,OAAO;QAACvuB,EAAE,SAAA,CAAU,IAAI,CAAA;QAAQA,EAAE,SAAA,CAAU,IAAI,CAAA;KAClD;AAAA;AAKO,IAAMjC,KAAQwuB,GAA6B,MAC5CoC,KAAmB,IAAI,KAEvBC,KAAsB;IAACV;IAAKD;IAAME;IAAMC;IAAKC;CAAG;AAEtD,SAASQ,GAAoBC,CAAAA;IAC3B,IAAIC,IAAS,IACPC,IAAQ,IAAI,WAAWF;IAC7B,IAAA,IAAS/tB,IAAI,GAAGA,IAAIiuB,EAAM,UAAA,EAAYjuB,IACpCguB,KAAU,OAAO,YAAA,CAAaC,CAAAA,CAAMjuB,EAAE;IAExC,OAAO,KAAKguB;AACd;AAEA,SAASE,GAAoBC,CAAAA;IAC3B,IAAIC,IAAe,KAAKD,IACpB5pB,IAAM6pB,EAAa,MAAA,EACnBH,IAAQ,IAAI,WAAW1pB;IAC3B,IAAA,IAAS,IAAI,GAAG,IAAIA,GAAK,IACvB0pB,CAAAA,CAAM,EAAC,GAAIG,EAAa,UAAA,CAAW;IAErC,OAAOH,EAAM,MACf;AAAA;AAEA,SAASI,GAAkBC,CAAAA,EAAaC,CAAAA;IAEtC,IAAMC,IAASD,EAAK,KAAA,CAAM,aAAY,CAAE,EAAC,EAEnCE,IAAaD,EAAO,KAAA,CAAM,yBAC5BvC,IAAUwC,IAAazC,GAAayC,CAAAA,CAAW,EAAE,IAAI,MAEnDC,IAAQF,EAAO,KAAA,CAAM,iCACrBG,IAASH,EAAO,KAAA,CAAM;IAE5B,IAAI,CAACvC,KAAAA,CAAY,CAACyC,KAAS,CAACC,CAAAA,GAC1B,MAAM,IAAI,MAAM,CAAA,yBAAA,EAA4BL,EAAG,mBAAA,CAAqB;IAGtE,IAAMM,IAAO3C,IAAU;QAACA,CAAAA,CAAQ,EAAC;QAAGA,CAAAA,CAAQ,EAAE;KAAA,GAAI;QAAC,CAACyC,CAAAA,CAAM,EAAC;QAAG,CAACC,CAAAA,CAAO,EAAE;KAAA,EAElEE,IAAQD,CAAAA,CAAK,EAAC,GAAIA,CAAAA,CAAK,EAAC;IAU9B,OAREF,KAASC,IACL;QAAC,CAACD,CAAAA,CAAM,EAAC;QAAG,CAACC,CAAAA,CAAO,EAAE;KAAA,GACtBD,IACA;QAAC,CAACA,CAAAA,CAAM,EAAC;QAAG,CAACA,CAAAA,CAAM,EAAC,GAAIG;KAAK,GAC7BF,IACA;QAAC,CAACA,CAAAA,CAAO,EAAC,GAAIE;QAAO,CAACF,CAAAA,CAAO,EAAE;KAAA,GAC/B;QAACC,CAAAA,CAAK,EAAC;QAAGA,CAAAA,CAAK,EAAE;KAGzB;AAAA;AAEA,SAASE,GAAqBP,CAAAA;IAC5B,IAAIQ,GAEEC,IAAYC,GAAkB,IAAI,WAAWV;IAEnD,OAAQS;QACN,KAAK7B;QACL,KAAKD;YACH6B,IAAYpB,GAASY;YACrB;QACF,KAAKlB;YACH0B,IAAYrB,GAASa;YACrB;QACF,KAAKnB;YACH2B,IAAYxB,GAAUgB;YACtB;IACJ;IAEA,IAAI,CAACV,GAAoB,QAAA,CAASmB,IAChC,MAAM,IAAI,MAAM,CAAA,wBAAA,EAA2BA,KAAa,UAAS,CAAE;IAErE,OAAO;QACL,CAAA,KAAA,EAAQA,EAAS,QAAA,EAAWlB,GAAoBS,GAAK,CAAA;QACrDQ;KAEJ;AAAA;AAEA,eAAsBG,GACpBZ,CAAAA;IAEA,IAAI,CAACA,GACH,MAAM,IAAI,MAAM;IAIlB,IAAI,OAAOA,KAAQ,UAAU;QAC3B,IAAM,CAACa,GAAQJ,EAAS,GAAID,GAAqBR;QACjD,OAAO;YAACa;eAAWJ;SACrB;IAAA;IAWA,IAAA,CARGT,EAAI,UAAA,CAAW,QAAQA,EAAI,QAAA,CAAS,QACpCA,EAAI,UAAA,CAAW,QAAQA,EAAI,QAAA,CAAS,IAAG,KAAA,CAExCA,IAAMA,EAAI,KAAA,CAAM,GAAG,CAAA,EAAE,GAKnB,OAAO,SAAW,OAChB,CAACA,EAAI,UAAA,CAAW,WAAW,CAACA,EAAI,UAAA,CAAW,UAC7C,MAAM,IAAI,MAAM,CAAA,sCAAA,EAAyCA,EAAG,CAAE;IAIlE,IAAIA,EAAI,UAAA,CAAW,UAAU;QAC3B,IAAIc;QAEJ,IAAI;YACFA,IACE,mFAAmF,IAAA,CACjFd,GACA,MACN;QAAA,EAAA,OAAE;YACA,OAAA,QAAQ,IAAA,CAAK,0CAA0CA,IAChD;gBAACA;aACV;QAAA;QAEA,IAAM,EAAE,WAAAU,CAAAA,EAAW,cAAAK,CAAAA,EAAc,YAAAC,CAAW,EAAA,GAAIF;QAChD,IAAIJ,MAAc1B,IAAK;YACrB,IAAMiC,IACJF,MAAiB,WACb,KAAKC,KACL,mBAAmBA,EAAW,OAAA,CAAQ,MAAM,SAC5CE,IACJH,MAAiB,WACbf,IACA,CAAA,0BAAA,EAA6B,KAAKiB,GAAQ,CAAA,EAC5CR,IAAYV,GAAkBC,GAAKiB;YACvC,OAAAvyB,GAAM,GAAA,CAAIsxB,GAAK;gBAACkB;mBAAcT;aAAU,GACjC;gBAACS;mBAAcT;aACxB;QAAA,OAAA,IAAWM,MAAiB,UAAU;YACpC,IAAIN,GACER,IAAOL,GAAoBoB;YACjC,OAAQN;gBACN,KAAK7B;gBACL,KAAKD;oBACH6B,IAAYpB,GAASY;oBACrB;gBACF,KAAKlB;oBACH0B,IAAYrB,GAASa;oBACrB;gBACF,KAAKnB;oBACH2B,IAAYxB,GAAUgB;oBACtB;YACJ;YACA,OAAAvxB,GAAM,GAAA,CAAIsxB,GAAK;gBAACA;mBAAQS;aAAU,GAC3B;gBAACT;mBAAQS;aAClB;QAAA,OACE,OAAA,QAAQ,IAAA,CAAK,0CAA0CT,IACvDtxB,GAAM,GAAA,CAAIsxB,GAAK;YAACA;SAAI,GACb;YAACA;SAEZ;IAAA;IAEA,IAAI,CAAC,WAAW,KAAA,EACd,MAAM,IAAI,MAAM;IAGlB,IAAIV,GAAiB,GAAA,CAAIU,IACvB,OAAOV,GAAiB,GAAA,CAAIU;IAE9B,IAAMmB,IAASzyB,GAAM,GAAA,CAAIsxB;IACzB,IAAImB,GACF,OAAOA;IAGT,IAAM1Q,IAAMuP,GACNoB,IAAU,MAAM3Q,GACnB,IAAA,CAAM8K,CAAAA;QACL,IAAM7nB,IAAO6nB,EAAI,OAAA,CAAQ,GAAA,CAAI;QAG7B,OAAI7nB,MAAS,mBAAmBA,MAAS,wBAChC6nB,EAAI,IAAA,KAGNA,EAAI,WAAA;IACb,GACC,IAAA,CAAM0E,CAAAA;QACL,IAAI,OAAOA,KAAS,UAClB,IAAI;YACF,IAAMY,IAAS,CAAA,0BAAA,EAA6B,KAAKZ,GAAK,CAAA,EAEhDQ,IAAYV,GAAkBtP,GAAKwP;YACzC,OAAO;gBAACY;mBAAWJ;aACrB;QAAA,EAAA,OAAS/W,GAAP;YACA,MAAM,IAAI,MAAM,CAAA,2BAAA,EAA8BA,EAAE,OAAO,CAAA,CAAE;QAC3D;QAGF,IAAM,CAACmX,GAAQJ,EAAS,GAAID,GAAqBP;QACjD,OAAO;YAACY;eAAWJ;SACrB;IAAA,GACC,IAAA,CAAMlpB,CAAAA,IAAAA,CACL7I,GAAM,GAAA,CAAI+hB,GAAKlZ,IACRA,CAAAA,GAER,KAAA,CAAO8pB,CAAAA,IAAAA,CACN,QAAQ,KAAA,CAAM,CAAA,iBAAA,EAAoB5Q,EAAG,EAAA,CAAA,GAAO4Q,EAAI,OAAO,GACvD3yB,GAAM,GAAA,CAAI+hB,GAAK,EAAE,GACV,EAAC;IAGZ,OAAA6O,GAAiB,GAAA,CAAI7O,GAAK2Q,IACnBA;AACT;AAOA,SAAST,GAAkBlB,CAAAA;IACzB,OAAI;QAAC;QAAM;QAAM;KAAI,CAAE,KAAA,CAAM,CAAChhB,GAAG/M,IAAM+tB,CAAAA,CAAO/tB,EAAC,KAAM+M,KAC5CqgB,KAGP;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAI,CAAE,KAAA,CAC/C,CAACrgB,GAAG/M,IAAM+tB,CAAAA,CAAO/tB,EAAC,KAAM+M,KAGtB6iB,GAAW7B,KACNb,KAEFC,KAEL;QAAC;QAAM;QAAM;QAAM;KAAI,CAAE,KAAA,CAAM,CAACpgB,GAAG/M,IAAM+tB,CAAAA,CAAO/tB,EAAC,KAAM+M,KAClDsgB,KAGP;QAAC;QAAM;QAAM;QAAM;QAAM;QAAG;QAAG;QAAG;QAAG;QAAM;QAAM;QAAM;KAAI,CAAE,KAAA,CAC3D,CAACtgB,GAAG/M,IAAM,CAAC+M,KAAKghB,CAAAA,CAAO/tB,EAAC,KAAM+M,KAGzBkgB,KAEL;QAAC;QAAM;QAAM;QAAM;QAAM;KAAI,CAAE,KAAA,CAAM,CAAClgB,GAAG/M,IAAM+tB,CAAAA,CAAO/tB,EAAC,KAAM+M,KACxDugB,KAGP;QAAC;QAAG;QAAG;QAAG;QAAG;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAI,CAAE,KAAA,CAC3D,CAACvgB,GAAG/M,IAAM,CAAC+M,KAAKghB,CAAAA,CAAO/tB,EAAC,KAAM+M,KAGzBigB,KAEF;AACT;AAEA,SAAS4C,GAAW3B,CAAAA;IAClB,IAAM4B,IAAK,IAAI,SAAS5B,EAAM,MAAM,GAChCjsB,GACFmG,GACA2nB,IAAM,GACNC,IAAS,CAAA;IACX,MAAO,CAACA,KAAU/tB,MAAS,UAAU8tB,IAAM7B,EAAM,MAAA,EAAQ;QACvD9lB,IAAS0nB,EAAG,SAAA,CAAUC;QACtB,IAAME,IAAQ/B,EAAM,QAAA,CAAS6B,IAAM,GAAGA,IAAM;QAC5C9tB,IAAO,OAAO,YAAA,IAAgBguB,IAC9BD,IAAS/tB,MAAS,QAClB8tB,KAAO,KAAK3nB;IACd;IACA,OAAO4nB;AACT;ACpUA,IAAME,KAAoB;IACxB,cAAc;IACd,mBAAmB;IACnB,YAAY;IACZ,eAAe;IACf,WAAW;IACX,UAAU;IACV,UAAU;IACV,oBAAoB;IACpB,2BAA2B;IAC3B,cAAc;IACd,gBAAgB;IAChB,kBAAkB;IAClB,kBAAkB;IAClB,aAAa;IACb,UAAU;IACV,YAAY;IACZ,cAAc;IACd,YAAY;IACZ,UAAU;IACV,gBAAgB;IAChB,aAAa;IACb,WAAW;IACX,aAAa;IACb,YAAY;IACZ,WAAW;IACX,4BAA4B;IAC5B,0BAA0B;IAC1B,WAAW;IACX,cAAc;IACd,MAAM;IACN,gBAAgB;IAChB,eAAe;IACf,eAAe;IACf,WAAW;IACX,WAAW;IACX,aAAa;IACb,kBAAkB;IAClB,mBAAmB;IACnB,YAAY;IACZ,SAAS;IACT,eAAe;IACf,iBAAiB;IACjB,gBAAgB;IAChB,WAAW;IACX,aAAa;IACb,uBAAuB;IACvB,wBAAwB;IACxB,iBAAiB;IACjB,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,kBAAkB;IAClB,eAAe;IACf,aAAa;IACb,YAAY;IACZ,gBAAgB;IAChB,eAAe;IACf,mBAAmB;IACnB,oBAAoB;IACpB,aAAa;IACb,cAAc;IACd,YAAY;IACZ,aAAa;IACb,UAAU;IACV,cAAc;IACd,eAAe;IACf,cAAc;IACd,UAAU;IACV,aAAa;IACb,aAAa;IACb,aAAa;IACb,aAAa;IACb,SAAS;IACT,cAAc;IACd,cAAc;IACd,WAAW;IACX,WAAW;IACX,WAAW;IACX,YAAY;IACZ,WAAW;IACX,SAAS;IACT,SAAS;IACT,UAAU;IACV,YAAY;AACd,GAGMC,KAAa;AAEnB,SAASC,GACP9qB,CAAAA,EACA+qB,CAAAA;IAEA,IAAI,CAAC/qB,GAAM,OAAO;IAClB,IAAI,MAAM,OAAA,CAAQA,IAChB,OAAOA,EACJ,GAAA,CAAKyP,CAAAA,IAAMqb,GAA4Brb,GAAGsb,IAC1C,IAAA,CAAK;IAEV,IAAI,OAAO/qB,KAAS,UAAU,OAAO,OAAOA;IAE5C,IAAMrD,IAAOqD,EAAK,IAAA;IAClB,IAAIrD,MAAS,QACX,MAAM,IAAI,MACR;IAIJ,IAAM,EAAE,UAAA2nB,CAAAA,EAAU,OAAA0G,CAAAA,EAAO,GAAGC,GAAU,GAAIjrB,EAAK,KAAA,IAAS,CAAC,GACnDkrB,IAAAA,CAAeF,KAAA,OAAA,KAAA,IAAAA,EAAO,KAAA,KAASD,GAE/B9E,IAAQ,CAAA,EAAG,OAAO,OAAA,CAAQgF,GAC7B,GAAA,CAAI,CAAC,CAACt0B,GAAGyuB,EAAE,GAAA,CACN,OAAOA,KAAO,YAAYA,EAAG,WAAA,OAAkB,kBAAA,CACjDA,IAAK8F,CAAAA,GAGHv0B,MAAM,UAAUgG,MAAS,UACpB,CAAA,CAAA,EAAIiuB,EAAAA,CAAkBj0B,EAAC,IAAKA,EAAC,EAAA,EAAKgB,GAAM,GAAA,CAAIytB,EAAY,CAAE,EAAE,CAAA,CAAA,CAAA,GAE9D,CAAA,CAAA,EAAIwF,EAAAA,CAAkBj0B,EAAC,IAAKA,EAAC,EAAA,EAAKyuB,EAAE,CAAA,CAAA,GAE5C,IAAA,CAAK,IAAG,CAAA,EAEL+F,IAASH,IACX,CAAA,QAAA,EAAW,OAAO,OAAA,CAAQA,GACvB,GAAA,CAAI,CAAC,CAACr0B,GAAGyuB,EAAE,GAAM,CAAA,EAAGmC,GAAQ5wB,GAAE,CAAA,EAAIyuB,EAAE,CAAE,EACtC,IAAA,CAAK,KAAI,CAAA,CAAA,GACZ;IAEJ,OAAO,CAAA,CAAA,EAAIzoB,EAAI,EAAGspB,EAAK,EAAGkF,EAAM,CAAA,EAAIL,GAClCxG,GACA4G,GACD,EAAA,EAAKvuB,EAAI,CAAA,CACZ;AAAA;AAMA,eAAsByuB,GAAeprB,CAAAA;IACnC,IAAMsmB,IAAM,IAAI,KACV+E,IAAQ7sB,CAAAA;QACZ,IAAKA,KACA0lB,GAAe1lB,IAEpB;YAAA,IAAI,MAAM,OAAA,CAAQA,IAAQ;gBACxBA,EAAM,OAAA,CAAS5E,CAAAA,IAAMyxB,EAAKzxB;gBAC1B;YACF,OAAW,OAAO4E,KAAU,YAAA,CACtBA,EAAM,IAAA,KAAS,UACb8nB,EAAI,GAAA,CAAI9nB,EAAM,KAAA,CAAM,IAAI,KAG1B8nB,EAAI,GAAA,CAAI9nB,EAAM,KAAA,CAAM,IAAI,IAEjBA,EAAM,IAAA,KAAS,SAAA,CACpB8nB,EAAI,GAAA,CAAI9nB,EAAM,KAAA,CAAM,GAAG,KAGzB8nB,EAAI,GAAA,CAAI9nB,EAAM,KAAA,CAAM,GAAG,CAAA,CAAA;YAO7B,MAAM,OAAA,CAAQA,EAAM,KAAA,CAAM,QAAQ,IAC9BA,EAAM,KAAA,CAAM,QAAA,CAAS,GAAA,CAAK2iB,CAAAA,IAAMkK,EAAKlK,MACrCkK,EAAK7sB,EAAM,KAAA,CAAM,QAAQ;QAAA;IAC/B;IAEA,OAAA6sB,EAAKrrB,IAEE,QAAQ,GAAA,CAAI,MAAM,IAAA,CAAKsmB,GAAK,GAAA,CAAK/qB,CAAAA,IAAMsuB,GAAiBtuB;AACjE;AAEA,eAAsB+vB,GACpBtrB,CAAAA,EACA+qB,CAAAA;IAEA,IAAI,EACF,SAAAnE,CAAAA,EACA,SAAA2E,CAAAA,EACA,OAAAlC,CAAAA,EACA,QAAAC,CAAAA,EACA,WAAAxW,CAAAA,EACA,OAAAkY,CAAAA,EACA,UAAA1G,CAAAA,EACA,GAAG2G,GACL,GAAIjrB,EAAK,KAAA,IAAS,CAAC;IAEnB4mB,MAAY2E,GAGZN,EAAU,KAAA,GAAQ;IAElB,IAAMC,IAAAA,CAAeF,KAAA,OAAA,KAAA,IAAAA,EAAO,KAAA,KAASD,GAC/BS,IAAc7E,GAAaC,IAG3B4C,IAAQgC,IAAcA,CAAAA,CAAY,EAAC,GAAIA,CAAAA,CAAY,EAAC,GAAI;IAC9D,OAAAnC,IAAQA,KAAUG,KAASF,IAAUA,IAASE,IAAQ,MACtDF,IAASA,KAAWE,KAASH,IAASA,IAAQG,IAAQ,MAEtDyB,EAAU,KAAA,GAAQ5B,GAClB4B,EAAU,MAAA,GAAS3B,GACf1C,KAAAA,CAASqE,EAAU,OAAA,GAAUrE,CAAAA,GAE1B,CAAA,wBAAA,EAA2B,CAAA,KAAA,EAAQ,OAAO,OAAA,CAAQqE,GACtD,GAAA,CAAI,CAAC,CAACt0B,GAAGyuB,EAAE,GAAA,CACN,OAAOA,KAAO,YAAYA,EAAG,WAAA,OAAkB,kBAAA,CACjDA,IAAK8F,CAAAA,GAEA,CAAA,CAAA,EAAIN,EAAAA,CAAkBj0B,EAAC,IAAKA,EAAC,EAAA,EAAKyuB,EAAE,CAAA,CAAA,GAE5C,IAAA,CAAK,IAAG,CAAA,EAAI0F,GACbxG,GACA4G,GACD,MAAA,CAAA,CAAS,OAAA,CAAQL,IAAY,oBAAmB,CACnD;AAAA;AC3NA,IAAMY,KAAkB,QAEjBC,KAAQ;IAEb,GAAG;QACD,SAASD;QACT,WAAW;QACX,cAAc;IAChB;IACA,KAAK;QACH,SAASA;IACX;IACA,YAAY;QACV,SAASA;QACT,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;IACf;IACA,QAAQ;QACN,SAASA;QACT,WAAW;IACb;IACA,IAAI;QACF,SAASA;QACT,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;QACb,aAAa;QAEb,aAAa;IACf;IAEA,IAAI;QACF,SAASA;QACT,UAAU;QACV,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;QACb,YAAY;IACd;IACA,IAAI;QACF,SAASA;QACT,UAAU;QACV,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;QACb,YAAY;IACd;IACA,IAAI;QACF,SAASA;QACT,UAAU;QACV,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;QACb,YAAY;IACd;IACA,IAAI;QACF,SAASA;QACT,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;QACb,YAAY;IACd;IACA,IAAI;QACF,SAASA;QACT,UAAU;QACV,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;QACb,YAAY;IACd;IACA,IAAI;QACF,SAASA;QACT,UAAU;QACV,WAAW;QACX,cAAc;QACd,YAAY;QACZ,aAAa;QACb,YAAY;IACd;IAKA,GAAG;QACD,gBAAgB;IAClB;IACA,QAAQ;QACN,YAAY;IACd;IACA,GAAG;QACD,YAAY;IACd;IACA,GAAG;QACD,WAAW;IACb;IACA,IAAI;QACF,WAAW;IACb;IACA,MAAM;QACJ,YAAY;IACd;IACA,KAAK;QACH,YAAY;IACd;IACA,KAAK;QACH,SAASA;QACT,YAAY;QACZ,YAAY;QACZ,WAAW;QACX,cAAc;IAChB;IACA,MAAM;QACJ,iBAAiB;QACjB,OAAO;IACT;IACA,KAAK;QACH,UAAU;IACZ;IACA,OAAO;QACL,UAAU;IACZ;IACA,GAAG;QACD,gBAAgB;IAClB;AACF;AC1IA,IAAMjkB,KAAO,IAAI,IAAI;IACnB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAIA;IACA;IAGA;IACA;IACA;IACA;IACA;CACD;AAEc,SAARmkB,GAA6BX,CAAAA;IAClC,IAAMpG,IAAkC,CAAC;IACzC,IAAA,IAAW1pB,KAAQ8vB,EACbxjB,GAAK,GAAA,CAAItM,MAAI,CACf0pB,CAAAA,CAAe1pB,EAAI,GAAI8vB,CAAAA,CAAM9vB,EAAI;IAGrC,OAAO0pB;AACT;;;;;;AEpBA,SAASgH,GAAUpiB,CAAAA,EAAckb,CAAAA;IAC/B,IAAI;QACF,IAAM3N,IAAS,IAAIgN,GAAava;QAChC,OAAQuN,EAAO,IAAA;YACb,KAAK;gBACH,OAAO;oBAAE,UAAUA,EAAO,KAAM;gBAAA;YAClC,KAAK;gBACH,OAAO;oBAAE,UAAUA,EAAO,KAAA,GAAQ2N;gBAAa;YACjD,KAAK;gBACH,OAAO;oBAAE,UAAU3N,EAAO,KAAA,GAAQ;gBAAG;YACvC,KAAK;gBACH,OAAO;oBAAE,UAAUA,EAAO,KAAM;gBAAA;YAClC;gBACE,OAAO,CAAC;QACZ;IACF,EAAA,OAAE;QACA,OAAO,CAAC;IACV;AACF;AAEA,SAAS8U,GACPriB,CAAAA,EACAkb,CAAAA,EACAoH,CAAAA;IAEA,OAAQtiB;QACN,KAAK;YACH,OAAO;gBAAE,WAAW;YAAE;QACxB,KAAK;YACH,OAAO;gBAAE,WAAW;YAAE;QACxB,KAAK;YACH,OAAO;gBAAE,WAAW;YAAI;QAC1B,KAAK;YACH,OAAO;gBAAE,WAAW;YAAI;QAC1B,KAAK;YACH,OAAO,CAAC;QACV;YAAS;gBACP,IAAMuiB,IAAaH,GAAUpiB,GAAMkb;gBACnC,OAAOqH,EAAW,QAAA,GACd;oBACE,CAACD,IAAmB,cAAc,YAAW,EAAGC,EAAW,QAC7D;gBAAA,IACAA,EAAW,QAAA,GACX;oBACE,CAACD,IAAmB,cAAc,YAAW,EAAGC,EAAW,QAC7D;gBAAA,IACA,CAAC;YACP;IACF;AACF;AAEe,SAARC,GACLn3B,CAAAA,EACA6vB,CAAAA;IAGA,IAAI,OAAO7vB,KAAU,UACnB,OAAO;QAAE,WAAWA;IAAM;IAE5B,IAAIwyB;IACJ,IAAI;QACFA,IAAQ4E,CAAAA,GAAAA,4JAAAA,CAAAA,UAAAA,EAAYp3B,GACjB,KAAA,CAAM,MAAA,CAAQmL,CAAAA,IAASA,EAAK,IAAA,KAAS,QACrC,GAAA,CAAKA,CAAAA,IAASA,EAAK,KAAK;IAC7B,EAAA,OAAE;QACA,OAAO,CAAC;IACV;IAEA,OAAIqnB,EAAM,MAAA,KAAW,IAGZwE,GAAWxE,CAAAA,CAAM,EAAC,EAAG3C,GAAc,CAAA,KACjC2C,EAAM,MAAA,KAAW,IAAA,CAAA,CAGxBA,CAAAA,CAAM,EAAC,KAAM,SACbA,CAAAA,CAAM,EAAC,KAAM,YACbA,CAAAA,CAAM,EAAC,KAAM,UACbA,CAAAA,CAAM,EAAC,KAAM,OAAA,KAEbA,EAAM,OAAA,IAGD;QACL,GAAGwE,GAAWxE,CAAAA,CAAM,EAAC,EAAG3C,GAAc,CAAA,EAAI;QAC1C,GAAGmH,GAAWxE,CAAAA,CAAM,EAAC,EAAG3C,GAAc,CAAA,EACxC;IAAA,CAAA,IAEO,CAAC;AAEZ;;AChHA,SAASwH,GAAgBlB,CAAAA,EAAwC9tB,CAAAA;IAC/D,IAAMtH,IAAMu2B,CAAAA,GAAAA,uJAAAA,CAAAA,kBAAAA,EAAgB,CAAA,KAAA,EAAQjvB,EAAI,CAAE;IAC1C,OAAQ8tB,CAAAA,CAAMp1B,EAAG,IAAKo1B,CAAAA,CAAM,CAAA,OAAA,EAAUp1B,EAAI,SAAA,CAAU,GAAE,CAAE,CAC1D;AAAA;AAWO,SAASw2B,GACdpB,CAAAA;IAEA,IAAMqB,IAAarB,EAAM,SAAA,IAAaA,EAAM,eAAA,EAEtCsB,IAAS;QACb,UAAUJ,GAAgBlB,GAAO,eAAe;QAChD,MAAMkB,GAAgBlB,GAAO,WAAW;QACxC,QAAQkB,GAAgBlB,GAAO,aAAa;QAC5C,QAAQkB,GAAgBlB,GAAO,aAAa;QAC5C,MAAMkB,GAAgBlB,GAAO,aAAa;IAC5C;IAIA,OAFiBvD,GAAa4E,GAAW,MAAA,CAAQzyB,CAAAA,IAAMA,KAAKA,MAAM,QAEhD,OAAA,GAAU,GAAA,CAAK0L,CAAAA,IAAAA,CAAO;YACtC,OAAOA;YACP,GAAGgnB,CACL;QAAA,CAAA;AACF;AFjBA,IAAMC,KAAW,IAAI,IAAI;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD,GACKC,KAAa,IAAI,IAAI;IAAC;CAAa;AAEzC,SAASC,GACPvxB,CAAAA,EACA6b,CAAAA,EACA2V,CAAAA,EACAxB,CAAAA;IAEA,OACEhwB,MAAS,oBACT,CAACwxB,EAAS,QAAA,CAAS3V,EAAO,mBAAmB,KAAA,CAE7CA,EAAO,mBAAA,GAAsBmU,CAAAA,GAExBnU;AACT;AAEA,SAAS4V,GAAOzvB,CAAAA,EAAcrI,CAAAA;IAC5B,IAAM+3B,IAAM,OAAO/3B;IACnB,OAAI,MAAM+3B,KAAa/3B,IAClB03B,GAAS,GAAA,CAAIrvB,KACdsvB,GAAW,GAAA,CAAItvB,KAAc0vB,IAC1B,OAAO/3B,KAFkB+3B,IAAM;AAGxC;AAEA,SAASC,GACP3vB,CAAAA,EACArI,CAAAA,EACAq2B,CAAAA;IAEA,IAAIhuB,MAAS,cACX,OAAO;QAAE,YAAYyvB,GAAOzvB,GAAMrI;IAAO;IAG3C,IAAIqI,MAAS,cACX,OAAO;QACL,YAAarI,EAAiB,KAAA,CAAM,KAAK,GAAA,CAAKuwB,CAAAA,IACrCA,EACJ,IAAA,GACA,OAAA,CAAQ,oBAAoB,IAC5B,iBAAA;IAEP;IAGF,IAAIloB,MAAS,gBAAgB;QAC3B,IAAI,OAAOrI,KAAU,YAAY,CAACA,EAAM,QAAA,CAAS,MAE/C;QAGF,IAAM,CAACi4B,GAAYC,EAAQ,GAAIl4B,EAAM,KAAA,CAAM,MACrCm4B,IAAKC,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB/vB,GAAM4vB,GAAY,CAAA,IAC5CI,IAAKD,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB/vB,GAAM6vB,GAAU,CAAA;QAChD,IAAA,IAAWp2B,KAAKq2B,EACdE,CAAAA,CAAGv2B,EAAC,GAAIg2B,GAAOzvB,GAAM8vB,CAAAA,CAAGr2B,EAAE,IAAI,MAAMg2B,GAAOzvB,GAAMgwB,CAAAA,CAAGv2B,EAAE;QAExD,OAAOu2B;IACT;IAEA,IAAI,mCAAmC,IAAA,CAAKhwB,IAAO;QACjD,IAAM2f,IAAWoQ,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB,UAAUp4B,GAAO,CAAA;QAMnDgoB,EAAS,WAAA,KAAgB,KAAK,CAAC,OAAOhoB,GAAO,QAAA,CAAS,UAAK,CAC7DgoB,EAAS,WAAA,GAAc,CAAA,GAMrBA,EAAS,WAAA,KAAgB,WAAW,CAAC,OAAOhoB,GAAO,QAAA,CAAS,YAAO,CACrEgoB,EAAS,WAAA,GAAcqO,CAAAA;QAGzB,IAAMiC,IAAW;YACf,OAAOR,GAAOzvB,IAAO,SAAS2f,EAAS,WAAW;YAClD,OAAOjjB,GACLijB,EAAS,WAAA,EACT;gBACE,OAAO;gBACP,QAAQ;YACV,GACA,SACA3f,IAAO;YAET,OAAO2f,EAAS,WAClB;QAAA,GAEMuQ,IAAO,CAAC;QACd,KAAA,IAAWz2B,KAAKuG,MAAS,WACrB;YAAC;YAAO;YAAS;YAAU;SAAM,GACjC;YAACA,EAAK,KAAA,CAAM;SAAE,CAChB,IAAA,IAAWsC,KAAK2tB,EACdC,CAAAA,CAAK,WAAWz2B,IAAI6I,EAAC,GAAI2tB,CAAAA,CAAS3tB,EAAC;QAGvC,OAAO4tB;IACT;IAEA,IAAIlwB,MAAS,aAAa;QACxB,IAAI,CAACrI,GACH,MAAM,IAAI,MAAM,iCAAiCA,IAAQ;QAE3D,OAAO;YACL,CAACqI,EAAI,EAAG,OAAOrI,KAAU,WAAWw4B,CAAAA,GAAAA,+IAAAA,CAAAA,QAAAA,EAAex4B,KAASA;QAC9D;IACF;IAEA,IAAIqI,MAAS,aAAa;QACxB,IAAI,OAAOrI,KAAU,UAAU,MAAM,IAAI,MAAM;QAG/C,IAAMy4B,IAAU,CAAC,GACXC,IAAW14B,EAAM,OAAA,CAAQ,gBAAgB,CAACmhB,GAAGoP;YACjD,IAAMoI,IAAS,CAAC,CAAA,CAAE,KAAK,MAAA,KAAW,GAAA;YAClC,OAAAF,CAAAA,CAAQE,EAAM,GAAIpI,GACXoI,IAAS;QAClB,IACMzW,IAASkW,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB,aAAaM,GAAU,CAAA;QAC3D,KAAA,IAAW3jB,KAAKmN,EAAO,SAAA,CACrB,IAAA,IAAWpgB,KAAKiT,EACV0jB,CAAAA,CAAQ1jB,CAAAA,CAAEjT,EAAE,CAAA,IAAA,CACdiT,CAAAA,CAAEjT,EAAC,GAAI22B,CAAAA,CAAQ1jB,CAAAA,CAAEjT,EAAE,CAAA;QAIzB,OAAOogB;IACT;IAEA,IAAI7Z,MAAS,cAEX,OADArI,IAAQA,EAAM,QAAA,GAAW,IAAA,IACrB,2CAA2C,IAAA,CAAKA,KAC3Co4B,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB,mBAAmBp4B,GAAO,CAAA,KAEjDo4B,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB,cAAcp4B,GAAO,CAAA;IAGnD,IAAIqI,MAAS,cAAc;QAEzBrI,IAAQA,EAAM,QAAA,GAAW,IAAA;QACzB,IAAM2L,IAAS,CAAC,GAEV+Y,IAAUkO,GAAa5yB;QAE7B,KAAA,IAAWukB,KAAUG,EAAS;YAC5B,IAAM4R,IAAS8B,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB,cAAc7T,GAAQ,CAAA;YAC1D,IAAA,IAAWziB,KAAKw0B,EACT3qB,CAAAA,CAAO7J,EAAC,GAGX6J,CAAAA,CAAO7J,EAAC,CAAE,IAAA,CAAKw0B,CAAAA,CAAOx0B,EAAE,IAFxB6J,CAAAA,CAAO7J,EAAC,GAAI;gBAACw0B,CAAAA,CAAOx0B,EAAE;aAK5B;QAAA;QAEA,OAAO6J;IACT;AAGF;AAEA,SAASitB,GAAavwB,CAAAA;IACpB,OAAIA,MAAS,cACJ,yDAEF;AACT;AAEA,IAAMwwB,KAAY;AAClB,SAASC,GAAe94B,CAAAA;IACtB,IAAI,OAAOA,KAAU,YACf64B,GAAU,IAAA,CAAK74B,EAAM,IAAA,KAEvB,OAAOA,EAAM,IAAA,GAAO,OAAA,CAAQ64B,IAAW,CAAC1X,GAAGC,GAAGC,GAAGxO,GAAGD,IAC3C,CAAA,KAAA,EAAQwO,EAAC,EAAA,EAAKC,EAAC,EAAA,EAAKxO,EAAC,EAAA,EAAKD,EAAC,CAAA,CACnC;IAKL,IAAI,OAAO5S,KAAU,YAAYA,MAAU,MAAM;QAC/C,IAAA,IAAW8B,KAAK9B,EACdA,CAAAA,CAAM8B,EAAC,GAAIg3B,GAAe94B,CAAAA,CAAM8B,EAAE;QAEpC,OAAO9B;IACT;IAEA,OAAOA;AACT;AAgDe,SAAR+4B,GACL5C,CAAAA,EACApG,CAAAA;IAEA,IAAMiJ,IAAmC,CAAC;IAE1C,IAAI7C,GAAO;QACT,IAAME,IAAe4C,GACnB9C,EAAM,KAAA,EACNpG,EAAe,KACjB;QAEAiJ,EAAgB,KAAA,GAAQ3C;QAExB,IAAA,IAAWhwB,KAAQ8vB,EAAO;YAExB,IAAI9vB,EAAK,UAAA,CAAW,MAAM;gBACxB2yB,CAAAA,CAAgB3yB,EAAI,GAAI8vB,CAAAA,CAAM9vB,EAAI;gBAClC;YACF;YAEA,IAAIA,MAAS,SACX;YAGF,IAAMgC,IAAOivB,CAAAA,GAAAA,uJAAAA,CAAAA,kBAAAA,EAAgBjxB,IACvBrG,IAAQk5B,GAAW/C,CAAAA,CAAM9vB,EAAI,EAAGgwB;YAEtC,IAAI;gBACF,IAAM8C,IACJnB,GAAkB3vB,GAAMrI,GAAOq2B,MAC/BuB,GACEvvB,GACA+vB,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB/vB,GAAMyvB,GAAOzvB,GAAMrI,IAAQ,CAAA,IAChDA,GACAq2B;gBAGJ,OAAO,MAAA,CAAO2C,GAAiBG;YACjC,EAAA,OAAS1D,GAAP;gBACA,MAAM,IAAI,MACRA,EAAI,OAAA,GAAA,CAGDA,EAAI,OAAA,CAAQ,QAAA,CAASz1B,KAClB,CAAA;EAAA,CAAA,GAAS44B,GAAavwB,KACtB,CAAA;gBAAA,EAAqBA,EAAI,EAAA,EAAKrI,EAAK,GAAA,EAAM44B,GAAavwB,GAAK,CAAA;YAErE;QACF;IACF;IAGA,IAAI2wB,EAAgB,eAAA,EAAiB;QACnC,IAAM,EAAE,aAAAI,CAAY,EAAA,GAAIC,CAAAA,GAAAA,sJAAAA,CAAAA,oBAAAA,EAAkBL;QAC1CA,EAAgB,eAAA,GAAkBI;IACpC;IAAA,CAEIJ,EAAgB,SAAA,IAAaA,EAAgB,eAAA,KAAA,CAC/CA,EAAgB,SAAA,GAAYzB,GAAUyB,EAAe;IAIvD,IAAMnJ,IAAeyJ,GACnBN,EAAgB,QAAA,EAChBjJ,EAAe,QACjB;IACI,OAAOiJ,EAAgB,QAAA,GAAa,OAAA,CACtCA,EAAgB,QAAA,GAAWnJ,CAAAA,GAGzBmJ,EAAgB,eAAA,IAAA,CAClBA,EAAgB,eAAA,GAAkB7B,GAChC6B,EAAgB,eAAA,EAChBnJ,EACF;IAGF,IAAA,IAAWxpB,KAAQ2yB,EAAiB;QAClC,IAAIh5B,IAAQg5B,CAAAA,CAAgB3yB,EAAI;QAGhC,IAAIA,MAAS,cACP,OAAOrG,KAAU,YAAA,CACnBA,IAAQg5B,CAAAA,CAAgB3yB,EAAI,GAC1BupB,EACE5vB,GACA6vB,GACAA,GACAE,GACA,CAAA,KACEF,CAAAA;aAEH;YAEL,IAAI,OAAO7vB,KAAU,UAAU;gBAC7B,IAAMqK,IAAMulB,EACV5vB,GACA6vB,GACAA,GACAE;gBAEE,OAAO1lB,IAAQ,OAAA,CAAa2uB,CAAAA,CAAgB3yB,EAAI,GAAIgE,CAAAA,GACxDrK,IAAQg5B,CAAAA,CAAgB3yB,EAC1B;YAAA;YAEA,IAAI,OAAOrG,KAAU,YAAY,OAAOA,KAAU,UAAU;gBAC1D,IAAMuhB,IAAQuX,GAAe94B;gBACzBuhB,KAAAA,CACFyX,CAAAA,CAAgB3yB,EAAI,GAAIkb,CAAAA,GAE1BvhB,IAAQg5B,CAAAA,CAAgB3yB,EAC1B;YAAA;QACF;QAOA,IAJIA,MAAS,aAAa,OAAOrG,KAAU,YAAA,CACzCg5B,EAAgB,OAAA,GAAUh5B,IAAQ+vB,EAAe,OAAA,GAG/C1pB,MAAS,aAAa;YACxB,IAAMkzB,IAAav5B;YAEnB,KAAA,IAAWsE,KAAai1B,EAAY;gBAClC,IAAMzxB,IAAO,OAAO,IAAA,CAAKxD,EAAS,CAAE,EAAC,EAC/BisB,IAAKjsB,CAAAA,CAAUwD,EAAI,EAGnBuC,IACJ,OAAOkmB,KAAO,WACVX,EAAeW,GAAIV,GAAcA,GAAcE,MAC/CQ,IACAA;gBACNjsB,CAAAA,CAAUwD,EAAI,GAAIuC;YACpB;QACF;QAEA,IAAIhE,MAAS,oBAAoB;YAC/B,IAAMmzB,IAAmBx5B;YAEzBg5B,EAAgB,gBAAA,GAAmBQ,EAAiB,GAAA,CAAKjJ,CAAAA,IACvDX,EAAeW,GAAIV,GAAc,GAAGE,GAAgB,CAAA;QAExD;QAEA,IAAI1pB,MAAS,oBAAoB;YAC/B,IAAMozB,IAAmBz5B;YAKzBg5B,EAAgB,gBAAA,GAAmBS,EAAiB,GAAA,CAClD,CAAC,EAAE,QAAAhF,CAAAA,EAAQ,OAAAD,CAAM,EAAA,GAAA,CAAO;oBACtB,QAAQ5E,EACN6E,GACA5E,GACA,GACAE,GACA,CAAA;oBAEF,OAAOH,EAAe4E,GAAO3E,GAAc,GAAGE,GAAgB,CAAA;gBAChE,CAAA;QAEJ;IACF;IAEA,OAAOiJ;AACT;AAEA,SAASM,GACP5E,CAAAA,EACAgF,CAAAA;IAEA,IAAI,OAAOhF,KAAS,UAAU,OAAOA;IAErC,IAAI;QACF,IAAMxS,IAAS,IAAIgN,GAAawF;QAChC,OAAQxS,EAAO,IAAA;YACb,KAAK;gBACH,OAAOA,EAAO,KAAA,GAAQwX;YACxB,KAAK;gBACH,OAAOxX,EAAO,KAAA,GAAQ;QAC1B;IACF,EAAA,OAAE;QACA,OAAOwX;IACT;AACF;AAKA,SAASC,GAAUpY,CAAAA;IACjB,IAAIA,EAAM,UAAA,CAAW,QAAQ;QAC3B,IAAM,IAAIqY,CAAAA,GAAAA,+JAAAA,CAAAA,UAAAA,EAAcrY,IAClB,CAACiN,GAAG9nB,GAAGmoB,EAAC,GAAI,EAAE,MAAA;QAEpB,OAAO,CAAA,IAAA,EAAO;YAACL;YAAG,CAAA,EAAG9nB,EAAC,CAAA,CAAA;YAAK,CAAA,EAAGmoB,EAAC,CAAA,CAAG;SAAA,CAC/B,MAAA,CAAO,EAAE,KAAA,KAAU,IAAI,EAAC,GAAI;YAAC,EAAE,KAAK;SAAC,EACrC,IAAA,CAAK,KAAI,CAAA,CACd;IAAA;IAEA,OAAOtN;AACT;AAEA,SAAS0X,GACP1X,CAAAA,EACA2U,CAAAA;IAEA,OAAI3U,KAASA,EAAM,WAAA,OAAkB,iBAC5BoY,GAAUpY,KAGZoY,GAAUzD;AACnB;AAEA,SAAS2D,GACP75B,CAAAA,EACAq2B,CAAAA;IAEA,OAAOr2B,EAAM,OAAA,CAAQ,kBAAkBq2B;AACzC;AAEA,SAAS6C,GACPl5B,CAAAA,EACAq2B,CAAAA;IAEA,OAAI9W,GAASvf,MAAK,CAChBA,IAAQ65B,GAAiC75B,GAAOq2B,EAAY,GAGvDr2B;AACT;AGreA,eAAO85B,GACL3uB,CAAAA,EACArD,CAAAA,EACAioB,CAAAA,EACAgK,CAAAA,EACA5zB,CAAAA;IAEA,IAAM6zB,IAAO,MAAM9L,MAGbiI,IAAyB;QAC7B,GAAGpG,CAAAA;QACH,GAAGgJ,GAAOlC,EAAAA,CAAQ/uB,EAAI,EAAGioB,EAAc;QACvC,GAAGgJ,GAAOgB,GAAchK,EAC1B;IAAA;IAEA,IAAIjoB,MAAS,OAAO;QAClB,IAAI,CAACmyB,GAAaC,GAAYC,EAAW,GAAI,MAAMnF,GACjD7uB,EAAM,GACR;QAGA,IAAI+zB,MAAe,KAAA,KAAaC,MAAgB,KAAA,GAAW;YACzD,IAAIh0B,EAAM,KAAA,KAAU,KAAA,KAAaA,EAAM,MAAA,KAAW,KAAA,GAChD,MAAM,IAAI,MACR;YAGJ+zB,IAAa,SAAS/zB,EAAM,KAAK,GACjCg0B,IAAc,SAASh0B,EAAM,MAAM;QACrC;QACA,IAAMib,IAAI+Y,IAAcD,GAKpBE,IAAAA,CACDjE,EAAM,eAAA,IAAmB,CAAA,IAAA,CACzBA,EAAM,gBAAA,IAAoB,CAAA,IAAA,CAC1BA,EAAM,WAAA,IAAe,CAAA,IAAA,CACrBA,EAAM,YAAA,IAAgB,CAAA,GACrBkE,IAAAA,CACDlE,EAAM,cAAA,IAAkB,CAAA,IAAA,CACxBA,EAAM,iBAAA,IAAqB,CAAA,IAAA,CAC3BA,EAAM,UAAA,IAAc,CAAA,IAAA,CACpBA,EAAM,aAAA,IAAiB,CAAA,GAEtBmE,IAAkBnE,EAAM,KAAA,IAAShwB,EAAM,KAAA,EACvCo0B,IAAmBpE,EAAM,MAAA,IAAUhwB,EAAM,MAAA,EAEvCq0B,IACJ,OAAOF,KAAoB,YAC3B,OAAOC,KAAqB;QAE1BC,KAAAA,CACFF,KAAmBF,GACnBG,KAAoBF,CAAAA,GAIlBC,MAAoB,KAAA,KAAaC,MAAqB,KAAA,IAAA,CACxDD,IAAkB,QAClBnvB,EAAK,cAAA,CAAe,IAAIiW,EAAC,IAGrBkZ,MAAoB,KAAA,IAClB,OAAOC,KAAqB,WAC9BD,IAAkBC,IAAmBnZ,IAIrCjW,EAAK,cAAA,CAAe,IAAIiW,KAEjBmZ,MAAqB,KAAA,KAAA,CAC1B,OAAOD,KAAoB,WAC7BC,IAAmBD,IAAkBlZ,IAIrCjW,EAAK,cAAA,CAAe,IAAIiW,EAAC,GAK/B+U,EAAM,KAAA,GAAQqE,IACTF,IAA6BF,IAC9BE,GACJnE,EAAM,MAAA,GAASqE,IACVD,IAA8BF,IAC/BE,GACJpE,EAAM,KAAA,GAAQ8D;IAChB;IAEA,IAAInyB,MAAS,OAAO;QAClB,IAAMiqB,IAAU5rB,EAAM,OAAA,IAAWA,EAAM,OAAA,EACjCwwB,IAAc7E,GAAaC,IAC3B4C,IAAQgC,IAAcA,CAAAA,CAAY,EAAC,GAAIA,CAAAA,CAAY,EAAC,GAAI,MAE1D,EAAE,OAAAnC,CAAAA,EAAO,QAAAC,CAAO,EAAA,GAAItuB;QACpB,OAAOquB,IAAU,OAAeC,IAC9BE,KAAS,OACXH,IAAQ,IACC,OAAOC,KAAW,YAAYA,EAAO,QAAA,CAAS,OACvDD,IAAQ,SAASC,KAAUE,IAAQ,MAAA,CAEnCF,IAAS7E,EACP6E,GACA1E,EAAe,QAAA,EACf,GACAA,IAEFyE,IAAQC,IAASE,CAAAA,IAEV,OAAOF,IAAW,OAAeD,IACtCG,KAAS,OACXH,IAAQ,IACC,OAAOA,KAAU,YAAYA,EAAM,QAAA,CAAS,OACrDC,IAAS,SAASD,KAASG,IAAQ,MAAA,CAEnCH,IAAQ5E,EACN4E,GACAzE,EAAe,QAAA,EACf,GACAA,IAEF0E,IAASD,IAAQG,CAAAA,IAAAA,CAGf,OAAOH,IAAU,OAAA,CACnBA,IACE5E,EAAe4E,GAAOzE,EAAe,QAAA,EAAU,GAAGA,MAClDyE,CAAAA,GAEA,OAAOC,IAAW,OAAA,CACpBA,IACE7E,EAAe6E,GAAQ1E,EAAe,QAAA,EAAU,GAAGA,MACnD0E,CAAAA,GAEJD,MAAUmC,KAAA,OAAA,KAAA,IAAAA,CAAAA,CAAc,EAAA,EACxBlC,MAAWkC,KAAA,OAAA,KAAA,IAAAA,CAAAA,CAAc,EAAA,GAGvB,CAACR,EAAM,KAAA,IAAS3B,KAAAA,CAAO2B,EAAM,KAAA,GAAQ3B,CAAAA,GACrC,CAAC2B,EAAM,MAAA,IAAU1B,KAAAA,CAAQ0B,EAAM,MAAA,GAAS1B,CAAAA;IAC9C;IAGA,OAAAtpB,EAAK,UAAA,CACHpG,GACEoxB,EAAM,OAAA,EACN;QACE,MAAM6D,EAAK,YAAA;QACX,OAAOA,EAAK,YAAA;QACZ,MAAMA,EAAK,YAAA;QACX,eAAeA,EAAK,YACtB;IAAA,GACAA,EAAK,YAAA,EACL,aAIJ7uB,EAAK,eAAA,CACHpG,GACEoxB,EAAM,YAAA,EACN;QACE,SAAS6D,EAAK,aAAA;QACd,QAAQA,EAAK,YAAA;QACb,cAAcA,EAAK,gBAAA;QACnB,YAAYA,EAAK,cAAA;QACjB,iBAAiBA,EAAK,mBAAA;QACtB,gBAAgBA,EAAK,kBAAA;QACrB,UAAUA,EAAK,cAAA;QACf,QAAQA,EAAK,UACf;IAAA,GACAA,EAAK,UAAA,EACL,kBAIJ7uB,EAAK,aAAA,CACHpG,GACEoxB,EAAM,UAAA,EACN;QACE,SAAS6D,EAAK,aAAA;QACd,QAAQA,EAAK,YAAA;QACb,cAAcA,EAAK,gBAAA;QACnB,YAAYA,EAAK,cAAA;QACjB,UAAUA,EAAK,cAAA;QACf,QAAQA,EAAK,UACf;IAAA,GACAA,EAAK,aAAA,EACL,gBAGJ7uB,EAAK,YAAA,CACHpG,GACEoxB,EAAM,SAAA,EACN;QACE,SAAS6D,EAAK,aAAA;QACd,QAAQA,EAAK,YAAA;QACb,cAAcA,EAAK,gBAAA;QACnB,YAAYA,EAAK,cAAA;QACjB,UAAUA,EAAK,cAAA;QACf,QAAQA,EAAK,UACf;IAAA,GACAA,EAAK,UAAA,EACL,eAGJ7uB,EAAK,iBAAA,CACHpG,GACEoxB,EAAM,cAAA,EACN;QACE,QAAQ6D,EAAK,cAAA;QACb,cAAcA,EAAK,kBAAA;QACnB,YAAYA,EAAK,gBAAA;QACjB,iBAAiBA,EAAK,qBAAA;QACtB,gBAAgBA,EAAK,oBACvB;IAAA,GACAA,EAAK,kBAAA,EACL,oBAKJ7uB,EAAK,gBAAA,CACHpG,GACEoxB,EAAM,aAAA,EACN;QACE,KAAK6D,EAAK,kBAAA;QACV,QAAQA,EAAK,qBAAA;QACb,eAAeA,EAAK,0BAAA;QACpB,kBAAkBA,EAAK,6BACzB;IAAA,GACAA,EAAK,kBAAA,EACL,mBAGJ7uB,EAAK,WAAA,CACHpG,GACEoxB,EAAM,QAAA,EACN;QACE,MAAM6D,EAAK,SAAA;QACX,QAAQA,EAAK,YAAA;QACb,gBAAgBA,EAAK,iBACvB;IAAA,GACAA,EAAK,YAAA,EACL,cAIA,OAAO7D,EAAM,GAAA,GAAQ,OACvBhrB,EAAK,MAAA,CAAO6uB,EAAK,UAAA,EAAY7D,EAAM,GAAG,GAGpC,OAAOA,EAAM,MAAA,GAAW,OAC1BhrB,EAAK,MAAA,CAAO6uB,EAAK,UAAA,EAAY7D,EAAM,MAAM,GAGvC,OAAOA,EAAM,SAAA,GAAc,OAC7BhrB,EAAK,MAAA,CAAO6uB,EAAK,aAAA,EAAe7D,EAAM,SAAS,GAK7C,OAAOA,EAAM,SAAA,GAAc,OAC7BhrB,EAAK,YAAA,CAAagrB,EAAM,SAAS,GAEnChrB,EAAK,WAAA,CAAY,OAAOgrB,EAAM,QAAA,GAAa,MAAc,IAAIA,EAAM,QAAQ,GAC3EhrB,EAAK,aAAA,CACH,OAAOgrB,EAAM,UAAA,GAAe,MAAc,IAAIA,EAAM,UACtD,GAEI,OAAOA,EAAM,SAAA,GAAc,OAC7BhrB,EAAK,YAAA,CAAagrB,EAAM,SAAS,GAE/B,OAAOA,EAAM,QAAA,GAAa,OAC5BhrB,EAAK,WAAA,CAAYgrB,EAAM,QAAQ,GAE7B,OAAOA,EAAM,SAAA,GAAc,OAC7BhrB,EAAK,YAAA,CAAagrB,EAAM,SAAS,GAE/B,OAAOA,EAAM,QAAA,GAAa,OAC5BhrB,EAAK,WAAA,CAAYgrB,EAAM,QAAQ,GAGjChrB,EAAK,WAAA,CACHpG,GACEoxB,EAAM,QAAA,EACN;QACE,SAAS6D,EAAK,gBAAA;QACd,QAAQA,EAAK,eACf;IAAA,GACAA,EAAK,gBAAA,EACL,cAIJ7uB,EAAK,SAAA,CAAU6uB,EAAK,QAAA,EAAU7D,EAAM,SAAA,IAAa,IACjDhrB,EAAK,SAAA,CAAU6uB,EAAK,WAAA,EAAa7D,EAAM,YAAA,IAAgB,IACvDhrB,EAAK,SAAA,CAAU6uB,EAAK,SAAA,EAAW7D,EAAM,UAAA,IAAc,IACnDhrB,EAAK,SAAA,CAAU6uB,EAAK,UAAA,EAAY7D,EAAM,WAAA,IAAe,IAErDhrB,EAAK,SAAA,CAAU6uB,EAAK,QAAA,EAAU7D,EAAM,cAAA,IAAkB,IACtDhrB,EAAK,SAAA,CAAU6uB,EAAK,WAAA,EAAa7D,EAAM,iBAAA,IAAqB,IAC5DhrB,EAAK,SAAA,CAAU6uB,EAAK,SAAA,EAAW7D,EAAM,eAAA,IAAmB,IACxDhrB,EAAK,SAAA,CAAU6uB,EAAK,UAAA,EAAY7D,EAAM,gBAAA,IAAoB,IAE1DhrB,EAAK,UAAA,CAAW6uB,EAAK,QAAA,EAAU7D,EAAM,UAAA,IAAc,IACnDhrB,EAAK,UAAA,CAAW6uB,EAAK,WAAA,EAAa7D,EAAM,aAAA,IAAiB,IACzDhrB,EAAK,UAAA,CAAW6uB,EAAK,SAAA,EAAW7D,EAAM,WAAA,IAAe,IACrDhrB,EAAK,UAAA,CAAW6uB,EAAK,UAAA,EAAY7D,EAAM,YAAA,IAAgB,IAEvDhrB,EAAK,eAAA,CACHpG,GACEoxB,EAAM,QAAA,EACN;QACE,UAAU6D,EAAK,sBAAA;QACf,UAAUA,EAAK,sBACjB;IAAA,GACAA,EAAK,sBAAA,EACL,cAIA,OAAO7D,EAAM,GAAA,GAAQ,OACvBhrB,EAAK,WAAA,CAAY6uB,EAAK,QAAA,EAAU7D,EAAM,GAAG,GAEvC,OAAOA,EAAM,MAAA,GAAW,OAC1BhrB,EAAK,WAAA,CAAY6uB,EAAK,WAAA,EAAa7D,EAAM,MAAM,GAE7C,OAAOA,EAAM,IAAA,GAAS,OACxBhrB,EAAK,WAAA,CAAY6uB,EAAK,SAAA,EAAW7D,EAAM,IAAI,GAEzC,OAAOA,EAAM,KAAA,GAAU,OACzBhrB,EAAK,WAAA,CAAY6uB,EAAK,UAAA,EAAY7D,EAAM,KAAK,GAG3C,OAAOA,EAAM,MAAA,GAAW,MAC1BhrB,EAAK,SAAA,CAAUgrB,EAAM,MAAM,IAE3BhrB,EAAK,aAAA,IAEH,OAAOgrB,EAAM,KAAA,GAAU,MACzBhrB,EAAK,QAAA,CAASgrB,EAAM,KAAK,IAEzBhrB,EAAK,YAAA,IAGA;QAACgrB;QAAOW,GAAYX;KAC7B;AAAA;;AE5WA,IAAMsE,KAAa;IAAC;IAAG;IAAG;IAAG;IAAG;IAAG;CAAC;AAGpC,SAASC,GAAkBnB,CAAAA,EAAmB/E,CAAAA,EAAeC,CAAAA;IAC3D,IAAIkG,IAAS;WAAIF;KAAU;IAM3B,KAAA,IAAWn2B,KAAai1B,EAAY;QAClC,IAAMzxB,IAAO,OAAO,IAAA,CAAKxD,EAAS,CAAE,EAAC,EACjCS,IAAIT,CAAAA,CAAUwD,EAAI;QAGtB,IAAI,OAAO/C,KAAM,UACf,IAAI+C,MAAS,cACX/C,IAAK,WAAWA,KAAK,MAAOyvB,GAE5BlwB,CAAAA,CAAUwD,EAAI,GAAI/C;aAAAA,IACT+C,MAAS,cAClB/C,IAAK,WAAWA,KAAK,MAAO0vB,GAC5BnwB,CAAAA,CAAUwD,EAAI,GAAI/C;aAElB,MAAM,IAAI,MAAM,CAAA,oBAAA,EAAuB+C,EAAI,EAAA,EAAK/C,EAAC,EAAA,CAAI;QAIzD,IAAIsF,IAAMtF,GAEJ61B,IAAkB;eAAIH;SAAU;QACtC,OAAQ3yB;YACN,KAAK;gBACH8yB,CAAAA,CAAgB,EAAC,GAAIvwB;gBACrB;YACF,KAAK;gBACHuwB,CAAAA,CAAgB,EAAC,GAAIvwB;gBACrB;YACF,KAAK;gBACHuwB,CAAAA,CAAgB,EAAC,GAAIvwB,GACrBuwB,CAAAA,CAAgB,EAAC,GAAIvwB;gBACrB;YACF,KAAK;gBACHuwB,CAAAA,CAAgB,EAAC,GAAIvwB;gBACrB;YACF,KAAK;gBACHuwB,CAAAA,CAAgB,EAAC,GAAIvwB;gBACrB;YACF,KAAK;gBAAU;oBACb,IAAMwwB,IAAOxwB,IAAM,KAAK,EAAA,GAAM,KACxBiiB,IAAI,KAAK,GAAA,CAAIuO,IACbn0B,IAAI,KAAK,GAAA,CAAIm0B;oBACnBD,CAAAA,CAAgB,EAAC,GAAItO,GACrBsO,CAAAA,CAAgB,EAAC,GAAIl0B,GACrBk0B,CAAAA,CAAgB,EAAC,GAAI,CAACl0B,GACtBk0B,CAAAA,CAAgB,EAAC,GAAItO;oBACrB;gBACF;YACA,KAAK;gBACHsO,CAAAA,CAAgB,EAAC,GAAI,KAAK,GAAA,CAAKvwB,IAAM,KAAK,EAAA,GAAM;gBAChD;YACF,KAAK;gBACHuwB,CAAAA,CAAgB,EAAC,GAAI,KAAK,GAAA,CAAKvwB,IAAM,KAAK,EAAA,GAAM;gBAChD;QACJ;QACAswB,IAAS3K,GAAS4K,GAAiBD;IACrC;IAEApB,EAAW,MAAA,CAAO,GAAGA,EAAW,MAAM,GACtCA,EAAW,IAAA,IAAQoB,IACjBpB,EAAmB,UAAA,GAAa,CAAA;AACpC;AAEe,SAARj1B,GACL,EACE,MAAAw2B,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CACF,EAAA,EAMA8E,CAAAA,EACAyB,CAAAA,EACAC,CAAAA;IAEA,IAAItvB;IAEE4tB,EAAmB,UAAA,IACvBmB,GAAkBnB,GAAY/E,GAAOC;IAGvC,IAAIkG,IAASpB;IAGb,IAAIyB,GACFrvB,IAASgvB;SACJ;QACL,IAAMO,IAAAA,CACJD,KAAA,OAAA,KAAA,IAAAA,EAAiB,SAAA,KAAA,CAAA,CACfA,KAAA,OAAA,KAAA,IAAAA,EAAiB,SAAA,KAAa,EAAA,IAAMzG,IAAS,KAC3C2G,IAAAA,CACJF,KAAA,OAAA,KAAA,IAAAA,EAAiB,SAAA,KAAA,CAAA,CACfA,KAAA,OAAA,KAAA,IAAAA,EAAiB,SAAA,KAAa,EAAA,IAAMxG,IAAU,KAI5C1F,IAAI+L,IAAOI,GACXxM,IAAIqM,IAAMI;QAIhBxvB,IAASqkB,GACP;YAAC;YAAG;YAAG;YAAG;YAAGjB;YAAGL;SAAC,EACjBsB,GAAS2K,GAAQ;YAAC;YAAG;YAAG;YAAG;YAAG,CAAC5L;YAAG,CAACL;SAAE,IAIlCiM,EAAe,QAAA,IAAA,CAClBhvB,IAASqkB,GAAU2K,EAAe,QAAA,EAAUhvB,EAAM,GAIpDgvB,EAAO,MAAA,CAAO,GAAG,MAAMhvB;IACzB;IAEA,OAAO,CAAA,OAAA,EAAUA,EAAO,GAAA,CAAK5G,CAAAA,IAAMA,EAAE,OAAA,CAAQ,IAAI,IAAA,CAAK,KAAI,CAAA,CAC5D;AAAA;ADhIO,SAASq2B,GACd,EACE,MAAAN,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CAAAA,EACA,uBAAAuG,CACF,EAAA,EAOA7E,CAAAA;IAEA,IAAIwE,IAAS,IACTU,IAAU;IAEd,OAAIlF,EAAM,SAAA,IAAA,CACRwE,IAASr2B,GACP;QACE,MAAAw2B;QACA,KAAAC;QACA,OAAAvG;QACA,QAAAC;IACF,GACA0B,EAAM,SAAA,EACN6E,GACA7E,EAAM,eACR,CAAA,GAGEA,EAAM,OAAA,KAAY,KAAA,KAAA,CACpBkF,IAAU,CAAClF,EAAM,OAAA,GAGZ;QAAE,QAAAwE;QAAQ,SAAAU;IAAQ;AAC3B;AAEe,SAARC,GACL,EACE,IAAAtwB,CAAAA,EACA,SAAA5H,CAAAA,EACA,QAAAm4B,CAAAA,EACA,MAAAT,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CAAAA,EACA,QAAAkG,CAAAA,EACA,SAAAU,CAAAA,EACA,OAAApW,CAAAA,EACA,YAAAuW,CAAAA,EACA,OAAAC,CAAAA,EACA,OAAAC,CAAAA,EACA,iBAAAC,CACF,EAAA,EAgBAxF,CAAAA;IAEA,IAAIhoB,IAAQ;IAgBZ,IAfIstB,KAAAA,CACFttB,IAAQgjB,EAAe,QAAQ;QAC7B,GAAG2J;QACH,GAAGC,IAAMtG;QACT,OAAAD;QACA,QAAAC;QACA,MAAM;QACN,QAAQ;QACR,gBAAgB;QAChB,WAAWkG,KAAU,KAAA;QACrB,aAAaa,IAAa,CAAA,KAAA,EAAQA,EAAU,CAAA,CAAA,GAAM,KAAA;IACpD,EAAC,GAICvW,GAAO;QACT,IAAM2W,IAAa;YACjB,MAAM3W;YACN,GAAG6V;YACH,GAAGC;YACH,OAAAvG;YACA,QAAAC;YACA,WAAWkG,KAAU,KAAA;YACrB,aAAaa,IAAa,CAAA,KAAA,EAAQA,EAAU,CAAA,CAAA,GAAM,KAAA;YAClD,OAAOrF,EAAM,MAAA,GAAS,CAAA,OAAA,EAAUA,EAAM,MAAM,CAAA,CAAA,GAAK,KAAA;QACnD;QACA,OAAO;YAAA,CACJoF,IAAS,CAAA,EAAGA,EAAM,yBAAA,EAA4BvwB,EAAE,GAAA,CAAA,GAAQ,EAAA,IACvDmmB,EAAe,SAAS;gBACtB,GAAGyK,CAAAA;gBACH,SAASP,MAAY,IAAIA,IAAU,KAAA;YACrC,KAAC,CACAM,KAAmB,EAAA,IAAA,CACnBJ,IAAS,SAAS,EAAA,IACnBptB;YAEF;SAEJ;IAAA;IAGA,IAAMytB,IAAa;QACjB,GAAGd;QACH,GAAGC;QACH,OAAAvG;QACA,QAAAC;QACA,eAAe0B,EAAM,UAAA;QACrB,cAAcA,EAAM,SAAA;QACpB,aAAaA,EAAM,QAAA;QACnB,eAAeA,EAAM,UAAA;QACrB,kBAAkBA,EAAM,aAAA,IAAiB,KAAA;QACzC,WAAWwE,KAAU,KAAA;QACrB,aAAaa,IAAa,CAAA,KAAA,EAAQA,EAAU,CAAA,CAAA,GAAM,KAAA;QAClD,OAAOrF,EAAM,MAAA,GAAS,CAAA,OAAA,EAAUA,EAAM,MAAM,CAAA,CAAA,GAAK,KAAA;IACnD;IACA,OAAO;QAAA,CACJoF,IAAS,CAAA,EAAGA,EAAM,yBAAA,EAA4BvwB,EAAE,GAAA,CAAA,GAAQ,EAAA,IACvDmmB,EACE,QACA;YACE,GAAGyK,CAAAA;YACH,MAAMzF,EAAM,KAAA;YACZ,SAASkF,MAAY,IAAIA,IAAU,KAAA;QACrC,GACAQ,CAAAA,GAAAA,yIAAAA,CAAAA,UAAAA,EAAWz4B,MACb,CACCu4B,KAAmB,EAAA,IAAA,CACnBJ,IAAS,SAAS,EAAA,IACnBptB;QACFutB,IAAQvK,EAAe,QAAQyK,GAAYC,CAAAA,GAAAA,yIAAAA,CAAAA,UAAAA,EAAWz4B,MAAY;KAEtE;AAAA;AEjJA,SAAS04B,GAAU15B,CAAAA,EAAc25B,CAAAA,EAAYC,CAAAA;IAC3C,OAAO55B,EAAK,OAAA,CACV,gCACA,SAAU+e,CAAAA,EAAG8a,CAAAA,EAASlN,CAAAA,EAAGL,CAAAA;QACvB,OAAOuN,IAAAA,CAAW,WAAWlN,KAAKgN,CAAAA,IAAM,MAAA,CAAO,WAAWrN,KAAKsN,CAAAA;IACjE;AAEJ;AASA,IAAME,KAAQ;AAEP,SAASC,GACd,EAAE,IAAAnxB,CAAAA,EAAI,OAAAwpB,CAAAA,EAAO,QAAAC,CAAO,EAAA,EACpB0B,CAAAA;IASA,IACE,CAACA,EAAM,WAAA,IACP,CAACA,EAAM,YAAA,IACP,OAAOA,EAAM,YAAA,GAAiB,KAE9B,OAAO;IAGT,IAAMiG,IAAcjG,EAAM,WAAA,CAAY,MAAA,EAClCkG,IAAU,IACV/uB,IAAQ,IAIRwtB,IAAO,GACPwB,IAAQ9H,GACRuG,IAAM,GACNwB,IAAS9H;IACb,IAAA,IAAS3uB,IAAI,GAAGA,IAAIs2B,GAAat2B,IAAK;QAEpC,IAAM02B,IAAQrG,EAAM,YAAA,CAAarwB,EAAC,GAAIqwB,EAAM,YAAA,CAAarwB,EAAC,GAAK;QAC/Dg1B,IAAO,KAAK,GAAA,CAAI3E,EAAM,YAAA,CAAarwB,EAAC,CAAE,KAAA,GAAQ02B,GAAM1B,IACpDwB,IAAQ,KAAK,GAAA,CAAInG,EAAM,YAAA,CAAarwB,EAAC,CAAE,KAAA,GAAQ02B,IAAOhI,GAAO8H,IAC7DvB,IAAM,KAAK,GAAA,CAAI5E,EAAM,YAAA,CAAarwB,EAAC,CAAE,MAAA,GAAS02B,GAAMzB,IACpDwB,IAAS,KAAK,GAAA,CAAIpG,EAAM,YAAA,CAAarwB,EAAC,CAAE,MAAA,GAAS02B,IAAO/H,GAAQ8H,IAEhEF,KAAWlL,EAAe,gBAAgB;YACxC,IAAIgF,EAAM,YAAA,CAAarwB,EAAC,CAAE,KAAA;YAC1B,IAAIqwB,EAAM,YAAA,CAAarwB,EAAC,CAAE,MAAA;YAC1B,cAMEqwB,EAAM,YAAA,CAAarwB,EAAC,GAAI;YAC1B,eAAeqwB,EAAM,WAAA,CAAYrwB,EAAC;YAClC,iBAAiB;YACjB,GAAIs2B,IAAc,IACd;gBACE,IAAI;gBACJ,QAAQ,CAAA,SAAA,EAAYpxB,EAAE,QAAA,EAAWlF,EAAC,CACpC;YAAA,IACA,CAAC,CACP;QAAA,IAEIs2B,IAAc,KAAA,CAEhB9uB,IACE6jB,EAAe,eAAe;YAC5B,IAAI,CAAA,SAAA,EAAYnmB,EAAE,QAAA,EAAWlF,EAAC,CAChC;QAAA,KAAKwH,CAAAA;IAEX;IAEA,OAAO6jB,EACL,UACA;QACE,IAAI,CAAA,SAAA,EAAYnmB,EAAE,CAAA;QAClB,GAAA,CAAK8vB,IAAOtG,IAAS,MAAM0H,EAAAA,EAAO,OAAA,CAAQ,KAAK;QAC/C,GAAA,CAAKnB,IAAMtG,IAAU,MAAMyH,EAAAA,EAAO,OAAA,CAAQ,KAAK;QAC/C,OAAA,CAAA,CAAUI,IAAQxB,CAAAA,IAAQtG,IAAS,MAAM0H,EAAAA,EAAO,OAAA,CAAQ,KAAK;QAC7D,QAAA,CAAA,CAAWK,IAASxB,CAAAA,IAAOtG,IAAU,MAAMyH,EAAAA,EAAO,OAAA,CAAQ,KAAK;IACjE,GACAG,IAAAA,CAAW/uB,IAAQ6jB,EAAe,WAAW,CAAC,GAAG7jB,KAAS,EAAA;AAE9D;AAEO,SAASmvB,GACd,EACE,OAAAjI,CAAAA,EACA,QAAAC,CAAAA,EACA,OAAAiH,CAAAA,EACA,SAAAL,CAAAA,EACA,IAAArwB,CACF,EAAA,EAOAmrB,CAAAA;IAEA,IAAI,CAACA,EAAM,SAAA,EAAW,OAAO;IAE7B,IAAI5R,IAAS,IACTmY,IAAc;IAElB,IAAA,IAAS52B,IAAIqwB,EAAM,SAAA,CAAU,MAAA,GAAS,GAAGrwB,KAAK,GAAGA,IAAK;QACpD,IAAIY,IAAI,IAEFi2B,IAAcxG,EAAM,SAAA,CAAUrwB,EAAC;QAEjC62B,EAAY,YAAA,IAAgBA,EAAY,KAAA,IAAA,CAC1CA,EAAY,YAAA,GAAe,CAACA,EAAY,YAAA;QAI1C,IAAMH,IACHG,EAAY,UAAA,GAAaA,EAAY,UAAA,GAAc,IAAA,CACnDA,EAAY,YAAA,IAAgB,CAAA,GAEzB7B,IAAO,KAAK,GAAA,CAChB,CAAC0B,IAAAA,CAAQG,EAAY,KAAA,GAAQA,EAAY,OAAA,GAAU,CAAA,GACnD,IAEIL,IAAQ,KAAK,GAAA,CACjBE,IAAOhI,IAAAA,CAASmI,EAAY,KAAA,GAAQA,EAAY,OAAA,GAAU,CAAA,GAC1DnI,IAEIuG,IAAM,KAAK,GAAA,CACf,CAACyB,IAAAA,CAAQG,EAAY,KAAA,GAAQA,EAAY,OAAA,GAAU,CAAA,GACnD,IAEIJ,IAAS,KAAK,GAAA,CAClBC,IAAO/H,IAAAA,CAAUkI,EAAY,KAAA,GAAQA,EAAY,OAAA,GAAU,CAAA,GAC3DlI,IAGImI,IAAM,CAAA,SAAA,EAAY5xB,EAAE,CAAA,EAAIlF,EAAC,CAAA,EACzB+2B,IAAS,CAAA,UAAA,EAAa7xB,EAAE,CAAA,EAAIlF,EAAC,CAAA,EAC7Bg3B,IAAkBH,EAAY,YAAA,GAChCjB,EAAM,OAAA,CACJ,oBACA,CAAA,cAAA,EAAiBiB,EAAY,YAAA,GAAe,EAAC,CAAA,CAC/C,IACAjB;QAEJh1B,KAAKyqB,EACH,QACA;YACE,IAAI0L;YACJ,WAAW;QACb,GACA1L,EAAe,QAAQ;YACrB,GAAG;YACH,GAAG;YACH,OAAOgF,EAAM,cAAA,IAAkB;YAC/B,QAAQA,EAAM,eAAA,IAAmB;YACjC,MAAMwG,EAAY,KAAA,GAAQ,SAAS;QACrC,KACEG,EACG,OAAA,CACC,eACAH,EAAY,KAAA,GAAQ,gBAAgB,eAErC,OAAA,CAAQ,iBAAiB;QAGhC,IAAII,IAAaD,EACd,OAAA,CAAQ,eAAe,CAAC3b,GAAG/e,IAExB,QACA05B,GAAU15B,GAAMu6B,EAAY,OAAA,EAASA,EAAY,OAAO,IACxD,KAGH,OAAA,CAAQ,eAAe,CAACxb,GAAG,IACnB,QAAA,CAAS,WAAW,KAAKwb,EAAY,OAAA,IAAW,KAExD,OAAA,CAAQ,eAAe,CAACxb,GAAGuN,IACnB,QAAA,CAAS,WAAWA,KAAKiO,EAAY,OAAA,IAAW;QAIvDA,EAAY,YAAA,IAAgBA,EAAY,YAAA,GAAe,KAAA,CACzDj2B,KAAKyqB,EACH,QACA;YACE,IAAI0L,IAAS;YACb,WAAW;QACb,GACAE,EACG,OAAA,CAAQ,iBAAiB,iBACzB,OAAA,CACC,wBACA,CAAA,cAAA,EAAiB,CAACJ,EAAY,YAAA,GAAe,EAAC,CAAA,CAChD,EACJ,GAGEA,EAAY,YAAA,IAAgBA,EAAY,YAAA,GAAe,KAAA,CACzDI,IAAa5L,EACX,KACA;YACE,MAAM,CAAA,KAAA,EAAQ0L,EAAM,KAAA,CACtB;QAAA,GACAE,EACF,GAGFr2B,KACEyqB,EACE,QACA,CAAC,GACDA,EACE,UACA;YACE,IAAIyL;YACJ,GAAG,CAAA,EAAI9B,IAAOtG,IAAS,IAAG,CAAA,CAAA;YAC1B,GAAG,CAAA,EAAIuG,IAAMtG,IAAU,IAAG,CAAA,CAAA;YAC1B,OAAO,CAAA,EAAA,CAAK6H,IAAQxB,CAAAA,IAAQtG,IAAS,IAAG,CAAA,CAAA;YACxC,QAAQ,CAAA,EAAA,CAAK+H,IAASxB,CAAAA,IAAOtG,IAAU,IAAG,CAAA,CAC5C;QAAA,GACAtD,EAAe,kBAAkB;YAM/B,cAAcwL,EAAY,UAAA,GAAa;YACvC,QAAQ;QACV,KACExL,EAAe,WAAW;YACxB,eAAewL,EAAY,KAAA;YAC3B,IAAI;YACJ,QAAQ;QACV,KACAxL,EAAe,eAAe;YAC5B,IAAI;YACJ,KAAK;YACL,UAAUwL,EAAY,KAAA,GAAQ,QAAQ;QACxC,OAGNxL,EACE,KACA;YACE,MAAM,CAAA,KAAA,EAAQ0L,EAAM,CAAA,CAAA;YACpB,QAAQ,CAAA,KAAA,EAAQD,EAAG,CAAA,CAAA;YACnB,SAASvB;QACX,GACA0B,IAGAJ,EAAY,KAAA,GACdD,KAAeh2B,IAEf6d,KAAU7d;IAEd;IAEA,OAAO;QAAC6d;QAAQmY;KAClB;AAAA;ACrRe,SAARM,GACL,EACE,OAAAxI,CAAAA,EACA,MAAAsG,CAAAA,EACA,KAAAC,CAAAA,EACA,UAAAkC,CAAAA,EACA,YAAAzB,CACF,EAAA,EAOArF,CAAAA;IAEA,IAAM,EACJ,qBAAA+G,CAAAA,EACA,qBAAAC,CAAAA,EACA,oBAAAC,CAAAA,EACA,UAAAC,CAAAA,EACA,OAAA9b,CACF,EAAA,GAAI4U;IACJ,IAAI,CAACiH,KAAsBA,MAAuB,QAAQ,OAAO;IAIjE,IAAM3I,IAAS,KAAK,GAAA,CAAI,GAAG4I,IAAW,KAEhC3O,IACJ0O,MAAuB,iBACnBrC,IAAMkC,IAAW,KACjBG,MAAuB,cACvBrC,IAAMkC,IAAW,MACjBlC,GAEAuC,IACJH,MAAwB,WACpB,CAAA,EAAG1I,IAAS,IAAG,CAAA,EAAIA,IAAS,EAAC,CAAA,GAC7B0I,MAAwB,WACxB,CAAA,EAAA,EAAK1I,IAAS,EAAC,CAAA,GACf,KAAA;IAEN,OAAOtD,EAAe,QAAQ;QAC5B,IAAI2J;QACJ,IAAIpM;QACJ,IAAIoM,IAAOtG;QACX,IAAI9F;QACJ,QAAQwO,KAAuB3b;QAC/B,gBAAgBkT;QAChB,oBAAoB6I;QACpB,kBAAkBH,MAAwB,WAAW,UAAU;QAC/D,aAAa3B,IAAa,CAAA,KAAA,EAAQA,EAAU,CAAA,CAAA,GAAM,KAAA;IACpD;AACF;ACxDO,SAAS+B,GAAeh4B,CAAAA;IAC7B,OAAAA,IAAOA,EAAK,OAAA,CAAQ,MAAM,OAEnB,OAAO,aAAA,CAAc,OAAOA;AACrC;AAEO,IAAMi4B,KAAQD,GAAe,WACvBE,KAAMF,GAAe,WACrBG,KAAqBH,GAAe;ACL1C,SAASI,GACdC,CAAAA,EACAC,CAAAA,EACA1H,CAAAA;IASA,IAAM,EAAE,UAAAkH,CAAAA,EAAU,eAAAS,CAAc,EAAA,GAAI3H,GAE9BrzB,IAAQ,IAAI;IAElB,SAASi7B,EAAgBC,CAAAA;QACvB,IAAIl7B,EAAM,GAAA,CAAIk7B,IACZ,OAAOl7B,EAAM,GAAA,CAAIk7B;QAGnB,IAAMxJ,IAAQoJ,EAAO,OAAA,CAAQI,GAAU;YAAE,UAAAX;YAAU,eAAAS;QAAc;QACjE,OAAAh7B,EAAM,GAAA,CAAIk7B,GAAUxJ,IAEbA;IACT;IAEA,SAASyJ,EAAqBC,CAAAA;QAC5B,IAAI1J,IAAQ;QAEZ,KAAA,IAAWwJ,KAAYE,EACjBL,EAAQG,KACVxJ,KAAS6I,IAET7I,KAASuJ,EAAgBC;QAI7B,OAAOxJ;IACT;IAEA,SAAS2J,EAAYC,CAAAA;QACnB,OAAOH,EAAqBrN,GAAQwN,GAAM;IAC5C;IAEA,OAAO;QACL,iBAAAL;QACA,sBAAAE;QACA,aAAAE;IACF;AACF;AChDO,SAASjF,GACd91B,CAAAA,EACA+yB,CAAAA,EACArF,CAAAA;IAWA,IAAM,EAAE,eAAAuN,CAAAA,EAAe,YAAAC,CAAAA,EAAY,WAAAlM,CAAU,EAAA,GAAI+D;IAEjD/yB,IAAUm7B,GAAqBn7B,GAASi7B,GAAevN;IAEvD,IAAM,EACJ,SAAS0N,CAAAA,EACT,6BAAAC,CAAAA,EACA,eAAAC,CACF,EAAA,GAAIC,GAAkBv7B,GAASk7B,IAEzB,EAAE,OAAA9L,CAAAA,EAAO,gBAAAC,CAAAA,EAAgB,gBAAAmM,CAAe,EAAA,GAAIC,GAChDL,GACApM,IAGI,CAAC0M,GAAWC,EAAa,GAAIC,GAAoB7I,GAAOuI;IAE9D,OAAO;QACL,OAAAlM;QACA,gBAAAC;QACA,eAAAiM;QACA,gBAAAE;QACA,kBAAAJ;QACA,6BAAAC;QACA,WAAAK;QACA,eAAAC;IACF;AACF;AAEA,SAASR,GACPn7B,CAAAA,EACAi7B,CAAAA,EACAvN,CAAAA;IAEA,OAAIuN,MAAkB,cACpBj7B,IAAUA,EAAQ,iBAAA,CAAkB0tB,KAC3BuN,MAAkB,cAC3Bj7B,IAAUA,EAAQ,iBAAA,CAAkB0tB,KAC3BuN,MAAkB,gBAAA,CAC3Bj7B,IAAUwtB,GAAQxtB,GAAS,QAAQ0tB,GAEhC,GAAA,CAAKnc,CAAAA,IAEGic,GAAQjc,GAAM,YAAYmc,GAC9B,GAAA,CAAI,CAACkN,GAAU71B,IAEPA,MAAU,IAAI61B,EAAS,iBAAA,CAAkBlN,KAAUkN,GAE3D,IAAA,CAAK,KAET,IAAA,CAAK,GAAE,GAGL56B;AACT;AAEA,SAAS47B,GACP7I,CAAAA,EACAuI,CAAAA;IAEA,IAAM,EACJ,cAAAO,CAAAA,EACA,WAAAC,CAAAA,EACA,iBAAAC,CAAAA,EACA,iBAAAC,CAAAA,EACA,UAAAC,CAAAA,EACA,SAAAC,CACF,EAAA,GAAInJ;IAEJ,IAAImJ,MAAY,WAAWJ,GAAW;QACpC,IAAM,CAACJ,GAAWC,IAAgBrB,EAAkB,CAAA,GAClD6B,GAAeL;QACjB,IAAIJ,GACF,OAAO;YAACA;YAAWC;SAEvB;IAAA;IAEA,OACEE,MAAiB,cACjBK,MAAY,iBACZF,MAAoB,cACpBnN,GAASkN,MACTA,IAAkB,IAEX;QAACA;QAAiBzB;KAAkB,GAGzCuB,MAAiB,cAAcI,MAAa,YAAY,CAACX,IACpD;QAAC;QAAGhB;KAAkB,GAGxB;QAAC,IAAA;KACV;AAAA;AAEA,SAASmB,GACPz7B,CAAAA,EACAgvB,CAAAA;IAEA,IAAMwM,IAAiB;QAAC;QAAa;KAAY,CAAE,QAAA,CAASxM,IAEtD,EAAE,OAAAI,CAAAA,EAAO,gBAAAC,CAAe,EAAA,GAAIN,GAChC/uB,GACAgvB;IAGF,OAAO;QAAE,OAAAI;QAAO,gBAAAC;QAAgB,gBAAAmM;IAAe;AACjD;AAEA,SAASD,GACPv7B,CAAAA,EACAk7B,CAAAA;IAMA,IAAMkB,IAAsB;QAAC;QAAO;QAAY;KAAU,CAAE,QAAA,CAC1DlB,IAGIG,IAA8B;QAAC;QAAU;QAAU;KAAU,CAAE,QAAA,CACnEH,IAGII,IAAgB,CAAC;QAAC;QAAO;KAAQ,CAAE,QAAA,CAASJ;IAElD,OAAKkB,KAAAA,CACHp8B,IAAUA,EAAQ,OAAA,CAAQ,OAAOo6B,GAAK,GAGpCiB,KAAAA,CACFr7B,IAAUA,EAAQ,OAAA,CAAQ,cAAco6B,IAAO,IAAA,EAAK,GAG/C;QAAE,SAAAp6B;QAAS,6BAAAq7B;QAA6B,eAAAC;IAAc;AAC/D;AAEA,SAASa,GAAe3pB,CAAAA;IACtB,IAAI,OAAOA,KAAU,UAAU,OAAO;QAACA;KAAK;IAE5C,IAAM6pB,IAAS,oBACTC,IAAS,oBACTC,IAASF,EAAO,IAAA,CAAK7pB,IACrBgqB,IAASF,EAAO,IAAA,CAAK9pB;IAE3B,IAAI+pB,GAAQ;QACV,IAAM7a,IAAS,CAAC6a,CAAAA,CAAO,EAAC,EAClBvB,IAAOuB,CAAAA,CAAO,EAAC;QAErB,OAAO;YAAC7a;YAAQsZ;SAClB;IAAA,OAAA,IAAWwB,GAAQ;QACjB,IAAM9a,IAAS,CAAC8a,CAAAA,CAAO,EAAC,EAClBxB,IAAOwB,CAAAA,CAAO,EAAC;QAErB,OAAO;YAAC9a;YAAQsZ;SAClB;IAAA;IAEA,OAAO,EACT;AAAA;ACzJA,IAAMyB,KAAoC,IAAI,IAAI;IAACpC;CAAI;AAEvD,SAASqC,GAAiCnrB,CAAAA;IACxC,OAAOkrB,GAAkC,GAAA,CAAIlrB;AAC/C;AAEA,gBAAOorB,GACL38B,CAAAA,EACA48B,CAAAA;IAEA,IAAMhG,IAAO,MAAM9L,MAEb,EACJ,aAAA+R,CAAAA,EACA,gBAAAlQ,CAAAA,EACA,QAAAnoB,CAAAA,EACA,MAAAs4B,CAAAA,EACA,IAAAl1B,CAAAA,EACA,uBAAAgwB,CAAAA,EACA,OAAAS,CAAAA,EACA,WAAA0E,CAAAA,EACA,gBAAAC,CAAAA,EACA,QAAAtP,CAAAA,EACA,yBAAAuP,CACF,EAAA,GAAIL,GAEE,EACJ,WAAAM,CAAAA,EACA,YAAAC,CAAAA,EACA,UAAAC,CAAAA,EACA,UAAAnD,CAAAA,EACA,QAAQoD,CAAAA,EACR,SAAAC,IAAU,CAAA,EACV,eAAA5C,CAAAA,EACA,kCAAA6C,CAAAA,EACA,YAAAC,CACF,EAAA,GAAIX,GAEE,EACJ,OAAAzN,CAAAA,EACA,gBAAAC,CAAAA,EACA,eAAAiM,CAAAA,EACA,gBAAAE,EAAAA,EACA,kBAAAJ,EAAAA,EACA,6BAAAC,EAAAA,EACA,WAAAK,CAAAA,EACA,eAAAC,CACF,EAAA,GAAI7F,GAAW91B,GAAS68B,GAAanP,IAE/B+P,IAAgBC,GAAwB9G,GAAMsG;IACpD14B,EAAO,WAAA,CAAYi5B,GAAej5B,EAAO,aAAA,KAErCsqB,GAAY0O,MACdh5B,EAAO,aAAA,CAAc;IAKvB,IAAIg2B,IAASsC,EAAK,SAAA,CAAU7C,GAAUkD,GAAYN,GAAanP,IAGzDiQ,KAAmBV,IACrBzP,GAAQ4N,IAAkB,YAAY,MAAA,CACnC7pB,CAAAA,IAAS,CAACmrB,GAAiCnrB,MAAS,CAACipB,EAAO,GAAA,CAAIjpB,MAEnE,EAAC;IAEL,MAAMosB,GAAiB,GAAA,CAAKpsB,CAAAA,IAAAA,CACnB;YACL,MAAAA;YACA,QAAAmc;QACF,CAAA,IAGEiQ,GAAiB,MAAA,IAAA,CAEnBnD,IAASsC,EAAK,SAAA,CAAU7C,GAAUkD,GAAYN,GAAanP,EAAM;IAGnE,SAAS+M,GAAQn3B,CAAAA;QACf,OAAO,CAAC,CAAA,CAAE05B,KAAkBA,CAAAA,CAAe15B,EAAC;IAC9C;IAEA,IAAM,EAAE,iBAAAq3B,EAAAA,EAAiB,sBAAAE,EAAAA,EAAsB,aAAAE,CAAY,EAAA,GAAIR,GAC7DC,GACAC,IACA;QACE,UAAAR;QACA,eAAAS;IACF,IAGIkD,IAAWzhB,GAASmhB,KACtB9Q,EAAe8Q,GAASrD,GAAU,GAAG4C,KACrClC,GAAgBP,MAASkD,GAEvBO,IAAO,CACX7C,GACA8C;QAMA,IAAI9C,EAAK,MAAA,KAAW,GAClB,OAAO;YACL,aAAa;YACb,mBAAmB;YACnB,MAAAA;QACF;QAGF,IAAM,EAAE,OAAAj2B,EAAAA,EAAO,UAAAg5B,CAAS,EAAA,GAAIC,GAAWhD,IAEnCiD,KAAc;QAElB,IAAIF,IAAW,GAAG;YAChB,IAAMG,KAAgBlD,EAAK,KAAA,CAAM,GAAGj2B,KAC9Bo5B,KAAenD,EAAK,KAAA,CAAMj2B,KAAQg5B,IAClCK,IAAqBrD,EAAYmD,KACjCG,KAAkBD,IAAqBN;YAK7CG,KAAAA,CAHEL,MAAa,IACTQ,IAAAA,CACC,KAAK,KAAA,CAAMC,KAAkBT,KAAYG,CAAAA,IAAYH,CAAAA,IAC5B7C,EAAYoD;QAC9C,OACEF,KAAclD,EAAYC;QAG5B,IAAMsD,IACJtD,EAAK,OAAA,OAAcA,IAAOiD,KAAclD,EAAYC,EAAK,OAAA;QAE3D,OAAO;YACL,aAAAiD;YACA,mBAAmBA,KAAcK;YACjC,MAAAtD;QACF;IACF,GAIIrY,IAAa,EAAC,EACd4b,KAAY,EAAC,EACbC,KAAoB,EAAC,EACrBC,KAAkB,EAAC,EACnBC,KAOG,EAAC;IAGR,SAASC,GAAKvN,CAAAA;QACZ,IAAIne,IAAQ,GACR2rB,KAAW,GACXC,IAAY,CAAA,GACZxN,KAAS,GACTyM,IAAe,GACfgB,KAAoB,GACpBC,KAAwB;QAE5Bpc,IAAa,EAAC,EACd6b,KAAoB;YAAC;SAAC,EACtBC,KAAQ,EAAC,EACTC,KAAuB,EAAC;QAKxB,IAAIh8B,IAAI,GACJs8B,KAA4B;QAChC,MAAOt8B,IAAI0sB,EAAM,MAAA,IAAUnc,IAAQyoB,GAAW;YAC5C,IAAInqB,IAAO6d,CAAAA,CAAM1sB,EAAC,EACZu8B,KAAa5P,CAAAA,CAAe3sB,EAAC,EAE/ByoB,KAAI,GAEF,EACJ,aAAA8S,EAAAA,EACA,mBAAAiB,EAAAA,EACA,MAAMC,EACR,EAAA,GAAItB,EAAKtsB,GAAMusB;YACfvsB,IAAO4tB,IAEPhU,KAAI8S;YACJ,IAAMmB,IAAwBF;YAI1BD,MAAcH,OAAsB,KAAA,CACtCA,KAAoBtE,EAAO,MAAA,CAAOjpB,EAAI;YAGxC,IAAM8tB,KAA0B,gBAAgB,OAAA,CAAQ9tB,CAAAA,CAAK,EAAE,IAAI,GAC7D+tB,KAAmB,CAACxB,GAEpByB,KACJ78B,KACA28B,MASAvB,IAAe3S,KAAIiG,IAAQgO,KAC3B9D;YASF,IAFEE,MAAkBrQ,KAAIiG,KAAAA,CAAU,CAAC0M,KAAgByB,MAAYN,EAAAA,GAE1C;gBAEnB,IAAMvM,KAAQlF,GAAQjc,GAAM;gBAC5B6d,EAAM,MAAA,CAAO1sB,GAAG,MAAMgwB,KAClBoL,IAAe,KAAA,CAEjBnb,EAAW,IAAA,CAAKmb,IAAekB,KAC/BT,GAAU,IAAA,CAAKQ,KACf9rB,KACAoe,MAAUyN,IACVhB,IAAe,GACfgB,KAAoB,GACpBC,KAAwB,GACxBP,GAAkB,IAAA,CAAK,IACvBK,IAAY,CAAA,CAAA,GAEdG,KAA4BI;gBAC5B;YACF;YACA,IAAIH,MAAcM,IAGZlE,MAA+B9pB,MAAS6oB,MAAAA,CAC1CjP,KAAI,CAAA,GAGNxI,EAAW,IAAA,CAAKmb,IAAekB,KAC/BT,GAAU,IAAA,CAAKQ,KACf9rB,KACAoe,MAAUyN,IACVhB,IAAe3S,IACf2T,KAAoB3T,KAAIqP,EAAO,MAAA,CAAOjpB,KAAQ,GAC9CwtB,KAAwB5T,KAAIqP,EAAO,QAAA,CAASjpB,KAAQ,GACpDitB,GAAkB,IAAA,CAAK,IACvBK,IAAY,CAAA,GAKPI,MAAAA,CACHL,KAAW,KAAK,GAAA,CAAIA,IAAUxN,EAAK;iBAEhC;gBAEL0M,KAAgB3S;gBAChB,IAAMqU,KAAchF,EAAO,MAAA,CAAOjpB;gBAC9BiuB,KAAcV,MAAAA,CAEhBA,KAAoBU,IACpBT,KAAwBvE,EAAO,QAAA,CAASjpB,EAAI,GAE1C+tB,MACFd,EAAAA,CAAkBA,GAAkB,MAAA,GAAS,EAAC;YAElD;YAEIc,MACFT,KAGFD,KAAW,KAAK,GAAA,CAAIA,IAAUd;YAE9B,IAAInS,KAAImS,IAAe3S;YAEvB,IAAIA,OAAM,GACRuT,GAAqB,IAAA,CAAK;gBACxB,GAAGrN;gBACH,GAAA1F;gBACA,OAAO;gBACP,MAAM1Y;gBACN,WAAA4rB;gBACA,SAAS,CAAA;YACX;iBACK;gBACL,IAAMY,KAASjS,GAAQjc,GAAM;gBAE7B,IAAA,IAAS5M,KAAI,GAAGA,KAAI86B,GAAO,MAAA,EAAQ96B,KAAK;oBACtC,IAAM+6B,KAAQD,EAAAA,CAAO96B,GAAC,EAClBg7B,KAAS,GACTC,KAAW,CAAA;oBAEXnF,GAAQiF,MAAK,CACfC,KAAS1F,GACT2F,KAAW,CAAA,CAAA,IAEXD,KAAShF,GAAgB+E,KAG3BjB,GAAM,IAAA,CAAKiB,KACXhB,GAAqB,IAAA,CAAK;wBACxB,GAAGrN;wBACH,GAAA1F;wBACA,OAAOgU;wBACP,MAAM1sB;wBACN,WAAA4rB;wBACA,SAASe;oBACX,IAEAjU,MAAKgU;gBACP;YACF;YAEAj9B,KACAs8B,KAA4BI;QAC9B;QAEA,OAAItB,KAAAA,CACE7qB,IAAQyoB,KAAAA,CACVrK,MAAUyN,EAAAA,GAEZ7rB,KACA0P,EAAW,IAAA,CAAKmb,IAChBS,GAAU,IAAA,CAAKQ,GAAqB,GAI/B;YAAE,OAAOH;YAAU,QAAAvN;QAAO;IACnC;IAKA,IAAIwO,KAAmB;QAAE,OAAO;QAAG,QAAQ;IAAE;IAC7CpC,EAAc,cAAA,CAAgBqC,CAAAA;QAC5B,IAAM,EAAE,OAAA1O,CAAAA,EAAO,QAAAC,EAAO,EAAA,GAAIsN,GAAKmB;QAK/B,IAAI1C,MAAa,WAAW;YAC1B,IAAI3R,KAAI2F,IAAQ,GACZpT,IAAIoT,GACJ/jB,KAAY+jB;YAChB,MAAO3F,KAAI,IAAIzN,GAAG;gBAChB3Q,KAAAA,CAAKoe,KAAIzN,CAAAA,IAAK;gBACd,IAAM,EAAE,QAAQ+hB,CAAQ,EAAA,GAAIpB,GAAKtxB;gBAC7B0yB,IAAU1O,KACZ5F,KAAIpe,KAEJ2Q,IAAI3Q;YAER;YACAsxB,GAAK3gB;YACL,IAAM2hB,KAAS,KAAK,IAAA,CAAK3hB;YACzB,OAAA6hB,KAAmB;gBAAE,OAAOF;gBAAQ,QAAAtO;YAAO,GACpC;gBAAE,OAAOsO;gBAAQ,QAAAtO;YAAO;QACjC;QACA,IAAMsO,IAAS,KAAK,IAAA,CAAKvO;QACzB,OAAAyO,KAAmB;YAAE,OAAOF;YAAQ,QAAAtO;QAAO,GAMpC;YAAE,OAAOsO;YAAQ,QAAAtO;QAAO;IACjC;IAEA,IAAM,CAAC1F,IAAGL,GAAC,GAAI,OAEX/iB,KAAS,IACTy3B,KAAoB,IAElB5H,KAAazL,EAAe,oBAAA,EAC5BsT,KAAiBtT,EAAe,gBAAA,EAEhC,EACJ,MAAMuT,EAAAA,EACN,KAAKC,EAAAA,EACL,OAAOL,EAAAA,EACP,QAAQM,EACV,EAAA,GAAI3C,EAAc,iBAAA,IAEZ4C,KACJ77B,EAAO,gBAAA,KACPA,EAAO,kBAAA,CAAmBoyB,EAAK,SAAS,IACxCpyB,EAAO,kBAAA,CAAmBoyB,EAAK,UAAU,IACzCpyB,EAAO,iBAAA,CAAkBoyB,EAAK,SAAS,IACvCpyB,EAAO,iBAAA,CAAkBoyB,EAAK,UAAU,GAGpCc,KAAO/L,KAAIuU,IACXvI,KAAMrM,KAAI6U,IAEV,EAAE,QAAA5I,EAAAA,EAAQ,SAAAU,EAAQ,EAAA,GAAID,GAC1B;QACE,MAAMkI;QACN,KAAKC;QACL,OAAOL;QACP,QAAQM;QACR,uBAAAxI;IACF,GACAiF,IAGE1E,KAAS;IACb,IAAI0E,EAAY,gBAAA,EAAkB;QAChC,IAAM,EAAE,iBAAAyD,CAAAA,EAAiB,kBAAAjK,CAAAA,EAAkB,kBAAAD,EAAiB,EAAA,GAAIyG;QAEhE1E,KAASY,GACP;YACE,OAAO8G,GAAiB,KAAA;YACxB,QAAQA,GAAiB,MAAA;YACzB,IAAAj4B;QACF,GACA;YACE,aAAa04B;YACb,cAAcjK;YACd,cAAcD;QAChB,IAGF+B,KAASpK,EAAe,QAAQ,CAAC,GAAGoK;IACtC;IAEA,IAAII,KAAkB,IAClBgI,KAAa,IACbx1B,KAAQ,IACRy1B,KAAc,CAAA,GACdC,KAAmD,CAAC,GACpDC,KAA4B,MAC5BC,KAAiB;IAErB,IAAA,IAASj+B,IAAI,GAAGA,IAAI+7B,GAAM,MAAA,EAAQ/7B,IAAK;QAErC,IAAMk+B,IAASlC,EAAAA,CAAqBh8B,EAAC,EAC/Bm+B,KAAanC,EAAAA,CAAqBh8B,IAAI,EAAC;QAE7C,IAAI,CAACk+B,GAAQ;QAEb,IAAI5F,IAAOyD,EAAAA,CAAM/7B,EAAC,EACd1D,KAAsB,MACtB8hC,IAAgC,CAAA,GAE9Bjf,KAAQmb,IAAiBA,CAAAA,CAAehC,EAAI,GAAI,MAElD+F,KAAYH,EAAO,CAAA,EACnBI,IAAaJ,EAAO,CAAA,EAClBxP,KAAQwP,EAAO,KAAA,EACfv7B,IAAOu7B,EAAO,IAAA;QAEpB,IAAIv7B,MAASm7B,IACX;QAIF,IAAIS,KAAgB,CAAA;QAEpB,IAAIte,EAAW,MAAA,GAAS,GAAG;YAGzB,IAAMue,IAAiBpB,KAAiBnd,CAAAA,CAAWtd,EAAI;YACvD,IAAI63B,MAAc,WAAWA,MAAc,OACzC8D,KAAcE;iBAAAA,IACLhE,MAAc,UACvB8D,KAAcE,IAAiB;iBAAA,IACtBhE,MAAc,aAEnB73B,IAAOsd,EAAW,MAAA,GAAS,GAAG;gBAChC,IAAMwe,KAAW3C,EAAAA,CAAkBn5B,EAAI,EACjC+7B,KAASD,KAAW,IAAID,IAAAA,CAAkBC,KAAW,CAAA,IAAK;gBAChEH,KAAcI,KAASR,EAAO,SAAA,EAC9BK,KAAgB,CAAA;YAClB;QAEJ;QAEA,IAAMI,KAAiB9C,EAAAA,CAAUl5B,EAAI,EAC/Bi8B,KAAiB9G,EAAO,QAAA,CAASQ,IACjCuG,KAAe/G,EAAO,MAAA,CAAOQ,IAC7BwG,KAAgBH,KAAiBC;QAWvC,IATKb,EAAAA,CAAgBp7B,EAAI,IAAA,CACvBo7B,EAAAA,CAAgBp7B,EAAI,GAAI;YACtB27B;YACArJ,KAAMoJ,KAAYS;YAClBF;YACAL,KAAgBnB,KAAiBnd,CAAAA,CAAWtd,EAC9C;SAAA,GAGEq2B,MAAc,IAAA,GAAU;YAW1B,IAAS+F,KAAT,SAAsBC,EAAAA,EAAmBhC,EAAAA;gBACvC,IAAMhN,KAAQlF,GAAQkS,IAAO,YAAYhS,IAErCiU,KAAS,IACTC,KAAgB;gBAEpB,KAAA,IAAWC,MAAQnP,GAAO;oBACxB,IAAMvH,KAAIuW,KAAY7G,GAAqB;wBAAC8G,KAASE;qBAAK;oBAC1D,IAKEF,MACAxW,KAAI2W,KAAgBzB,IAEpB;oBAEFsB,MAAUE,IACVD,KAAgBzW;gBAClB;gBAEA,OAAO;oBACL,QAAAwW;oBACA,eAAAC;gBACF;YACF,GApCIG,IAAiBpG,GACjBmG,KAAgBnH,GAAgBgB;YAChCmG,KAAgBzB,MAAAA,CAClB0B,IAAiBzH,IACjBwH,KAAgBnH,GAAgBoH,EAAc;YAEhD,IAAMC,KAAarH,GAAgBP,KAC7B6H,KAAgB58B,IAAOsd,EAAW,MAAA,GAAS;YA+BjD,IA9B0Btd,IAAO,MAAMq2B,KAAAA,CAgCpCuG,MAAiBtf,CAAAA,CAAWtd,EAAI,GAAIg7B,EAAAA,GAAAA;gBAErC,IACEW,IAAa5P,KAAQ0Q,KAAgBE,KACrC3B,IACA;oBACA,IAAM,EAAE,QAAAsB,EAAAA,EAAQ,eAAAC,EAAc,EAAA,GAAIH,GAAaT,GAAYhG;oBAE3DA,IAAO2G,KAASI,GAChBvB,KAAcn7B,GACdo7B,EAAAA,CAAgBp7B,EAAI,CAAE,EAAC,GAAIu8B,IAC3Bd,IAAgC,CAAA;gBAClC,OAAA,IAAWD,MAAcA,GAAW,IAAA,KAASx7B,GAC3C,IAAI63B,MAAc,UAAU;oBAC1B,IAAM,EAAE,QAAAyE,EAAAA,EAAQ,eAAAC,EAAc,EAAA,GAAIH,GAAaT,GAAYhG;oBAE3DA,IAAO2G,KAASI,GAChBvB,KAAcn7B,GACdo7B,EAAAA,CAAgBp7B,EAAI,CAAE,EAAC,GAAIu8B,IAC3Bd,IAAgC,CAAA;gBAClC,OAAO;oBACL,IAAMoB,KAAezD,EAAAA,CAAM/7B,IAAI,EAAC,EAE1B,EAAE,QAAAi/B,EAAAA,EAAQ,eAAAC,EAAc,EAAA,GAAIH,GAChCrQ,KAAQ4P,GACRkB;oBAGFlH,IAAOA,IAAO2G,KAASI,GACvBvB,KAAcn7B,GACdo7B,EAAAA,CAAgBp7B,EAAI,CAAE,EAAC,GAAIu8B,IAC3Bd,IAAgC,CAAA;gBAClC;YAAA;QAGN;QAEA,IAAIjf,IAEFkf,MAAa;aAAA,IACJhE,GAAW;YAGpB,IACE,CAAC/B,EAAK,QAAA,CAASX,OACf,CAAC/M,GAAe,QAAA,CAAS0N,MACzByD,EAAAA,CAAM/7B,IAAI,EAAC,IACXm+B,MACA,CAACA,GAAW,OAAA,IACZE,OAAcF,GAAW,CAAA,IACzB,CAACC,GACD;gBACIJ,OAAe,QAAA,CACjBC,KAAiBK,CAAAA,GAEnBN,KAAaA,OAAe,OAAO1F,IAAO0F,KAAa1F;gBACvD;YACF;YAEA,IAAMmH,IAAmBzB,OAAe,OAAO1F,IAAO0F,KAAa1F,GAC7DoH,KACJ1B,OAAe,OAAOM,IAAaL,IAC/B0B,KAAiBzB,EAAO,KAAA,GAAQI,IAAaoB;YAEnDpjC,KAAOw7B,EAAO,MAAA,CAAO2H,EAAiB,OAAA,CAAQ,UAAU,KAAK;gBAC3D,UAAAlI;gBACA,MAAMvC,KAAO0K;gBAEb,KAAKzK,KAAMoJ,KAAYO,KAAiBE;gBACxC,eAAA9G;YACF,IAEAgG,KAAa,MAETrI,KAAAA,CACFttB,MAEEgjB,EAAe,QAAQ;gBACrB,GAAG2J,KAAO0K;gBACV,GAAGzK,KAAMoJ,KAAYS;gBACrB,OAAOa;gBACP,QAAQd;gBACR,MAAM;gBACN,QAAQ;gBACR,gBAAgB;gBAChB,WAAWhK,MAAkB,KAAA;gBAC7B,aAAaa,KAAa,CAAA,KAAA,EAAQA,GAAU,CAAA,CAAA,GAAM,KAAA;YACpD,KAEArK,EAAe,QAAQ;gBACrB,IAAI2J,KAAOsJ;gBACX,IAAItJ,KAAOsJ,IAAaJ,EAAO,KAAA;gBAC/B,IAAIjJ,KAAMoJ,KAAYS,KAAgBF;gBACtC,IAAI3J,KAAMoJ,KAAYS,KAAgBF;gBACtC,QAAQ;gBACR,gBAAgB;gBAChB,WAAW/J,MAAkB,KAAA;gBAC7B,aAAaa,KAAa,CAAA,KAAA,EAAQA,GAAU,CAAA,CAAA,GAAM,KAAA;YACpD,EAAC;QAEP,OAIE2I,MAAaO,KAAiBE;QAIhC,IAAI3E,EAAY,kBAAA,EAAoB;YAClC,IAAMyF,IAAO7B,EAAAA,CAAgBp7B,EAAI;YAC7Bi9B,KAAQ,CAACA,CAAAA,CAAK,EAAC,IAAA,CACjB/J,MAAmBqB,GACjB;gBACE,MAAMlC,KAAO4K,CAAAA,CAAK,EAAC;gBACnB,KAAKA,CAAAA,CAAK,EAAC;gBACX,OAAOA,CAAAA,CAAK,EAAC;gBACb,UAAUA,CAAAA,CAAK,EAAC;gBAChB,YAAAlK;YACF,GACAyE,IAEFyF,CAAAA,CAAK,EAAC,GAAI,CAAA;QAEd;QAEA,IAAItjC,OAAS,MACXuhC,MAAcvhC,KAAO;aAChB;YACL,IAAM,CAAC2S,GAAG2mB,GAAK,GAAIJ,GACjB;gBACE,SAAS8C;gBACT,QAAA7C;gBACA,IAAAvwB;gBACA,MAAM8vB,KAAOsJ;gBACb,KAAKrJ,KAAMoJ;gBACX,OAAA3P;gBACA,QAAQmQ;gBACR,QAAAhK;gBACA,SAAAU;gBACA,OAAApW;gBACA,YAAAuW;gBACA,OAAAC;gBACA,OAAO,CAAC,CAACkF;gBACT,iBAAAhF;YACF,GACAsE;YAEFt0B,MAAUoJ,GACVquB,MAAqB1H,IACrBC,KAAkB;QACpB;QAEA,IAAIuI,GACF;IAEJ;IAGA,IAAIP,IAAY;QACd,IAAMh5B,IACJs1B,EAAY,KAAA,KAAU,iBAAiB5E,OAAY,IAC/ClK,EAAe,QAAQ;YACrB,MAAM8O,EAAY,KAAA;YAClB,GAAG0D;YACH,WAAWhJ,MAAkB,KAAA;YAC7B,SAASU,OAAY,IAAIA,KAAU,KAAA;YACnC,aAAaG,KAAa,CAAA,KAAA,EAAQA,GAAU,CAAA,CAAA,GAAM,KAAA;YAClD,MAAM6H,KAAiB,CAAA,KAAA,EAAQA,GAAc,CAAA,CAAA,GAAM,KAAA;YAEnD,OAAO5C,IAAY,CAAA,OAAA,EAAUA,EAAS,CAAA,GAAK,KAAA;QAC7C,KACA;QAEFE,KAAAA,CACFyC,KAAoBjS,EAAe,QAAQ;YACzC,GAAGwS;YACH,WAAWhJ,MAAkB,KAAA;QAC/B,EAAC,GAGHhvB,MAAAA,CACG4vB,KACGA,KACApK,EACE,KACA;YAAE,QAAQ,CAAA,cAAA,EAAiBnmB,EAAE,CAAA,CAAI;QAAA,GACjCL,IAAIgxB,MAENhxB,IAAIgxB,EAAAA,IAAmBxtB;IAC/B;IAGA,OAAIi1B,MAAAA,CACAnD,EAAY,gCAAA,CAAyC,KAAA,IACrDmD,EAAAA,GAGGz3B;AACT;AAEA,SAASm1B,GACP9G,CAAAA,EACAsG,CAAAA;IAGA,IAAMO,IAAgB7G,EAAK,IAAA,CAAK,MAAA;IAChC,OAAA6G,EAAc,aAAA,CAAc7G,EAAK,cAAc,GAC/C6G,EAAc,iBAAA,CACZ97B,GACEu7B,GACA;QACE,MAAMtG,EAAK,kBAAA;QACX,OAAOA,EAAK,gBAAA;QACZ,QAAQA,EAAK,cAAA;QACb,SAASA,EAAK,qBAAA;QAEd,OAAOA,EAAK,kBAAA;QACZ,KAAKA,EAAK,gBACZ;IAAA,GACAA,EAAK,kBAAA,EACL,eAIG6G;AACT;AAEA,SAASO,GAAWhD,CAAAA;IASlB,IAAMzyB,IAAS,QAAQ,IAAA,CAAKyyB;IAC5B,OAAOzyB,IACH;QACE,OAAOA,EAAO,KAAA;QACd,UAAUA,CAAAA,CAAO,EAAC,CAAE,MACtB;IAAA,IACA;QACE,OAAO;QACP,UAAU;IACZ;AACN;;AExyBA,IAAIg6B,KAAiBA,MAAkB,CAAC,GAIlCC,KAA8B;IAAE,MAAM;IAAe,OAAO;AAAS;AAE3ED,GAAe,KAAA,GAAS;IACtB,IAAI9vB,IAAS;QACX,gBAAgB;QAChB,yBACE;QACF,gBAAgB;QAChB,yBACE;QACF,cACE;QACF,gBACE;QACF,kBAAkB;QAClB,YAAY;QACZ,iBAAiB;QACjB,aAAa;QACb,YAAY;QACZ,WAAW;QACX,WAAW;QACX,SAAS;QACT,OAAO;QACP,UAAU;QACV,cAAc;QACd,UAAU;QACV,WAAW;QACX,QAAQ;IACV,GAEID,IAAQ;IAEZ,SAASiwB,EAAMC,CAAAA;QACb,IAAIrQ,IAAM,IAAI,MAAM7f,IAAQ,OAAOkwB;QACnC,MAAArQ,EAAI,MAAA,GAAS7f,GACP6f;IACR;IAEA,SAASsQ;QACP,IAAIC,IAAMC;QAEV,OAAIrwB,EAAM,MAAA,GAAS,KACjBiwB,EAAM,0BAEDG;IACT;IAEA,SAASC;QACP,OAAOC,EAAaC;IACtB;IAEA,SAASA;QACP,OACEC,EACE,mBACAvwB,EAAO,cAAA,EACPwwB,GACAT,OAEFQ,EACE,6BACAvwB,EAAO,uBAAA,EACPwwB,GACAT,OAEFQ,EACE,mBACAvwB,EAAO,cAAA,EACPywB,MAEFF,EACE,6BACAvwB,EAAO,uBAAA,EACPywB;IAGN;IAEA,SAASC,EAAyBC,IAAc,CAAC,CAAA;QAtFnD,IAAAC,GAAAC,GAAAC,IAAAC;QAuFI,IAAMjX,IAAM;YAAE,GAAG6W,CAAY;QAAA;QAE7B,OAAA,OAAO,MAAA,CAAO7W,GAAK;YACjB,OAAA,CAAQA,EAAI,KAAA,IAAS,EAAC,EAAG,MAAA,GAAS,IAC9BA,EAAI,KAAA,GACJ;gBAAC;oBAAE,MAAM;oBAAkB,OAAO;gBAAkB;aAAC;YACzD,IAAI;gBACF,MAAM;gBACN,OAAO;oBACL,GAAG;wBACD,MAAM;wBACN,OAAO;wBACP,GAAA,CAAA,CAAI+W,IAAAA,CAAAD,IAAA9W,EAAI,EAAA,KAAJ,OAAA,KAAA,IAAA8W,EAAQ,KAAA,KAAR,OAAA,KAAA,IAAAC,EAAe,CAAA,KAAK,CAAC,CAC3B;oBAAA;oBACA,GAAG;wBACD,MAAM;wBACN,OAAO;wBACP,GAAA,CAAA,CAAIE,KAAAA,CAAAD,KAAAhX,EAAI,EAAA,KAAJ,OAAA,KAAA,IAAAgX,GAAQ,KAAA,KAAR,OAAA,KAAA,IAAAC,GAAe,CAAA,KAAK,CAAC,CAC3B;oBAAA;gBACF;YACF;QAAC,IAGEJ,EAAY,KAAA,IACf,OAAO,MAAA,CAAO7W,GAAK;YACjB,MAAM;YACN,OAAOA,EAAI,KAAA,CAAM,IAAA,CAAK5qB,CAAAA,KAAK;oBAAC;oBAAK;iBAAgB,CAAE,QAAA,CAASA,GAAE,IAAI,KAC9D,YACA;QACN,IAGK4qB;IACT;IAEA,SAASyW,EACPS,CAAAA,EACAtkB,CAAAA,EACAukB,CAAAA,EACAC,CAAAA;QAEA,OAAOC,EAAUzkB,GAAS,SAAU0kB,EAAAA;YAClC,IAAIT,KAAcM;YAClB,OAAIN,KACGU,GAAKrxB,EAAO,KAAK,KACpBgwB,EAAM,sCAGRW,KAAcO,GAGT;gBACL,MAAMF;gBACN,aAAaA,EAAa,QAAA,CAAS,qBAAiB,CAChDL,MAAA,OAAA,KAAA,IAAAA,GAAa,GAAA,CAAIzhC,CAAAA,KAAKwhC,EAAyBxhC,IAAC,KAAM;oBAACwhC;iBAA0B,GACjFC;gBACJ,YAAYN,EAAaiB;YAC3B;QACF;IACF;IAEA,SAASH,EAAUzkB,CAAAA,EAAS7W,CAAAA;QAC1B,IAAIu7B,IAAWC,GAAK3kB;QACpB,IAAI0kB,GAAU;YACPC,GAAKrxB,EAAO,SAAS,KACxBgwB,EAAM;YAGR,IAAIl6B,IAASD,EAASu7B;YAEtB,OAAKC,GAAKrxB,EAAO,OAAO,KACtBgwB,EAAM,cAGDl6B;QACT;IACF;IAEA,SAAS06B;QACP,OAAOe,OAAuBC,OAAgBC;IAChD;IAEA,SAASF;QACP,OAAO9lB,GAAM,eAAezL,EAAO,YAAA,EAAc;IACnD;IAEA,SAASwxB;QACP,OAAO/lB,GAAM,WAAWzL,EAAO,UAAA,EAAY;IAC7C;IAGA,SAASyxB;QACP,OAAOhmB,GAAM,eAAezL,EAAO,SAAA,EAAW;IAChD;IAEA,SAASywB;QACP,IAAIiB,GACFC,IAAoBC,KACpBC;QAEF,OAAIF,KAAAA,CACFD,IAAqB,EAAC,EACtBA,EAAmB,IAAA,CAAKC,IAExBE,IAAiB9xB,GACbsxB,GAAKrxB,EAAO,KAAK,KAAA,CACnB2xB,IAAoBC,KAChBD,IACFD,EAAmB,IAAA,CAAKC,KAExB5xB,IAAQ8xB,CAAAA,CAAAA,GAKPH;IACT;IAEA,SAASE;QACP,IAAME,IAAMC,KACN30B,IAAK40B;QAEX,IAAI,CAAA,CAAA,CAACF,KAAO,CAAC10B,CAAAA,GAEb,OAAO;YAAE,GAAG00B,CAAAA;YAAK,IAAA10B;QAAG;IACtB;IAEA,SAAS20B;QACP,IAAIE,IAAgBC,OAAiBC,KACjCC,IAASC,OAAwBC,OAAiBC,KAChDj6B,IAAQmT,GAAM,KAAKzL,EAAO,eAAA,EAAiB;QAEjD,IAAIiyB,GACF,OAAO;YACL,GAAGA,CAAAA;YACH,OAAO;gBAACG;gBAAQ95B;aAAK,CAAE,MAAA,CAAOpJ,CAAAA,IAAKA;QACrC;QACK,IAAIkjC,GACT,OAAO;YACL,OAAO;gBAACA;gBAAQ95B;aAAK,CAAE,MAAA,CAAOpJ,CAAAA,IAAKA;YACnC,GAAIgjC,OAAiBC,GACvB;QAAA;IAIJ;IAEA,SAASD;QACP,OAAOzmB,GAAM,SAAS,cAAc;IACtC;IAEA,SAAS0mB;QACP,OAAO1mB,GAAM,SAAS,eAAe;IACvC;IAEA,SAAS4mB;QACP,OAAO5mB,GAAM,kBAAkBzL,EAAO,cAAA,EAAgB;IACxD;IAEA,SAASgyB;QACP,IAAIvmB,GAAM,YAAY,OAAO,IAAI;YAC/B,IAAI+mB,IAAcC;YAElB,OAAKD,KACHxC,EAAM,8BAGDwC;QACT;IACF;IAEA,SAASC;QACP,IAAIC,IAAWC;QAEf,IAAID,EAAS,CAAA,IAAKA,EAAS,CAAA,EACzB,OAAO;YACL,MAAM;YACN,OAAOA;QACT;IAEJ;IAEA,SAASC;QACP,OAAO;YACL,GAAGJ;YACH,GAAGA;QACL;IACF;IAEA,SAASlC,EAAauC,CAAAA;QACpB,IAAIxB,IAAWwB,KACb98B,IAAS,EAAC;QAEZ,IAAIs7B,GAEF,IADAt7B,EAAO,IAAA,CAAKs7B,IACLC,GAAKrxB,EAAO,KAAK,GACtBoxB,IAAWwB,KACPxB,IACFt7B,EAAO,IAAA,CAAKs7B,KAEZpB,EAAM;QAKZ,OAAOl6B;IACT;IAEA,SAASw7B;QACP,IAAI5lB,IAAQmnB;QAEZ,OAAKnnB,KACHskB,EAAM,8BAGRtkB,EAAM,MAAA,GAAS6mB,KACR7mB;IACT;IAEA,SAASmnB;QACP,OACEC,QACAC,QACAC,QACAC;IAEJ;IAEA,SAASA;QACP,OAAOxnB,GAAM,WAAWzL,EAAO,YAAA,EAAc;IAC/C;IAEA,SAAS8yB;QACP,OAAOrnB,GAAM,OAAOzL,EAAO,QAAA,EAAU;IACvC;IAEA,SAASgzB;QACP,OAAO7B,EAAUnxB,EAAO,QAAA,EAAU;YAChC,OAAO;gBACL,MAAM;gBACN,OAAOqwB,EAAa6C;YACtB;QACF;IACF;IAEA,SAASH;QACP,OAAO5B,EAAUnxB,EAAO,SAAA,EAAW;YACjC,OAAO;gBACL,MAAM;gBACN,OAAOqwB,EAAa6C;YACtB;QACF;IACF;IAEA,SAASA;QACP,OAAO7B,GAAKrxB,EAAO,MAAM,CAAA,CAAE,EAC7B;IAAA;IAEA,SAASuyB;QACP,OACE9mB,GAAM,KAAKzL,EAAO,eAAA,EAAiB,MACnCmzB,OACAb;IAEJ;IAEA,SAASa;QACP,OAAO1nB,GAAM,oBAAoBzL,EAAO,gBAAA,EAAkB;IAC5D;IAEA,SAASsyB;QACP,OAAO7mB,GAAM,MAAMzL,EAAO,UAAA,EAAY,MAAMozB,GAAoBpzB,EAAO,WAAA,EAAa;IACtF;IAEA,SAASozB,GAAoB1mB,CAAAA,EAAS2mB,CAAAA;QACpC,IAAIjC,IAAWC,GAAK3kB;QACpB,IAAI0kB,GACF,OAAO;YACL,MAAMA,CAAAA,CAAS,EAAC;YAChB,OAAOA,CAAAA,CAASiC,EAClB;QAAA;IAEJ;IAEA,SAAS5nB,GAAMxZ,CAAAA,EAAMya,CAAAA,EAAS2mB,CAAAA;QAC5B,IAAIjC,IAAWC,GAAK3kB;QACpB,IAAI0kB,GACF,OAAO;YACL,MAAMn/B;YACN,OAAOm/B,CAAAA,CAASiC,EAClB;QAAA;IAEJ;IAEA,SAAShC,GAAKiC,CAAAA;QACZ,IAAIlC,GAAUmC;QAEd,OAAAA,IAAgB,eAAe,IAAA,CAAKxzB,IAChCwzB,KACFC,GAAQD,CAAAA,CAAc,EAAC,CAAE,MAAM,GAGjCnC,IAAWkC,EAAO,IAAA,CAAKvzB,IACnBqxB,KACFoC,GAAQpC,CAAAA,CAAS,EAAC,CAAE,MAAM,GAGrBA;IACT;IAEA,SAASoC,GAAQ3U,CAAAA;QACf9e,IAAQA,EAAM,MAAA,CAAO8e;IACvB;IAEA,OAAO,SAAUnvB,CAAAA;QACf,OAAAqQ,IAAQrQ,EAAK,QAAA,IACNwgC;IACT;AACF;AAEA,IAAOuD,KAAQ3D;ADrYf,SAAS4D,GAAqBC,CAAAA;IAC5B,OAAIA,EAAK,IAAA,KAAS,YAAkBA,EAAK,KAAA,GACrCA,EAAK,IAAA,KAAS,QAAc,CAAA,CAAA,EAAIA,EAAK,KAAK,CAAA,CAAA,GAC1CA,EAAK,IAAA,KAAS,QAAc,CAAA,IAAA,EAAOA,EAAK,KAAA,CAAM,IAAA,CAAK,KAAI,CAAA,CAAA,GACvDA,EAAK,IAAA,KAAS,SAAe,CAAA,KAAA,EAAQA,EAAK,KAAA,CAAM,IAAA,CAAK,KAAI,CAAA,CAAA,GACtD;AACT;AAEA,SAASC,GAAuBC,CAAAA;IAC9B,IAAIC,IAAK,GACPC,IAAK,GACLC,IAAK,GACLC,IAAK;IAEP,OAAIJ,EAAI,QAAA,CAAS,SACfE,IAAK,IACIF,EAAI,QAAA,CAAS,aAAQ,CAC9BI,IAAK,CAAA,GAGHJ,EAAI,QAAA,CAAS,UACfC,IAAK,IACID,EAAI,QAAA,CAAS,YAAO,CAC7BG,IAAK,CAAA,GAGH,CAACF,KAAM,CAACE,KAAM,CAACD,KAAM,CAACE,KAAAA,CACxBF,IAAK,CAAA,GAGA;QAACD;QAAIC;QAAIC;QAAIC;KACtB;AAAA;AAEA,SAASC,GAAgBhlC,CAAAA,EAAoBilC,CAAAA;IAC3C,OAAI,OAAOjlC,KAAM,YAAYA,EAAE,QAAA,CAAS,OAC9BilC,IAAO,WAAWjlC,KAAM,MAE3B,CAACA;AACV;AAEA,SAASklC,GACP9kC,CAAAA,EACA,EACE,GAAA4pB,CAAAA,EACA,GAAAL,CAAAA,EACA,UAAAwb,CAAAA,EACA,UAAAC,CACF,EAAA;IAOA,OAAA,CACEhlC,IACIA,EACG,KAAA,CAAM,KACN,GAAA,CAAKnF,CAAAA;QACJ,IAAI;YACF,IAAMkiB,IAAS,IAAIgN,GAAalvB;YAChC,OAAOkiB,EAAO,IAAA,KAAS,YAAYA,EAAO,IAAA,KAAS,WAC/CA,EAAO,KAAA,GACPA,EAAO,KAAA,GAAQA,EAAO,IAC5B;QAAA,EAAA,OAAE;YACA,OAAO;QACT;IACF,GACC,MAAA,CAAQnd,CAAAA,IAAMA,MAAM,QACvB;QAACmlC;QAAUC;KAAQ,EACvB,GAAA,CAAI,CAACplC,GAAGoD,IAAU4hC,GAAgBhlC,GAAG;YAACgqB;YAAGL;SAAC,CAAEvmB,EAAM;AACtD;AAEA,SAASiiC,GACPC,CAAAA,EACAC,CAAAA,EACA/oC,CAAAA;IAIA,IAAMgpC,IAAQ,EAAC;IACf,KAAA,IAAWf,KAAQc,EAAY;QAC7B,IAAM/oB,IAAQgoB,GAAqBC;QACnC,IAAI,CAACe,EAAM,MAAA,IAAA,CAETA,EAAM,IAAA,CAAK;YACT,QAAQ;YACR,OAAAhpB;QACF,IAEI,OAAOioB,EAAK,MAAA,GAAW,OACvBA,EAAK,MAAA,CAAO,KAAA,KAAU,GAAA,GAAK;QAIjC,IAAMzzB,IACJ,OAAOyzB,EAAK,MAAA,GAAW,MACnB,KAAA,IACAA,EAAK,MAAA,CAAO,IAAA,KAAS,MACrBA,EAAK,MAAA,CAAO,KAAA,GAAQ,MACpBA,EAAK,MAAA,CAAO,KAAA,GAAQa;QAE1BE,EAAM,IAAA,CAAK;YACT,QAAAx0B;YACA,OAAAwL;QACF;IACF;IACKgpB,EAAM,MAAA,IACTA,EAAM,IAAA,CAAK;QACT,QAAQ;QACR,OAAO;IACT;IAGF,IAAMC,IAAWD,CAAAA,CAAMA,EAAM,MAAA,GAAS,EAAC;IACnCC,EAAS,MAAA,KAAW,KAAA,CAClB,OAAOA,EAAS,MAAA,GAAW,MAC7BA,EAAS,MAAA,GAAS,IAElBD,EAAM,IAAA,CAAK;QACT,QAAQ;QACR,OAAOC,EAAS,KAClB;IAAA,EAAC;IAIL,IAAIC,IAAe,GACfC,IAAW;IAEf,IAAA,IAAS5kC,IAAI,GAAGA,IAAIykC,EAAM,MAAA,EAAQzkC,IAChC,IAAI,OAAOykC,CAAAA,CAAMzkC,EAAC,CAAE,MAAA,GAAW,KAAa;QAG1C,IADI4kC,IAAW5kC,KAAAA,CAAG4kC,IAAW5kC,CAAAA,GACtB,OAAOykC,CAAAA,CAAMG,EAAQ,CAAE,MAAA,GAAW,KAAaA;QAEtDH,CAAAA,CAAMzkC,EAAC,CAAE,MAAA,GAAA,CACLykC,CAAAA,CAAMG,EAAQ,CAAE,MAAA,GAASH,CAAAA,CAAME,EAAY,CAAE,MAAA,IAAA,CAC5CC,IAAWD,CAAAA,IAAAA,CACX3kC,IAAI2kC,CAAAA,IACPF,CAAAA,CAAME,EAAY,CAAE,MACxB;IAAA,OACEA,IAAe3kC;IAInB,OAAIvE,MAAS,SACJgpC,EAAM,GAAA,CAAKf,CAAAA;QAChB,IAAMjoB,IAAQqY,CAAAA,GAAAA,+JAAAA,CAAAA,UAAAA,EAAc4P,EAAK,KAAK;QACtC,OAAIjoB,EAAM,KAAA,KAAU,IACX;YAAE,GAAGioB,CAAAA;YAAM,OAAO;QAAmB,IAErC;YAAE,GAAGA,CAAAA;YAAM,OAAO,CAAA,oBAAA,EAAuBjoB,EAAM,KAAK,CAAA,CAAA,CAAI;QAAA;IAEnE,KAGKgpB;AACT;AAEA,eAAOI,GACL,EACE,IAAA3/B,CAAAA,EACA,OAAAwpB,CAAAA,EACA,QAAAC,CAAAA,EACA,MAAAqG,CAAAA,EACA,KAAAC,CACF,EAAA,EACA,EAAE,OAAA9V,CAAAA,EAAO,MAAAyP,CAAAA,EAAM,UAAA5Z,CAAAA,EAAU,QAAA8vB,CAAO,EAAA,EAChCC,CAAAA,EACAtpC,CAAAA;IAGAqpC,IAASA,KAAU,UACnBrpC,IAAOA,KAAQ;IAEf,IAAMupC,IAAUF,MAAW,cAAcA,MAAW,UAC9CG,IAAUH,MAAW,cAAcA,MAAW,UAE9CI,IAAaf,GAAiBvV,GAAM;QACxC,GAAGF;QACH,GAAGC;QACH,UAAUD;QACV,UAAUC;IACZ,IACMwW,IAAUhB,GAAiBnvB,GAAU;QACzC,GAAG0Z;QACH,GAAGC;QACH,UAAU;QACV,UAAU;IACZ;IAEA,IAAIxP,EAAM,UAAA,CAAW,qBAAqB;QACxC,IAAM/C,IAASonB,GAAS,KAAA,CAAMrkB,EAAK,CAAE,EAAC,EAChC,CAACiV,GAAYC,EAAW,GAAI6Q,GAG9BrB,GAAIC,GAAIC,GAAIC,GAAI77B;QAEpB,IAAIiU,EAAO,WAAA,CAAY,IAAA,KAAS,eAC7B,CAACynB,GAAIC,GAAIC,GAAIC,EAAE,GAAIL,GAAuBvnB,EAAO,WAAA,CAAY,KAAK,GAEnEjU,IAAS,KAAK,IAAA,CACZ,KAAK,GAAA,CAAA,CAAK47B,IAAKF,CAAAA,IAAMzP,GAAY,KAC/B,KAAK,GAAA,CAAA,CAAK4P,IAAKF,CAAAA,IAAMzP,GAAa;aACtC,IACSjY,EAAO,WAAA,CAAY,IAAA,KAAS,WAAW;YAIhD,IAAS+e,IAAT,SAAciK,CAAAA;gBAGZ,IAFAA,IAAAA,CAAUA,IAAAA,CAAS,KAAK,EAAA,GAAK,CAAA,IAAM,KAAK,EAAA,GAAK,CAAA,IAAA,CAAM,KAAK,EAAA,GAAK,CAAA,GAEzD,KAAK,GAAA,CAAIA,IAAQ,KAAK,EAAA,GAAK,KAAK,MAAK;oBACvCvB,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,GACL77B,IAASisB;oBACT;gBACF,OAAA,IAAW,KAAK,GAAA,CAAIgR,KAAS,MAAK;oBAChCvB,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,IAAK,GACL77B,IAASksB;oBACT;gBACF;gBAGA,IAAI+Q,KAAS,KAAK,EAAA,GAAK,KAAKA,IAAQ,KAAK,EAAA,EAAI;oBAC3CjK,EAAK,KAAK,EAAA,GAAKiK,IACftB,IAAK,IAAIA,GACTE,IAAK,IAAIA;oBACT;gBACF,OAAA,IAAWoB,KAAS,KAAK,EAAA,EAAI;oBAC3BjK,EAAKiK,IAAQ,KAAK,EAAE;oBACpB,IAAIC,IAAMxB;oBACVA,IAAKE,GACLA,IAAKsB,GACLA,IAAMvB,GACNA,IAAKE,GACLA,IAAKqB;oBACL;gBACF;gBAGA,IAAMC,IAAM,KAAK,GAAA,CAAIF,IACfG,IAAaD,IAAMhqB,IACnBkqB,KAAe,KAAK,IAAA,CAAKD,IACzBxc,KAAI,KAAK,IAAA,CAAK,KAAK,KAAK,GAAA,CAAI,KAAK,EAAA,GAAK,IAAIyc;gBAChD3B,IAAK,GACLC,IAAK,GACLC,IAAK,KAAK,GAAA,CAAIyB,MAAgBzc,IAC9Bib,IAAK,IAAI,KAAK,GAAA,CAAIwB,MAAgBzc;gBAGlC,IAAME,KAAI,GACJL,KAAI,IAAI0c,GACRG,IAAO,KAAK,GAAA,CAAA,CACfxc,KAAI3N,KAAIsN,EAAAA,IAAK,KAAK,IAAA,CAAKK,KAAIA,KAAIL,KAAIA,MAAK,KAAK,IAAA,CAAKtN,KAAIA,KAAI;gBAO7DnT,IAHiB,KAAK,IAAA,CACpBisB,IAAaA,IAAaC,IAAcA,KAEtBoR;YACtB,GA5DMnqB,KAAI8Y,IAAaC;YA8DvB8G,EAAM,CAAC/e,EAAO,WAAA,CAAY,KAAA,GAAQ,MAAO,KAAK,EAAE;QAClD;QAEA,IAAMqoB,IAAQH,GAAen8B,GAAQiU,EAAO,UAAA,EAAY3gB,IAElDiqC,IAAa,CAAA,SAAA,EAAYxgC,EAAE,CAAA,EAC3BygC,IAAY,CAAA,eAAA,EAAkBzgC,EAAE,CAAA,EAEhC0gC,KAAOva,EACX,WACA;YACE,IAAIsa;YACJ,GAAGR,CAAAA,CAAQ,EAAC,GAAIzW;YAChB,GAAGyW,CAAAA,CAAQ,EAAC,GAAIxW;YAChB,OAAOqW,IAAU5Q,IAAa1F,IAAQ;YACtC,QAAQuW,IAAU5Q,IAAc1F,IAAS;YACzC,cAAc;QAChB,GACAtD,EACE,kBACA;YACE,IAAIqa;YACJ,IAAA7B;YACA,IAAAC;YACA,IAAAC;YACA,IAAAC;QACF,GACAS,EACG,GAAA,CAAKf,CAAAA,KACJrY,EAAe,QAAQ;gBACrB,QAAQqY,GAAK,MAAA,GAAS,MAAM;gBAC5B,cAAcA,GAAK,KACrB;YAAA,IAED,IAAA,CAAK,OAERrY,EAAe,QAAQ;YACrB,GAAG;YACH,GAAG;YACH,OAAO+I;YACP,QAAQC;YACR,MAAM,CAAA,KAAA,EAAQqR,EAAU,CAAA,CAC1B;QAAA;QAEJ,OAAO;YAACC;YAAWC;SACrB;IAAA;IAEA,IAAIzmB,EAAM,UAAA,CAAW,qBAAqB;QACxC,IAAM/C,IAASonB,GAAS,KAAA,CAAMrkB,EAAK,CAAE,EAAC,EAChCuhB,IAActkB,EAAO,WAAA,CAAY,EAAC,EAClC,CAACypB,GAAQC,EAAM,GAAIZ,GAErBtP,IAAQ,UACRmQ,IAAaF,IAAS,GACtBG,IAAaF,IAAS;QAE1B,IAAIpF,EAAY,IAAA,KAAS,SAAA;YAEvB,IADA9K,IAAQ8K,EAAY,KAAA,EACfA,EAAY,EAAA,EAEV,IAAIA,EAAY,EAAA,CAAG,IAAA,KAAS,YAAY;gBAC7C,IAAMntB,IAAM0yB,GACVvF,EAAY,EAAA,CAAG,KAAA,CAAM,CAAA,EACrBA,EAAY,EAAA,CAAG,KAAA,CAAM,CAAA,EACrBmF,GACAC,GACAf,EAAiB,QAAA,EACjBA;gBAEFgB,IAAKxyB,EAAI,CAAA,EACTyyB,IAAKzyB,EAAI,CACX;YAAA,OACE,MAAM,IAAI,MACR,0CAA0CmtB,EAAY,EAAA,CAAG,IAC3D;QAAA,OAGF,MAAM,IAAI,MAAM,uCAAuCA,EAAY,IAAI;QAGzE,IAAM+D,IAAQH,GAAe5V,GAAOtS,EAAO,UAAA,EAAY3gB,IAEjDiqC,IAAa,CAAA,cAAA,EAAiBxgC,EAAE,CAAA,EAChCygC,IAAY,CAAA,eAAA,EAAkBzgC,EAAE,CAAA,EAChC6xB,IAAS,CAAA,YAAA,EAAe7xB,EAAE,CAAA,EAI1BghC,KAASC,GACbvQ,GACA8K,EAAY,KAAA,EACZqE,EAAiB,QAAA,EACjB;YAAE,GAAGgB;YAAI,GAAGC;QAAG,GACf;YAACH;YAAQC;SAAM,EACff,IAIIa,KAAOva,EACX,WACA;YACE,IAAIsa;YACJ,GAAGR,CAAAA,CAAQ,EAAC,GAAIzW;YAChB,GAAGyW,CAAAA,CAAQ,EAAC,GAAIxW;YAChB,OAAOqW,IAAUa,IAASnX,IAAQ;YAClC,QAAQuW,IAAUa,IAASnX,IAAS;YACpC,cAAc;QAChB,GACAtD,EACE,kBACA;YACE,IAAIqa;QACN,GACAjB,EACG,GAAA,CAAKf,CAAAA,IACJrY,EAAe,QAAQ;gBACrB,QAAQqY,EAAK,MAAA;gBACb,cAAcA,EAAK,KACrB;YAAA,IAED,IAAA,CAAK,OAERrY,EACE,QACA;YACE,IAAI0L;QACN,GACA1L,EAAe,QAAQ;YACrB,GAAG;YACH,GAAG;YACH,OAAOwa;YACP,QAAQC;YACR,MAAM;QACR,MAEFza,EAAe,QAAQ;YACrB,GAAG;YACH,GAAG;YACH,OAAOwa;YACP,QAAQC;YACR,MAAMrB,EAAM,EAAA,CAAG,CAAA,GAAI,KACrB;QAAA,KACApZ,EAAeuK,GAAO;YACpB,IAAImQ;YACJ,IAAIC;YACJ,OAAOH;YACP,QAAQC;YACR,GAAGI,EAAAA;YACH,MAAM,CAAA,KAAA,EAAQR,EAAU,CAAA,CAAA;YACxB,MAAM,CAAA,KAAA,EAAQ3O,EAAM,CAAA,CACtB;QAAA;QAIJ,OADe;YAAC4O;YAAWC;SAE7B;IAAA;IAEA,IAAIzmB,EAAM,UAAA,CAAW,SAAS;QAC5B,IAAMinB,IAA4BjC,GAAiBvV,GAAM;YACvD,GAAGF;YACH,GAAGC;YACH,UAAU;YACV,UAAU;QACZ,IACM,CAACL,GAAK8F,GAAYC,EAAW,GAAI,MAAMnF,GAC3C/P,EAAM,KAAA,CAAM,GAAG,CAAA,KAEX+f,IACJzjC,MAAS,SACL24B,KAAcgS,CAAAA,CAA0B,EAAC,GACzCA,CAAAA,CAA0B,EAAC,IAAKhS,GAChCiS,IACJ5qC,MAAS,SACL44B,KAAe+R,CAAAA,CAA0B,EAAC,GAC1CA,CAAAA,CAA0B,EAAC,IAAK/R;QAEtC,OAAO;YACL,CAAA,SAAA,EAAYnvB,EAAE,CAAA;YACdmmB,EACE,WACA;gBACE,IAAI,CAAA,SAAA,EAAYnmB,EAAE,CAAA;gBAClB,qBAAqB;gBACrB,cAAc;gBACd,GAAGigC,CAAAA,CAAQ,EAAC,GAAInQ;gBAChB,GAAGmQ,CAAAA,CAAQ,EAAC,GAAIlQ;gBAChB,OAAO+P,IAAU9F,IAAgB;gBACjC,QAAQ+F,IAAUoB,IAAiB;YACrC,GACAhb,EAAe,SAAS;gBACtB,GAAG;gBACH,GAAG;gBACH,OAAO6T;gBACP,QAAQmH;gBACR,qBAAqB;gBACrB,MAAM/X;YACR;SAGN;IAAA;IAEA,MAAM,IAAI,MAAM,CAAA,2BAAA,EAA8BnP,EAAK,CAAA,CAAG;AACxD;AAQA,SAAS8mB,GACPF,CAAAA,EACAC,CAAAA,EACAH,CAAAA,EACAC,CAAAA,EACA/b,CAAAA,EACAsG,CAAAA;IAEA,IAAM9c,IAAgC;QAAE,GAAGsyB,IAAS;QAAG,GAAGC,IAAS;IAAE;IACrE,OAAIC,EAAG,IAAA,KAAS,qBACd,OAAO,MAAA,CAAOxyB,GAAK+yB,GAAQP,EAAG,KAAA,EAAOF,GAAQC,GAAQ,QAErDvyB,EAAI,CAAA,GAAIuW,EACN,CAAA,EAAGic,EAAG,KAAK,CAAA,EAAGA,EAAG,IAAI,CAAA,CAAA,EACrBhc,GACA8b,GACAxV,GACA,CAAA,IAIA2V,EAAG,IAAA,KAAS,qBACd,OAAO,MAAA,CAAOzyB,GAAK+yB,GAAQN,EAAG,KAAA,EAAOH,GAAQC,GAAQ,QAErDvyB,EAAI,CAAA,GAAIuW,EACN,CAAA,EAAGkc,EAAG,KAAK,CAAA,EAAGA,EAAG,IAAI,CAAA,CAAA,EACrBjc,GACA+b,GACAzV,GACA,CAAA,IAIG9c;AACT;AAEA,SAAS+yB,GACPrrC,CAAAA,EACA4qC,CAAAA,EACAC,CAAAA,EACAlC,CAAAA;IAEA,OAAQ3oC;QACN,KAAK;YACH,OAAO;gBAAE,CAAC2oC,EAAG,EAAGA,MAAQ,MAAMiC,IAAS,IAAIC,IAAS;YAAE;QACxD,KAAK;YACH,OAAO;gBAAE,GAAG;YAAE;QAChB,KAAK;YACH,OAAO;gBAAE,GAAG;YAAE;QAChB,KAAK;YACH,OAAO;gBAAE,GAAGD;YAAO;QACrB,KAAK;YACH,OAAO;gBAAE,GAAGC;YAAO;IACvB;AACF;AAGA,SAASK,GACPvQ,CAAAA,EACA2Q,CAAAA,EACAxc,CAAAA,EACAyc,CAAAA,EACAr+B,CAAAA,EACA48B,CAAAA;IAEA,IAAM,CAACc,GAAQC,EAAM,GAAI39B,GACnB,EAAE,GAAG49B,CAAAA,EAAI,GAAGC,CAAG,EAAA,GAAIQ,GACnBN,IAAiC,CAAC,GACpCO,IAAK,GACLC,IAAK;IAGT,IAAI,CAFoBH,EAAY,IAAA,CAAMtnC,CAAAA,IAAMA,EAAE,IAAA,KAAS,mBAErC;QACpB,IAAIsnC,EAAY,IAAA,CAAMtnC,CAAAA,IAAMA,EAAE,KAAA,CAAM,UAAA,CAAW,OAC7C,MAAM,IAAI,MACR;QAGJ,OAAI22B,MAAU,WACL;YACL,GAAG9L,EACD,CAAA,EAAGyc,CAAAA,CAAY,EAAC,CAAE,KAAK,CAAA,EAAGA,CAAAA,CAAY,EAAC,CAAE,IAAI,CAAA,CAAA,EAC7Cxc,GACA8b,GACAd,GACA,CAAA;QAEJ,IAEO;YACL,IAAIjb,EACF,CAAA,EAAGyc,CAAAA,CAAY,EAAC,CAAE,KAAK,CAAA,EAAGA,CAAAA,CAAY,EAAC,CAAE,IAAI,CAAA,CAAA,EAC7Cxc,GACA8b,GACAd,GACA,CAAA;YAEF,IAAIjb,EACF,CAAA,EAAGyc,CAAAA,CAAY,EAAC,CAAE,KAAK,CAAA,EAAGA,CAAAA,CAAY,EAAC,CAAE,IAAI,CAAA,CAAA,EAC7Cxc,GACA+b,GACAf,GACA,CAAA;QAEJ;IAEJ;IAEA,OAAQwB,CAAAA,CAAY,EAAC,CAAE,KAAA;QACrB,KAAK;YACHE,IAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIZ,IAASE,IAAK,KAAK,GAAA,CAAIA,KAC9CW,IAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIZ,IAASE,IAAK,KAAK,GAAA,CAAIA;YAC9C;QACF,KAAK;YACHS,IAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIZ,IAASE,IAAK,KAAK,GAAA,CAAIA,KAC9CW,IAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIZ,IAASE,IAAK,KAAK,GAAA,CAAIA;YAC9C;QACF,KAAK;YACH,OAAIpQ,MAAU,WACZsQ,EAAO,CAAA,GAAI,KAAK,GAAA,CACd,KAAK,GAAA,CAAIL,IAASE,IAClB,KAAK,GAAA,CAAIA,IACT,KAAK,GAAA,CAAID,IAASE,IAClB,KAAK,GAAA,CAAIA,MACX,CAEAE,EAAO,EAAA,GAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIL,IAASE,IAAK,KAAK,GAAA,CAAIA,KACrDG,EAAO,EAAA,GAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIJ,IAASE,IAAK,KAAK,GAAA,CAAIA,GAAG,GAEnDE;QACT,KAAK;YACH,OAAItQ,MAAU,WACZsQ,EAAO,CAAA,GAAI,KAAK,GAAA,CACd,KAAK,GAAA,CAAIL,IAASE,IAClB,KAAK,GAAA,CAAIA,IACT,KAAK,GAAA,CAAID,IAASE,IAClB,KAAK,GAAA,CAAIA,MACX,CAEAE,EAAO,EAAA,GAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIL,IAASE,IAAK,KAAK,GAAA,CAAIA,KACrDG,EAAO,EAAA,GAAK,KAAK,GAAA,CAAI,KAAK,GAAA,CAAIJ,IAASE,IAAK,KAAK,GAAA,CAAIA,GAAG,GAGnDE;IACX;IACA,IAAItQ,MAAU,UACZsQ,EAAO,CAAA,GAAI,KAAK,IAAA,CAAKO,IAAKA,IAAKC,IAAKA;SAC/B;QAGL,IAAM7X,IAAQ6X,MAAO,IAAID,IAAKC,IAAK;QAE/BD,MAAO,IAAA,CACTP,EAAO,EAAA,GAAK,GACZA,EAAO,EAAA,GAAK,CAAA,IAAA,CAOZA,EAAO,EAAA,GAAK,KAAK,IAAA,CAAKO,IAAKA,IAAKC,IAAKA,IAAK7X,IAAQA,KAASA,GAC3DqX,EAAO,EAAA,GAAKA,EAAO,EAAA,GAAKrX,CAAAA;IAE5B;IAEA,OAAOqX;AACT;AE5oBA,SAASS,GAAmB,CAACC,GAAIC,EAAE;IACjC,OAAI,KAAK,KAAA,CAAMD,IAAK,SAAU,KAAK,KAAK,KAAA,CAAMC,IAAK,SAAU,IACpD,IAEF,KAAK,KAAA,CAAQD,IAAKC,IAAM,KAAK,IAAA,CAAKD,IAAKA,IAAKC,IAAKA,KAAO,OAAQ;AACzE;AAEA,SAASC,GAAYh6B,CAAAA,EAAWC,CAAAA,EAAWg6B,CAAAA;IACzC,OAAIA,IAAQj6B,IAAIC,KAAAA,CACVg6B,IAAQ,IAAIj6B,KAAKi6B,IAAQ,IAAIh6B,IAC/BD,IAAIC,IAAIg6B,IAAQ,IACPA,IAAQ,IAAIj6B,IACrBA,IAAIi6B,IAAQh6B,IACHg6B,IAAQ,IAAIh6B,KAAAA,CACrBA,IAAIg6B,IAAQj6B,CAAAA,CAAAA,GAGT;QAACA;QAAGC;KACb;AAAA;AAEA,SAASi6B,GAAY1iC,CAAAA;IACnBA,CAAAA,CAAI,EAAC,GAAIA,CAAAA,CAAI,EAAC,GAAI,KAAK,GAAA,CAAIA,CAAAA,CAAI,EAAC,EAAGA,CAAAA,CAAI,EAAE;AAC3C;AAGA,SAAS2iC,GACPhoC,CAAAA,EACAyvB,CAAAA,EACAC,CAAAA,EACA4I,CAAAA,EACAlH,CAAAA;IAEA,IAAI,OAAOpxB,KAAM,UAAU;QACzB,IAAMioC,IAAQjoC,EAAE,KAAA,CAAM,KAAK,GAAA,CAAK,CAAA,IAAM,EAAE,IAAA,KAClCkoC,IAAc,CAACD,CAAAA,CAAM,EAAC,IAAK,CAACA,CAAAA,CAAM,EAAC,CAAE,QAAA,CAAS;QACpD,OAAAA,CAAAA,CAAM,EAAC,GAAIA,CAAAA,CAAM,EAAC,IAAKA,CAAAA,CAAM,EAAC,EACvB;YACLC;YACA;gBACE,KAAK,GAAA,CAAIrd,EAAeod,CAAAA,CAAM,EAAC,EAAG3P,GAAU7I,GAAO2B,GAAO,CAAA,IAAO3B;gBACjE,KAAK,GAAA,CACH5E,EAAeod,CAAAA,CAAM,EAAC,EAAG3P,GAAU5I,GAAQ0B,GAAO,CAAA,IAClD1B;aAGN;SACF;IAAA;IACA,OAAI,OAAO1vB,KAAM,WACR;QAAC,CAAA;QAAM;YAAC,KAAK,GAAA,CAAIA,GAAGyvB;YAAQ,KAAK,GAAA,CAAIzvB,GAAG0vB;SAAQ;KAAA,GAElD;QAAC,CAAA;QAAM,KAAA;KAChB;AAAA;AAEA,IAAMyY,KAAoBC,CAAAA,IACxBA,KAAWA,CAAAA,CAAQ,EAAC,KAAM,KAAKA,CAAAA,CAAQ,EAAC,KAAM;AAEjC,SAARC,GACL,EACE,MAAAtS,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CACF,EAAA,EAMA0B,CAAAA,EACAkX,CAAAA;IAEA,IAAI,EACF,qBAAAC,CAAAA,EACA,sBAAAC,CAAAA,EACA,wBAAAC,CAAAA,EACA,yBAAAC,CAAAA,EACA,UAAApQ,CACF,EAAA,GAAIlH,GAEAuX,GACAC,GACAC,GACAC;IA8BJ,IA7BC,CAACH,GAA6BJ,EAAmB,GAAIP,GACpDO,GACA9Y,GACAC,GACA4I,GACAlH,IAED,CAACwX,GAA8BJ,EAAoB,GAAIR,GACtDQ,GACA/Y,GACAC,GACA4I,GACAlH,IAED,CAACyX,GAAgCJ,EAAsB,GAAIT,GAC1DS,GACAhZ,GACAC,GACA4I,GACAlH,IAED,CAAC0X,GAAiCJ,EAAuB,GAAIV,GAC5DU,GACAjZ,GACAC,GACA4I,GACAlH,IAIA,CAACkX,KACD,CAACH,GAAiBI,MAClB,CAACJ,GAAiBK,MAClB,CAACL,GAAiBM,MAClB,CAACN,GAAiBO,IAElB,OAAO;IAETH,MAAwB;QAAC;QAAG;KAAC,EAC7BC,MAAyB;QAAC;QAAG;KAAC,EAC9BC,MAA2B;QAAC;QAAG;KAAC,EAChCC,MAA4B;QAAC;QAAG;KAAC,EAKhC,CAACH,CAAAA,CAAoB,EAAC,EAAGC,CAAAA,CAAqB,EAAE,CAAA,GAAIX,GACnDU,CAAAA,CAAoB,EAAC,EACrBC,CAAAA,CAAqB,EAAC,EACtB/Y,IAGD,CAACgZ,CAAAA,CAAuB,EAAC,EAAGC,CAAAA,CAAwB,EAAE,CAAA,GAAIb,GACzDY,CAAAA,CAAuB,EAAC,EACxBC,CAAAA,CAAwB,EAAC,EACzBjZ,IAGD,CAAC8Y,CAAAA,CAAoB,EAAC,EAAGE,CAAAA,CAAuB,EAAE,CAAA,GAAIZ,GACrDU,CAAAA,CAAoB,EAAC,EACrBE,CAAAA,CAAuB,EAAC,EACxB/Y,IAGD,CAAC8Y,CAAAA,CAAqB,EAAC,EAAGE,CAAAA,CAAwB,EAAE,CAAA,GAAIb,GACvDW,CAAAA,CAAqB,EAAC,EACtBE,CAAAA,CAAwB,EAAC,EACzBhZ,IAKEiZ,KACFZ,GAAYQ,IAEVK,KACFb,GAAYS,IAEVK,KACFd,GAAYU,IAEVK,KACFf,GAAYW;IAId,IAAM9iC,IAAW,EAAC;IAClBA,CAAAA,CAAE,EAAC,GAAI;QAAC4iC;QAAsBA;KAAoB,EAClD5iC,CAAAA,CAAE,EAAC,GAAI;QACL8iC;QACA;YAAC,CAACA,CAAAA,CAAwB,EAAC;YAAGA,CAAAA,CAAwB,EAAE;SAC1D;KAAA,EACA9iC,CAAAA,CAAE,EAAC,GAAI;QACL6iC;QACA;YAAC,CAACA,CAAAA,CAAuB,EAAC;YAAG,CAACA,CAAAA,CAAuB,EAAE;SACzD;KAAA,EACA7iC,CAAAA,CAAE,EAAC,GAAI;QACL2iC;QACA;YAACA,CAAAA,CAAoB,EAAC;YAAG,CAACA,CAAAA,CAAoB,EAAE;SAClD;KAAA;IAEA,IAAMQ,IAAI,CAAA,CAAA,EAAItZ,IAAQ8Y,CAAAA,CAAoB,EAAC,GAAIC,CAAAA,CAAqB,EAAE,CAAA,EAAA,EACpE5iC,CAAAA,CAAE,EAAC,CAAE,EACP,CAAA,OAAA,EAAUA,CAAAA,CAAE,EAAC,CAAE,EAAE,CAAA,CAAA,EACXojC,IAAI,CAAA,CAAA,EACRtZ,IAAS8Y,CAAAA,CAAqB,EAAC,GAAIE,CAAAA,CAAwB,EAC7D,CAAA,EAAA,EAAK9iC,CAAAA,CAAE,EAAC,CAAE,EAAE,CAAA,OAAA,EAAUA,CAAAA,CAAE,EAAC,CAAE,EAAE,CAAA,CAAA,EACvBqjC,IAAI,CAAA,CAAA,EACRP,CAAAA,CAAwB,EAAC,GAAID,CAAAA,CAAuB,EAAC,GAAIhZ,EAC3D,EAAA,EAAK7pB,CAAAA,CAAE,EAAC,CAAE,EAAE,CAAA,OAAA,EAAUA,CAAAA,CAAE,EAAC,CAAE,EAAE,CAAA,CAAA,EACvB2jB,IAAI,CAAA,CAAA,EAAIkf,CAAAA,CAAuB,EAAC,GAAIF,CAAAA,CAAoB,EAAC,GAAI7Y,EAAM,EAAA,EACvE9pB,CAAAA,CAAE,EAAC,CAAE,EACP,CAAA,OAAA,EAAUA,CAAAA,CAAE,EAAC,CAAE,EAAE,CAAA,CAAA;IAEjB,IAAI0iC,GAAc;QAehB,IAASY,IAAT,SAAgBnoC,EAAAA;YACd,IAAMooC,IAAKzB,GACT;gBACEa;gBACAC;gBACAE;gBACAD;aACF,CAAE1nC,GACJ;YACA,OAAOA,OAAM,IACT;gBACE;oBACEg1B,IAAOwS,CAAAA,CAAoB,EAAC,GAAIY;oBAChCnT,IAAMuS,CAAAA,CAAoB,EAAC,GAAIY;iBACjC;gBACA;oBAACpT,IAAOwS,CAAAA,CAAoB,EAAC;oBAAGvS;iBAClC;aAAA,GACAj1B,OAAM,IACN;gBACE;oBACEg1B,IAAOtG,IAAQ+Y,CAAAA,CAAqB,EAAC,GAAIW;oBACzCnT,IAAMwS,CAAAA,CAAqB,EAAC,GAAIW;iBAClC;gBACA;oBAACpT,IAAOtG;oBAAOuG,IAAMwS,CAAAA,CAAqB,EAAE;iBAC9C;aAAA,GACAznC,OAAM,IACN;gBACE;oBACEg1B,IAAOtG,IAAQiZ,CAAAA,CAAwB,EAAC,GAAIS;oBAC5CnT,IAAMtG,IAASgZ,CAAAA,CAAwB,EAAC,GAAIS;iBAC9C;gBACA;oBAACpT,IAAOtG,IAAQiZ,CAAAA,CAAwB,EAAC;oBAAG1S,IAAMtG;iBACpD;aAAA,GACA;gBACE;oBACEqG,IAAO0S,CAAAA,CAAuB,EAAC,GAAIU;oBACnCnT,IAAMtG,IAAS+Y,CAAAA,CAAuB,EAAC,GAAIU;iBAC7C;gBACA;oBAACpT;oBAAMC,IAAMtG,IAAS+Y,CAAAA,CAAuB,EAAE;iBACjD;aACN;QAAA,GApDIj4B,IAAQ83B,EAAa,OAAA,CAAQ,CAAA;QAEjC,IAAI,CAACA,EAAa,QAAA,CAAS,CAAA,IAAO,MAAM,IAAI,MAAM;QAElD,IAAI93B,MAAU,CAAA,GACZA,IAAQ;aAER,MAAO,CAAC83B,CAAAA,CAAa93B,EAAK,EACxBA,IAAAA,CAASA,IAAQ,CAAA,IAAK;QA8C1B,IAAI5J,IAAS,IAEPwiC,IAAOF,EAAO14B,IAEhBsZ,IAAI,CAAA,CAAA,EAAIsf,CAAAA,CAAK,EAAE,CAAA,EAAA,EAAKxjC,CAAAA,CAAAA,CAAG4K,IAAQ,CAAA,IAAK,EAAC,CAAE,EAAE,CAAA,OAAA,EAAU44B,CAAAA,CAAK,EAAE,CAAA,CAAA,EAE1D9jC,IAAM;QACV,MAAOA,IAAM,KAAKgjC,CAAAA,CAAAA,CAAc93B,IAAQlL,CAAAA,IAAO,EAAC,EAAGA,IACjDsB,KAAUkjB,IAAI,KACdA,IAAI;YAACif;YAAGC;YAAGC;YAAG1f;SAAC,CAAA,CAAG/Y,IAAQlL,CAAAA,IAAO,EAAC;QAEpC,IAAM2L,KAAAA,CAAOT,IAAQlL,CAAAA,IAAO;QAG5BsB,KAAUkjB,EAAE,KAAA,CAAM,IAAG,CAAE,EAAC;QAExB,IAAMuf,KAAOH,EAAOj4B;QACpB,OAAArK,KAAU,CAAA,EAAA,EAAKhB,CAAAA,CAAAA,CAAGqL,KAAM,CAAA,IAAK,EAAC,CAAE,EAAE,CAAA,OAAA,EAAUo4B,EAAAA,CAAK,EAAE,CAAA,CAAA,EAE5CziC;IACT;IAGA,OAAO,CAAA,CAAA,EAAImvB,IAAOwS,CAAAA,CAAoB,EAAE,CAAA,CAAA,EAAIvS,EAAG,CAAA,EAAI+S,EAAC,CAAA,EAAIC,EAAC,CAAA,EAAIC,EAAC,CAAA,EAAI1f,EAAC,CACrE;AAAA;AC/RA,SAAS+f,GAAwBz7B,CAAAA,EAAWC,CAAAA,EAAWsjB,CAAAA;IACrD,OACEA,CAAAA,CAAMvjB,IAAI,QAAO,KAAMujB,CAAAA,CAAMtjB,IAAI,QAAO,IACxCsjB,CAAAA,CAAMvjB,IAAI,QAAO,KAAMujB,CAAAA,CAAMtjB,IAAI,QAAO,IACxCsjB,CAAAA,CAAMvjB,IAAI,QAAO,KAAMujB,CAAAA,CAAMtjB,IAAI,QAErC;AAAA;AAEO,SAASy7B,GACd,EACE,IAAAtjC,CAAAA,EAEA,mBAAAujC,CAAAA,EACA,YAAAC,CAAAA,EACA,YAAAC,CAAAA,EACA,MAAA3T,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CACF,EAAA,EAUA0B,CAAAA;IAQA,IAAI,CAAA,CALFA,EAAM,cAAA,IACNA,EAAM,gBAAA,IACNA,EAAM,iBAAA,IACNA,EAAM,eAAA,GAEQ,OAAO;IAMvB,IAAMuY,IAAa,CAAA,UAAA,EAAa1jC,EAAE,CAAA;IAgBlC,OAAO;QAfMmmB,EACX,YACA;YACE,IAAIud;YACJ,aAAaH,IAAoB,CAAA,KAAA,EAAQA,EAAiB,CAAA,CAAA,GAAM,KAAA;QAClE,GACApd,EAAesd,GAAY;YACzB,GAAG3T;YACH,GAAGC;YACH,OAAAvG;YACA,QAAAC;YACA,GAAG+Z,KAA0B,KAAA;QAC/B;QAGYE;KAChB;AAAA;AAEe,SAARC,GACL,EACE,MAAA7T,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CAAAA,EACA,OAAAtuB,CAAAA,EACA,eAAAyoC,CAAAA,EACA,gBAAAC,CACF,EAAA,EASA1Y,CAAAA;IAEA,IAAM2Y,IAAa;QAAC;QAAa;QAAe;QAAgB;KAAY;IAG5E,IACE,CAACF,KACD,CAACE,EAAW,IAAA,CAAMC,CAAAA,IAAc5Y,CAAAA,CAAM4Y,IAAY,QAAQ,GAE1D,OAAO;IAET,IAAIC,IAAa,IAEbz5B,IAAQ;IACZ,MACEA,IAAQ,KACR84B,GACES,CAAAA,CAAWv5B,EAAK,EAChBu5B,CAAAA,CAAAA,CAAYv5B,IAAQ,CAAA,IAAK,EAAC,EAC1B4gB,IAGF5gB,IAAAA,CAASA,IAAQ,CAAA,IAAK;IAGxB,IAAI83B,IAAe;QAAC,CAAA;QAAO,CAAA;QAAO,CAAA;QAAO,CAAA;KAAK,EAC1C4B,IAAe,EAAC;IACpB,IAAA,IAASC,IAAK,GAAGA,IAAK,GAAGA,IAAM;QAC7B,IAAMppC,IAAAA,CAAKyP,IAAQ25B,CAAAA,IAAM,GACnBC,IAAAA,CAAM55B,IAAQ25B,IAAK,CAAA,IAAK,GAExBpgB,IAAIggB,CAAAA,CAAWhpC,EAAC,EAChBspC,IAAKN,CAAAA,CAAWK,EAAE;QAUxB,IARA9B,CAAAA,CAAavnC,EAAC,GAAI,CAAA,GAClBmpC,IAAe;YACb9Y,CAAAA,CAAMrH,IAAI,QAAO;YACjBqH,CAAAA,CAAMrH,IAAI,QAAO;YACjBqH,CAAAA,CAAMrH,IAAI,QAAO;YACjBA;SACF,EAEI,CAACuf,GAAwBvf,GAAGsgB,GAAIjZ,IAAQ;YAC1C,IAAM5H,IAAAA,CACH0gB,CAAAA,CAAa,EAAC,IAAK,CAAA,IAAA,CACnBL,KAAiB,CAACC,KACf1Y,CAAAA,CAAMrH,EAAE,OAAA,CAAQ,UAAU,WAAU,IAAK,CAAA;YAE3CP,KAAAA,CACFygB,KAAc7d,EAAe,QAAQ;gBACnC,OAAAqD;gBACA,QAAAC;gBACA,GAAGtuB,CAAAA;gBACH,MAAM;gBACN,QAAQyoC,IAAgB,SAASK,CAAAA,CAAa,EAAC;gBAC/C,gBAAgB1gB,IAAI;gBACpB,oBACE,CAACqgB,KAAiBK,CAAAA,CAAa,EAAC,KAAM,WAClC1gB,IAAI,IAAI,MAAMA,IACd,KAAA;gBACN,GAAG6e,GACD;oBAAE,MAAAtS;oBAAM,KAAAC;oBAAK,OAAAvG;oBAAO,QAAAC;gBAAO,GAC3B0B,GACAkX;YAEJ,EAAC,GAEHA,IAAe;gBAAC,CAAA;gBAAO,CAAA;gBAAO,CAAA;gBAAO,CAAA;aACvC;QAAA;IACF;IAEA,IAAIA,EAAa,IAAA,CAAK,UAAU;QAC9B,IAAM9e,IAAAA,CACH0gB,CAAAA,CAAa,EAAC,IAAK,CAAA,IAAA,CACnBL,KAAiB,CAACC,KACf1Y,CAAAA,CAAM8Y,CAAAA,CAAa,EAAC,CAAE,OAAA,CAAQ,UAAU,WAAU,IAAK,CAAA;QAEzD1gB,KAAAA,CACFygB,KAAc7d,EAAe,QAAQ;YACnC,OAAAqD;YACA,QAAAC;YACA,GAAGtuB,CAAAA;YACH,MAAM;YACN,QAAQyoC,IAAgB,SAASK,CAAAA,CAAa,EAAC;YAC/C,gBAAgB1gB,IAAI;YACpB,oBACE,CAACqgB,KAAiBK,CAAAA,CAAa,EAAC,KAAM,WAClC1gB,IAAI,IAAI,MAAMA,IACd,KAAA;YACN,GAAG6e,GACD;gBAAE,MAAAtS;gBAAM,KAAAC;gBAAK,OAAAvG;gBAAO,QAAAC;YAAO,GAC3B0B,GACAkX;QAEJ,EAAC;IAEL;IAEA,OAAO2B;AACT;AC7Ke,SAARK,GACL,EACE,IAAArkC,CAAAA,EACA,MAAA8vB,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CAAAA,EACA,QAAAkG,CAAAA,EACA,YAAA2U,CACF,EAAA,EASAnZ,CAAAA;IAEA,IAAMoZ,IAAAA,CACFpZ,EAAM,eAAA,IAA8B,CAAA,IAAA,CACrCmZ,IAAa,IAAKnZ,EAAM,WAAA,IAA0B,CAAA,GAC/CqZ,IAAAA,CACFrZ,EAAM,cAAA,IAA6B,CAAA,IAAA,CACpCmZ,IAAa,IAAKnZ,EAAM,UAAA,IAAyB,CAAA,GAC9CsZ,IAAAA,CACFtZ,EAAM,gBAAA,IAA+B,CAAA,IAAA,CACtCmZ,IAAa,IAAKnZ,EAAM,YAAA,IAA2B,CAAA,GAChDuZ,IAAAA,CACFvZ,EAAM,iBAAA,IAAgC,CAAA,IAAA,CACvCmZ,IAAa,IAAKnZ,EAAM,aAAA,IAA4B,CAAA,GAEjDwZ,IAAc;QAClB,GAAG7U,IAAOyU;QACV,GAAGxU,IAAMyU;QACT,OAAOhb,IAAQ+a,IAAaE;QAC5B,QAAQhb,IAAS+a,IAAYE;IAC/B;IA4BA,OA1BqBve,EACnB,QACA;QAAE,IAAAnmB;IAAG,GACLmmB,EAAe,QAAQ;QACrB,GAAGwe,CAAAA;QACH,MAAM;QACN,MAAMxZ,EAAM,gBAAA,GACR,CAAA,KAAA,EAAQA,EAAM,gBAAgB,CAAA,CAAA,CAAA,GAC9B,KAAA;IACN,KACEwY,GACE;QACE,MAAA7T;QACA,KAAAC;QACA,OAAAvG;QACA,QAAAC;QACA,OAAO;YACL,WAAWkG,KAAkB,KAAA;QAC/B;QACA,eAAe,CAAA;QACf,gBAAgB2U;IAClB,GACAnZ;AAKR;;ACxEA,IAAMyZ,KAAW;IACf,QAAQ;IACR,SAAS;IACT,MAAM;IACN,SAAS;IACT,OAAO;AACT;AAEO,SAASC,GACd,EACE,OAAArb,CAAAA,EACA,QAAAC,CACF,EAAA,EAIA0B,CAAAA,EACApG,CAAAA;IAEA,SAAS+f,EAAY3qC,CAAAA;QACnB,IAAMwqB,IAAMxqB,EAAI,KAAA,CAAMyqC,GAAS,MAAS;QAExC,IAAI,CAACjgB,GAAK,OAAO;QAEjB,IAAM,GAAG3vB,EAAK,GAAI2vB,GACZ,CAACyd,GAAQ/zB,IAAM,EAAE,CAAA,GAAIrZ,EAAM,KAAA,CAAM,MAAM,GAAA,CAAK,CAAA,IAAM,EAAE,IAAA,KACpD,EAAE,GAAA+uB,CAAAA,EAAG,GAAAL,CAAE,EAAA,GAAIqhB,GAAgB12B,GAAKmb,GAAOC;QAE7C,OAAO;YACL,MAAM;YACN,GAAG7E,EACDwd,GACArd,EAAe,QAAA,EACf,KAAK,IAAA,CAAK,KAAK,GAAA,CAAIyE,GAAO,KAAK,KAAK,GAAA,CAAIC,GAAQ,MAAM,KAAK,IAAA,CAAK,IAChE1E,GACA,CAAA;YAEF,IAAIH,EACFb,GACAgB,EAAe,QAAA,EACfyE,GACAzE,GACA,CAAA;YAEF,IAAIH,EACFlB,GACAqB,EAAe,QAAA,EACf0E,GACA1E,GACA,CAAA;QAEJ;IACF;IACA,SAASigB,EAAa7qC,CAAAA;QACpB,IAAMwqB,IAAMxqB,EAAI,KAAA,CAAMyqC,GAAS,OAAU;QAEzC,IAAI,CAACjgB,GAAK,OAAO;QAEjB,IAAM,GAAG3vB,EAAK,GAAI2vB,GACZ,CAACyd,GAAQ/zB,IAAM,EAAE,CAAA,GAAIrZ,EAAM,KAAA,CAAM,MAAM,GAAA,CAAK+E,CAAAA,IAAMA,EAAE,IAAA,KACpD,CAAC2nC,GAAIC,EAAE,GAAIS,EAAO,KAAA,CAAM,MACxB,EAAE,GAAAre,CAAAA,EAAG,GAAAL,CAAE,EAAA,GAAIqhB,GAAgB12B,GAAKmb,GAAOC;QAE7C,OAAO;YACL,MAAM;YACN,IAAI7E,EACF8c,KAAM,OACN3c,EAAe,QAAA,EACfyE,GACAzE,GACA,CAAA;YAEF,IAAIH,EACF+c,KAAM,OACN5c,EAAe,QAAA,EACf0E,GACA1E,GACA,CAAA;YAEF,IAAIH,EACFb,GACAgB,EAAe,QAAA,EACfyE,GACAzE,GACA,CAAA;YAEF,IAAIH,EACFlB,GACAqB,EAAe,QAAA,EACf0E,GACA1E,GACA,CAAA;QAEJ;IACF;IACA,SAASkgB,EAAU9qC,CAAAA;QACjB,IAAMwqB,IAAMxqB,EAAI,KAAA,CAAMyqC,GAAS,IAAO;QAEtC,IAAI,CAACjgB,GAAK,OAAO;QAEjB,IAAM,CAACugB,GAAU,EAAC,GAAIC,GAAgBxgB,CAAAA,CAAI,EAAE;QAE5C,OAAO;YACL,MAAM;YACN;YACA,aAAaugB;QACf;IACF;IACA,SAASE,EAAajrC,CAAAA;QACpB,IAAMwqB,IAAMxqB,EAAI,KAAA,CAAMyqC,GAAS,OAAU;QAEzC,IAAI,CAACjgB,GAAK,OAAO;QAEjB,IAAM,CAACugB,GAAUG,EAAM,GAAIF,GAAgBxgB,CAAAA,CAAI,EAAE;QAEjD,OAAO;YACL,MAAM;YACN,aAAaugB;YACb,QAAQG,EACL,KAAA,CAAM,KACN,GAAA,CAAKtrC,CAAAA,IACJA,EACG,KAAA,CAAM,KACN,GAAA,CAAI,CAACjD,GAAGgE,IACP8pB,EACE9tB,GACAiuB,EAAe,QAAA,EACfjqB,MAAM,IAAI0uB,IAAQC,GAClB1E,GACA,CAAA,IAGH,IAAA,CAAK,MAET,IAAA,CAAK;QACV;IACF;IACA,SAASugB,EAAWnrC,CAAAA;QAClB,IAAMwqB,IAAMxqB,EAAI,KAAA,CAAMyqC,GAAS,KAAQ;QAEvC,IAAI,CAACjgB,GAAK,OAAO;QAEjB,IAAM,CAAC4gB,GAAOnD,EAAM,GAAA,CAClBzd,CAAAA,CAAI,EAAC,CAAE,QAAA,CAAS,WAAWA,CAAAA,CAAI,EAAC,GAAI,CAAA,EAAGA,CAAAA,CAAI,EAAC,CAAE,IAAA,GAAM,QAAA,CAAA,EACpD,KAAA,CAAM,UACF6gB,IAAYpY,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB,gBAAgBgV,GAAQ,CAAA,IACzDhsB,IAAI,OAAO,MAAA,CAAOovB,GACrB,GAAA,CAAK9pC,CAAAA,IAAM,OAAOA,IAClB,GAAA,CACC,CAACA,GAAGZ,IACF8pB,EACElpB,GACAqpB,EAAe,QAAA,EACfjqB,MAAM,KAAKA,MAAM,IAAI2uB,IAASD,GAC9BzE,GACA,CAAA,MACG,IAELkb,IAAU,OAAO,MAAA,CAAO7S,CAAAA,GAAAA,uJAAAA,CAAAA,uBAAAA,EAAqB,UAAUmY,GAAO,CAAA,IACjE,GAAA,CAAK7pC,CAAAA,IAAM,OAAOA,IAClB,GAAA,CACC,CAACA,GAAGZ,IACF8pB,EACElpB,GACAqpB,EAAe,QAAA,EACfjqB,MAAM,KAAKA,MAAM,IAAI2uB,IAASD,GAC9BzE,GACA,CAAA,MACG,IAELhB,IAAIkc,CAAAA,CAAQ,EAAC,EACbvc,IAAIuc,CAAAA,CAAQ,EAAC,EACb1c,IAAIiG,IAAAA,CAASyW,CAAAA,CAAQ,EAAC,GAAIA,CAAAA,CAAQ,EAAC,GACnCzc,IAAIiG,IAAAA,CAAUwW,CAAAA,CAAQ,EAAC,GAAIA,CAAAA,CAAQ,EAAC;QAE1C,OAAI7pB,EAAE,IAAA,CAAMrc,CAAAA,IAAMA,IAAI,KAMb;YAAE,MAAM;YAAQ,GALbqoC,GACR;gBAAE,MAAMre;gBAAG,KAAKL;gBAAG,OAAOH;gBAAG,QAAQC;YAAE,GACvC;gBAAE,GAAG2H,CAAAA;gBAAO,GAAGqa,CAAU;YAAA;QAGF,IAGpB;YACL,MAAM;YACN,GAAAzhB;YACA,GAAAL;YACA,OAAOH;YACP,QAAQC;QACV;IACF;IAEA,OAAO;QACL,aAAAshB;QACA,cAAAE;QACA,WAAAC;QACA,cAAAG;QACA,YAAAE;IACF;AACF;AAEA,SAASH,GAAgBhrC,CAAAA;IACvB,IAAM,GAAG+qC,IAAW,SAAA,EAAWphB,EAAC,GAC9B3pB,EAAI,OAAA,CAAQ,UAAU,IAAI,KAAA,CAAM,gCAAgC,EAAC;IAEnE,OAAO;QAAC+qC;QAAUphB;KACpB;AAAA;AAEA,SAASihB,GAAgBj1B,CAAAA,EAAkB6wB,CAAAA,EAAgBC,CAAAA;IACzD,IAAMvyB,IAAMyB,EAAS,KAAA,CAAM,MACrB6U,IAAkD;QACtD,GAAGtW,CAAAA,CAAI,EAAC,IAAK;QACb,GAAGA,CAAAA,CAAI,EAAC,IAAK;IACf;IAEA,OAAAA,EAAI,OAAA,CAAStU,CAAAA;QACPA,MAAM,QACR4qB,EAAI,CAAA,GAAI,IACC5qB,MAAM,WACf4qB,EAAI,CAAA,GAAIic,IACC7mC,MAAM,SACf4qB,EAAI,CAAA,GAAI,IACC5qB,MAAM,UACf4qB,EAAI,CAAA,GAAIgc,IACC5mC,MAAM,YAAA,CACf4qB,EAAI,CAAA,GAAIgc,IAAS,GACjBhc,EAAI,CAAA,GAAIic,IAAS,CAAA;IAIrB,IAEOjc;AACT;AC3OO,SAAS8gB,GAAczlC,CAAAA;IAC5B,OAAO,CAAA,UAAA,EAAaA,EAAE,CACxB;AAAA;AACO,SAAS0lC,GAAY1lC,CAAAA;IAC1B,OAAO,CAAA,KAAA,EAAQylC,GAAczlC,GAAG,CAAA,CAClC;AAAA;AAEO,SAAS2lC,GACd5rC,CAAAA,EAWAoxB,CAAAA,EACApG,CAAAA;IAEA,IAAIoG,EAAM,QAAA,KAAa,QAAQ,OAAO;IAEtC,IAAMzY,IAASmyB,GAAkB9qC,GAAGoxB,GAAOpG,IACrC6gB,IAAWza,EAAM,QAAA,EAEnBgV,IAAsD;QAAE,MAAM;IAAG;IAErE,KAAA,IAAWrpC,KAAK,OAAO,IAAA,CAAK4b,GAE1B,IADAytB,IAAMztB,CAAAA,CAAO5b,EAAC,CAAE8uC,IACZzF,GAAK;IAGX,IAAIA,GAAK;QACP,IAAM,EAAE,MAAArjC,CAAAA,EAAM,GAAG+oC,GAAK,GAAI1F;QAC1B,OAAOha,EACL,YACA;YACE,IAAIsf,GAAc1rC,EAAE,EAAE;YACtB,aAAaA,EAAE,eAAA;YACf,WAAW,CAAA,UAAA,EAAaA,EAAE,IAAI,CAAA,EAAA,EAAKA,EAAE,GAAG,CAAA,CAAA,CAC1C;QAAA,GACAosB,EAAerpB,GAAM+oC;IAEzB;IACA,OAAO;AACT;AC1Ce,SAARxR,GACL,EACE,MAAAvE,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CAAAA,EACA,MAAAryB,CAAAA,EACA,QAAAu4B,CAAAA,EACA,IAAA3vB,CAAAA,EACA,iBAAA8lC,CAAAA,EACA,KAAA1c,CACF,EAAA,EAWA+B,CAAAA,EACA0U,CAAAA;IAEA,IAAIkG,IAAmB,IACjBH,IACJza,EAAM,QAAA,IAAYA,EAAM,QAAA,KAAa,SACjCwa,GACE;QAAE,MAAA7V;QAAM,KAAAC;QAAK,OAAAvG;QAAO,QAAAC;QAAQ,MAAAryB;QAAM,IAAA4I;QAAI,QAAA2vB;QAAQ,iBAAAmW;QAAiB,KAAA1c;IAAI,GACnE+B,GACA0U,KAEF;IAEN,IAAI1U,EAAM,QAAA,KAAa,YAAY,CAAC/B,GAClC2c,IAAmB;SACd;QACL,IAAM95B,IAAM25B,IAAW,CAAA,WAAA,EAAc5lC,EAAE,CAAA,GAAKylC,GAAczlC;QAE1D+lC,IAAmB5f,EACjB,YACA;YACE,IAAIla;YACJ,aAAa65B;QACf,GACA3f,EAAe/uB,IAAO,SAAS,QAAQ;YACrC,GAAG04B;YACH,GAAGC;YACH,OAAAvG;YACA,QAAAC;YACA,GAAGryB,KAAc,KAAA;QACnB;IAEJ;IAEA,IAAMitC,IAAcA,GAClB;QACE,IAAI,CAAA,UAAA,EAAarkC,EAAE,CAAA;QACnB,MAAA8vB;QACA,KAAAC;QACA,OAAAvG;QACA,QAAAC;QACA,QAAAkG;QACA,YAAY,CAAAvG;IACd,GACA+B;IAGF,OAAOya,IAAWG,IAAmB1B;AACvC;AC1EA,IAAM2B,KAAkBhmC,CAAAA,IAAe,CAAA,UAAA,EAAaA,EAAE,CAAA;AAEtD,eAAOimC,GACLlsC,CAAAA,EAOAoxB,CAAAA,EACApG,CAAAA;IAEA,IAAI,CAACoG,EAAM,SAAA,EAAW,OAAO;QAAC;QAAI;KAAE;IACpC,IAAM,EAAE,MAAA2E,CAAAA,EAAM,KAAAC,CAAAA,EAAK,OAAAvG,CAAAA,EAAO,QAAAC,CAAAA,EAAQ,IAAAzpB,CAAG,EAAA,GAAIjG,GACnCyyB,IAAYrB,EAAM,SAAA,EAClBloB,IAASupB,EAAU,MAAA;IACzB,IAAI,CAACvpB,GAAQ,OAAO;QAAC;QAAI;KAAE;IAC3B,IAAMijC,IAAOF,GAAehmC,IAExBmmC,IAAO;IAEX,IAAA,IAASrrC,IAAI,GAAGA,IAAImI,GAAQnI,IAAK;QAC/B,IAAM2K,IAAI+mB,CAAAA,CAAU1xB,EAAC,EAEf,CAACmR,GAAKm6B,EAAG,GAAI,MAAMzG,GACvB;YAAE,IAAI,CAAA,EAAGuG,EAAI,CAAA,EAAIprC,EAAC,CAAA;YAAI,MAAAg1B;YAAM,KAAAC;YAAK,OAAAvG;YAAO,QAAAC;QAAO,GAC/ChkB,GACAsf,GACA;QAGFohB,KACEC,IACAjgB,EAAe,QAAQ;YACrB,GAAG;YACH,GAAG;YACH,OAAAqD;YACA,QAAAC;YACA,MAAM,CAAA,KAAA,EAAQxd,EAAG,CAAA,CACnB;QAAA;IACJ;IAEA,OAAAk6B,IAAOhgB,EAAe,QAAQ;QAAE,IAAI+f;IAAK,GAAGC,IAErC;QAACD;QAAMC;KAChB;AAAA;ACtCA,eAAOE,GACL,EACE,IAAArmC,CAAAA,EACA,MAAA8vB,CAAAA,EACA,KAAAC,CAAAA,EACA,OAAAvG,CAAAA,EACA,QAAAC,CAAAA,EACA,uBAAAuG,CAAAA,EACA,KAAA5G,CAAAA,EACA,OAAAqH,CACF,EAAA,EAUAtF,CAAAA,EACA0U,CAAAA;IAEA,IAAI1U,EAAM,OAAA,KAAY,QAAQ,OAAO;IAErC,IAAM0H,IAAU,CAAC,CAACzJ,GAEdtsB,IAAwB,QACxB6yB,IAAS,IACT+Q,IAAO,IACP4F,IAAkB,EAAC,EACnBjW,IAAU,GACVltB,IAAQ;IAERgoB,EAAM,eAAA,IACRmb,EAAM,IAAA,CAAKnb,EAAM,eAAyB,GAGxCA,EAAM,OAAA,KAAY,KAAA,KAAA,CACpBkF,IAAU,CAAClF,EAAM,OAAA,GAGfA,EAAM,SAAA,IAAA,CACRwE,IAASr2B,GACP;QACE,MAAAw2B;QACA,KAAAC;QACA,OAAAvG;QACA,QAAAC;IACF,GACA0B,EAAM,SAAA,EACN6E,GACA7E,EAAM,eACR,CAAA;IAGF,IAAIob,IAAmB;IACvB,IAAIpb,EAAM,eAAA,EAAiB;QACzB,IAAMiD,IAA0B,EAAC;QAEjC,IAAA,IACMjxB,IAAQ,GACZA,IAASguB,EAAM,eAAA,CAAwB,MAAA,EACvChuB,IACA;YACA,IAAMqpC,IAAcrb,EAAM,eAAA,CAAwBhuB,EAAK,EACjD8c,KAAQ,MAAM0lB,GAClB;gBAAE,IAAI3/B,IAAK,MAAM7C;gBAAO,OAAAqsB;gBAAO,QAAAC;gBAAQ,MAAAqG;gBAAM,KAAAC;YAAI,GACjDyW,GACA3G;YAEE5lB,MAEFmU,EAAY,OAAA,CAAQnU;QAExB;QAEA,KAAA,IAAWusB,KAAcpY,EACvBkY,EAAM,IAAA,CAAK,CAAA,KAAA,EAAQE,CAAAA,CAAW,EAAE,CAAA,CAAA,CAAG,GACnC9F,KAAQ8F,CAAAA,CAAW,EAAC,EAChBA,CAAAA,CAAW,EAAC,IAAA,CACdD,KAAoBC,CAAAA,CAAW,EAAC;IAGtC;IAEA,IAAM,CAACN,GAAMO,EAAE,GAAI,MAAMR,GACvB;QAAE,IAAAjmC;QAAI,MAAA8vB;QAAM,KAAAC;QAAK,OAAAvG;QAAO,QAAAC;IAAO,GAC/B0B,GACA0U;IAGFa,KAAQ+F;IACR,IAAM5U,IAASqU,IACX,CAAA,KAAA,EAAQA,EAAI,CAAA,CAAA,GACZ/a,EAAM,gBAAA,GACN,CAAA,KAAA,EAAQA,EAAM,gBAAgB,CAAA,CAAA,CAAA,GAC9B,KAAA,GAEE/zB,IAAOgrC,GACX;QAAE,MAAAtS;QAAM,KAAAC;QAAK,OAAAvG;QAAO,QAAAC;IAAO,GAC3B0B;IAEE/zB,KAAAA,CACF0F,IAAO,MAAA;IAGT,IAAM0zB,IAAarF,EAAM,oBAAA;IAErBsF,KAAAA,CACFttB,IAAQgjB,EAAe,QAAQ;QAC7B,GAAG2J;QACH,GAAGC;QACH,OAAAvG;QACA,QAAAC;QACA,MAAM;QACN,QAAQ;QACR,gBAAgB;QAChB,WAAWkG,KAAU,KAAA;QACrB,aAAaa,IAAa,CAAA,KAAA,EAAQA,EAAU,CAAA,CAAA,GAAM,KAAA;IACpD,EAAC;IAGH,IAAM,EAAE,gBAAAkW,CAAAA,EAAgB,QAAQjR,CAAU,EAAA,GAAItK,GAExC2a,IACJY,MAAmB,SACf,CAAA,gBAAA,EAAmB1mC,EAAE,CAAA,CAAA,GACrBwwB,IACA,CAAA,KAAA,EAAQA,EAAU,CAAA,CAAA,GAClBrF,EAAM,QAAA,GACNua,GAAY1lC,KACZ,KAAA,GAEA2mC,KAAOtS,GACX;QAAE,MAAAvE;QAAM,KAAAC;QAAK,OAAAvG;QAAO,QAAAC;QAAQ,MAAAryB;QAAM,IAAA4I;QAAI,QAAA2vB;QAAQ,iBAAAmW;QAAiB,KAAA1c;IAAI,GACnE+B,GACA0U,IAMEnP,KAAQ4V,EACT,GAAA,CAAKM,CAAAA,IACJzgB,EAAerpB,GAAM;YACnB,GAAGgzB;YACH,GAAGC;YACH,OAAAvG;YACA,QAAAC;YACA,MAAAmd;YACA,GAAGxvC,KAAc,KAAA;YACjB,WAAWu4B,KAAkB,KAAA;YAC7B,aAAamW;YACb,OAAOrQ,IAAY,CAAA,OAAA,EAAUA,EAAS,CAAA,GAAK,KAAA;YAC3C,MAAM5D;QACR,IAED,IAAA,CAAK,KAEFgV,KAAavD,GACjB;QACE,IAAAtjC;QACA,MAAA8vB;QACA,KAAAC;QACA,OAAAvG;QACA,QAAAC;QACA,mBAAmB+G;QACnB,YAAYp5B;QACZ,YAAY0F;IACd,GACAquB;IAIF,IAAI0H,GAAS;QAEX,IAAM0R,IAAAA,CACFpZ,EAAM,eAAA,IAA8B,CAAA,IAAA,CACpCA,EAAM,WAAA,IAA0B,CAAA,GAC9BqZ,IAAAA,CACFrZ,EAAM,cAAA,IAA6B,CAAA,IAAA,CACnCA,EAAM,UAAA,IAAyB,CAAA,GAC7BsZ,IAAAA,CACFtZ,EAAM,gBAAA,IAA+B,CAAA,IAAA,CACrCA,EAAM,YAAA,IAA2B,CAAA,GAC/BuZ,KAAAA,CACFvZ,EAAM,iBAAA,IAAgC,CAAA,IAAA,CACtCA,EAAM,aAAA,IAA4B,CAAA,GAEhC2b,KACJ3b,EAAM,SAAA,KAAc,YAChB,aACAA,EAAM,SAAA,KAAc,UACpB,mBACA;QAENuF,MAASvK,EAAe,SAAS;YAC/B,GAAG2J,IAAOyU;YACV,GAAGxU,IAAMyU;YACT,OAAOhb,IAAQ+a,IAAaE;YAC5B,QAAQhb,IAAS+a,IAAYE;YAC7B,MAAMtb;YACN,qBAAA0d;YACA,WAAWnX,KAAkB,KAAA;YAC7B,OAAO8F,IAAY,CAAA,OAAA,EAAUA,EAAS,CAAA,GAAK,KAAA;YAC3C,aAAa,CAAA,eAAA,EAAkBz1B,EAAE,CAAA,CAAA;YACjC,MAAMkmC,IAAO,CAAA,KAAA,EAAQA,EAAI,CAAA,CAAA,GAAM,CAAA,eAAA,EAAkBlmC,EAAE,CAAA,CACrD;QAAA;IACF;IAEA,IAAI6mC,IAAY;QACdnG,KAAQmG,EAAAA,CAAW,EAAC;QACpB,IAAMnD,IAAamD,EAAAA,CAAW,EAAC;QAE/BnW,MAASiT,GACP;YACE,MAAA7T;YACA,KAAAC;YACA,OAAAvG;YACA,QAAAC;YACA,OAAO;gBACL,WAAWkG,KAAkB,KAAA;gBAG7B,aAAa,CAAA,KAAA,EAAQ+T,EAAU,CAAA,CACjC;YAAA;QACF,GACAvY;IAEJ;IAGA,IAAM5R,IAASkY,GACb;QACE,OAAAjI;QACA,QAAAC;QACA,IAAAzpB;QACA,SAAAqwB;QACA,OAAOlK,EAAerpB,GAAM;YAC1B,GAAGgzB;YACH,GAAGC;YACH,OAAAvG;YACA,QAAAC;YACA,MAAM;YACN,QAAQ;YACR,gBAAgB;YAChB,GAAGryB,KAAc,KAAA;YACjB,WAAWu4B,KAAkB,KAAA;YAC7B,aAAamW;YACb,MAAMjU;QACR;IACF,GACA1G;IAGF,OAAA,CACGuV,IAAOva,EAAe,QAAQ,CAAC,GAAGua,KAAQ,EAAA,IAAA,CAC1CnnB,IAASA,CAAAA,CAAO,EAAC,GAAI,EAAA,IACtBotB,KAAAA,CACCtW,MAAY,IAAI,CAAA,YAAA,EAAeA,EAAO,EAAA,CAAA,GAAO,EAAA,IAAA,CAC7CkW,KAAoB7V,EAAAA,IAAAA,CACpBL,MAAY,IAAI,SAAS,EAAA,IAAA,CACzB9W,IAASA,CAAAA,CAAO,EAAC,GAAI,EAAA,IACtBpW;AAEJ;ACtRA,IAAO4jC,KAAQ,IAEP;ACUR,IAAMC,KAAa,IAAI,OAAOD,MAAoB,KAY5CE,KAAc;IAClB,OAAOD;IACP,QAAQ;IACR,MAAM;AACR,GAEMzsC,KAAO;IACX,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,YAAY;IACZ,SAAS;AACX,GAOa2sC,KAAU,OAAO,IAAA,CAAK;IAAE,GAAG3sC,EAAAA;IAAM,GAAG0sC,EAAY;AAAA;AACtD,SAASE,GAAcpjB,CAAAA;IAC5B,OAAOmjB,GAAQ,QAAA,CAASnjB;AAC1B;AAEO,SAASqjB,GACdxhB,CAAAA,EACAE,CAAAA;IAEA,KAAA,IAAWxE,KAAK,OAAO,IAAA,CAAK2lB,IAC1B,IAAIA,EAAAA,CAAY3lB,EAAC,CAAE,IAAA,CAAKsE,IACtB,OAAO;QAACtE;KAAC;IAIb,IAAM+lB,IAAY,OAAO,IAAA,CAAK9sC,IAAM,MAAA,CAAQ+sC,CAAAA,IAC1C/sC,EAAAA,CAAK+sC,EAAI,CAAE,IAAA,CAAK1hB;IAGlB,IAAIyhB,EAAU,MAAA,KAAW,GACvB,OAAO;QAAC;KAAS;IAGnB,IAAIvhB,GAAQ;QACV,IAAM3oB,IAAQkqC,EAAU,SAAA,CAAWC,CAAAA,IAASA,MAASxhB;QACjD3oB,MAAU,CAAA,KAAA,CACZkqC,EAAU,MAAA,CAAOlqC,GAAO,IACxBkqC,EAAU,OAAA,CAAQvhB,EAAM;IAE5B;IAEA,OAAOuhB;AACT;AAEO,SAASE,GAAgBzhB,CAAAA;IAC9B,IAAIA,GACF,OAAOohB,GAAQ,IAAA,CAAMrjB,CAAAA,IAAMA,EAAE,WAAA,GAAc,UAAA,CAAWiC,EAAO,WAAA;AAEjE;ACvCA,gBAAOkT,GACLwO,CAAAA,EACAxS,CAAAA;IArDF,IAAAyG;IA2DE,IAAMzM,IAAO,MAAM9L,MACb,EACJ,IAAAljB,CAAAA,EACA,gBAAA+kB,CAAAA,EACA,QAAAnoB,CAAAA,EACA,MAAAs4B,CAAAA,EACA,OAAAzE,CAAAA,EACA,QAAA3K,CAAAA,EACA,WAAAqP,IAAY,CAAA,CAAA,EACZ,gBAAAC,CAAAA,EACA,yBAAAC,CAAAA,EACA,aAAAoS,CACF,EAAA,GAAIzS;IAGJ,IAAIwS,MAAY,QAAQ,OAAOA,IAAY,KACzC,OAAA,OACA,OACO;IAIT,IAAI,CAACnjB,GAAemjB,MAAY,OAAOA,EAAQ,IAAA,IAAS,YAAY;QAClE,IAAIE;QAEJ,IAAI,CAACrjB,GAAemjB,IAElBE,IAAO3S,GAAe,OAAOyS,IAAUxS,IACvC,MAAA,CAAO,MAAM0S,EAAK,IAAA,EAAK,EAAG,KAAA;aACrB;YACL,IAAIpjB,GAAQkjB,EAAQ,IAAgB,GAClC,MAAM,IAAI,MAAM;YAMlBE,IAAO1O,GAAQwO,EAAQ,IAAA,CAAkBA,EAAQ,KAAK,GAAGxS,IACzD,MAAA,CAAO,MAAM0S,EAAK,IAAA,EAAK,EAAG,KAC5B;QAAA;QAEA,MAAMA,EAAK,IAAA;QACX,IAAM38B,KAAS;QACf,OAAA,CAAQ,MAAM28B,EAAK,IAAA,CAAK38B,GAAM,EAAG,KACnC;IAAA;IAGA,IAAM,EAAE,MAAAjO,CAAAA,EAAM,OAAA3B,CAAM,EAAA,GAAIqsC;IACxB,IAAIrsC,KAASopB,GAA+BppB,IAC1C,MAAM,IAAI,MACR;IAGJ,IAAI,EAAE,OAAAgwB,CAAAA,EAAO,UAAA1G,CAAAA,EAAU,IAAAkjB,CAAAA,EAAI,MAAMC,IAAa9hB,CAAO,EAAA,GAAI3qB,KAAS,CAAC,GAC7D0sC,IAAYN,GAAgBK;IAGlC,IAAID,GAAI;QACN,IAAMG,IAAWL,EAAYE,GAAIxc;QACjCA,IAAQ,OAAO,MAAA,CAAO2c,GAAU3c;IAClC;IAEA,IAAMhrB,IAAO6uB,EAAK,IAAA,CAAK,MAAA;IACvBpyB,EAAO,WAAA,CAAYuD,GAAMvD,EAAO,aAAA;IAEhC,IAAM,CAACmrC,GAAeC,EAAmB,GAAI,MAAMlZ,GACjD3uB,GACArD,GACAioB,GACAoG,GACAhwB,IAMI60B,IACJ+X,EAAc,SAAA,KAAchjB,EAAe,SAAA;IAqB7C,IApBKiL,KAAAA,CACD+X,EAAc,SAAA,CAAkB,QAAA,GAAWhjB,EAAe,SAAA,GAAA,CAM5DgjB,EAAc,QAAA,KAAa,YAC1BA,EAAc,QAAA,IAAYA,EAAc,QAAA,KAAa,MAAA,KAAA,CAEtDC,EAAoB,oBAAA,GAAuB,CAAA,UAAA,EAAahoC,EAAE,CAAA,EAC1DgoC,EAAoB,gBAAA,GAAmB,CAAA,UAAA,EAAahoC,EAAE,CAAA,GAGpD+nC,EAAc,SAAA,IAAA,CAChBC,EAAoB,gBAAA,GAAmB,CAAA,UAAA,EAAahoC,EAAE,CAAA,GAKpD+nC,EAAc,cAAA,KAAmB,QAAQ;QAC3C,IAAME,IAAiB;YAAE,OAAO;QAAG;QACnCD,EAAoB,gCAAA,GAAmCC,GACvDF,EAAc,gCAAA,GAAmCE;IACnD;IAGA,IAAMC,IAAqB1jB,GAAkBC,IACvC0jB,IAAyC,EAAC,EAE5CrtC,KAAI,GACFstC,KAA2D,EAAC;IAClE,KAAA,IAAWtuC,KAASouC,EAAoB;QACtC,IAAMR,KAAO1O,GAAOl/B,GAAO;YACzB,IAAIkG,IAAK,MAAMlF;YACf,aAAaitC;YACb,gBAAgBC;YAChB,uBAAuB,CAAA;YACvB,QAAQ7nC;YACR,MAAA+0B;YACA,WAAAC;YACA,OAAA1E;YACA,gBAAA2E;YACA,yBAAAC;YACA,QAAQwS;YACR,aAAAJ;YACA,gBAAgBzS,EAAQ,cAC1B;QAAA;QACIK,IACF+S,GAAoB,IAAA,IAAK,CAAM,MAAMV,GAAK,IAAA,EAAK,EAAG,KAAA,IAAiB,EAAG,IAEtE,MAAMA,GAAK,IAAA,IAEbS,EAAU,IAAA,CAAKT;IACjB;IACA,MAAMU;IACN,KAAA,IAAWV,KAAQS,EAAW,MAAMT,EAAK,IAAA;IAGzC,IAAM,CAAC3jB,IAAGL,EAAC,GAAI,OACX,EAAE,MAAAoM,CAAAA,EAAM,KAAAC,CAAAA,EAAK,OAAAvG,CAAAA,EAAO,QAAAC,EAAO,EAAA,GAAItpB,EAAK,iBAAA;IAExC2vB,KAAQ/L,IACRgM,KAAOrM;IAEP,IAAI2kB,KAAuB,IACvBC,KAAmB,IACnBC,KAAmB,IAKjB,EAAE,UAAUC,CAAAA,EAAc,GAAGpd,GAAU,GAAIjwB;IAajD,IAAA,CAZAsgC,IAAAzG,EAAQ,cAAA,KAAR,QAAAyG,EAAA,IAAA,CAAAzG,GAAyB;QACvB,MAAAlF;QACA,KAAAC;QACA,OAAAvG;QACA,QAAAC;QACA,MAAA3sB;QACA,OAAOsuB;QACP,KAAKoc,EAAQ,GAAA;QACb,aAAanjB,GAAemkB,KAAgB,KAAA,IAAYA;IAC1D,IAGI1rC,MAAS,OAAO;QAClB,IAAMssB,IAAM2e,EAAc,KAAA;QAC1BO,KAAmB,MAAMjC,GACvB;YACE,IAAArmC;YACA,MAAA8vB;YACA,KAAAC;YACA,OAAAvG;YACA,QAAAC;YACA,KAAAL;YACA,uBAAA4G;YACA,OAAAS;QACF,GACAsX,GACAC;IAEJ,OAAA,IAAWlrC,MAAS,OAAO;QAGzB,IAAMuuB,IAAe0c,EAAc,KAAA,EAC7B3e,KAAM,MAAMqC,GAAe+b,GAASnc;QAC1Cid,KAAmB,MAAMjC,GACvB;YACE,IAAArmC;YACA,MAAA8vB;YACA,KAAAC;YACA,OAAAvG;YACA,QAAAC;YACA,KAAAL;YACA,uBAAA4G;YACA,OAAAS;QACF,GACAsX,GACAC;IAEJ,OAAO;QACL,IAAM1T,IAAUnJ,KAAA,OAAA,KAAA,IAAAA,EAAO,OAAA;QACvB,IACEruB,MAAS,SACT2nB,KACA,OAAOA,KAAa,YACpB6P,MAAY,UACZA,MAAY,QAEZ,MAAM,IAAI,MACR;QAGJgU,KAAmB,MAAMjC,GACvB;YAAE,IAAArmC;YAAI,MAAA8vB;YAAM,KAAAC;YAAK,OAAAvG;YAAO,QAAAC;YAAQ,uBAAAuG;YAAuB,OAAAS;QAAM,GAC7DsX,GACAC;IAEJ;IAGA,KAAA,IAAWN,KAAQS,EACjBE,MAAAA,CAAyB,MAAMX,EAAK,IAAA,CAAK;QAAC5X;QAAMC;KAAI,CAAA,EAAG,KAAA;IAKzD,OAAIgY,EAAc,gCAAA,IAAA,CAChBQ,MAAoBpiB,EAClB,YACA;QACE,IAAI,CAAA,WAAA,EAAcnmB,EAAE,CAAA;QACpB,aAAa+nC,EAAc,oBAAA,GACvB,CAAA,KAAA,EAAQA,EAAc,oBAAoB,CAAA,CAAA,CAAA,GAC1C,KAAA;IACN,GACCA,EAAc,gCAAA,CAAyC,KAC1D,CAAA,GAGKQ,KAAmBD,KAAmBD;AAC/C;;AChSA,IAAMI,KAA2B;AAgCjC,SAASC,GACPC,CAAAA,EACAxd,CAAAA,EACA,CAACyd,GAAeC,EAAY,EAC5B,CAACC,GAAYC,EAAS;IAEtB,IAAIH,MAAkBE,GAEpB,OAAKF,IACD,CAACE,KAGDF,MAAkBD,IAAe,CAAA,IACjCG,MAAeH,IAAe,IAG9BA,MAAW,OAAOC,MAAkB,OACpCD,MAAW,OAAOC,MAAkB,MAAY,CAAA,IAChDD,MAAW,OAAOG,MAAe,OACjCH,MAAW,OAAOG,MAAe,MAAY,IAG7CH,IAAS,MACPC,IAAgBD,KAAUG,IAAaH,IAClCG,IAAaF,IAClBA,IAAgBD,IAAe,CAAA,IAC/BG,IAAaH,IAAe,IACzBC,IAAgBE,IAIrBH,IAASC,KAAiBD,IAASG,IAC9BF,IAAgBE,IACrBH,IAASC,IAAsB,CAAA,IAC/BD,IAASG,IAAmB,IACzBA,IAAaF,IA3BO;IA8B7B,IAAIC,MAAiBE,GAAW;QAE9B,IAAIF,MAAiB1d,GAAO,OAAO,CAAA;QACnC,IAAI4d,MAAc5d,GAAO,OAAO;IAClC;IAEA,OAAO,CAAA;AACT;AAEA,IAAqB6d,KAArB;IACE,YACA;IAAA,QAAQ,IAAI,IACZ;IAAA,YAAYC,CAAAA,CAA4B;QACtC,IAAA,CAAK,QAAA,CAASA;IAChB;IAGQ,IAAI,EACV,MAAA5rC,CAAAA,EACA,QAAAsrC,CAAAA,EACA,OAAAxd,CACF,EAAA,EAIG;QACD,IAAI,CAAC,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI9tB,IAClB,OAAO;QAGLsrC,MAAW,YAAA,CAAUA,IAAS,GAAA,GAC9BA,MAAW,UAAA,CAAQA,IAAS,GAAA,GAC5B,OAAOA,KAAW,YAAA,CACpBA,IAAS,OAAO,QAAA,CAASA,GAAQ,GAAE;QAErC,IAAMrtB,IAAQ;eAAI,IAAA,CAAK,KAAA,CAAM,GAAA,CAAIje;SAAK,EAElC6rC,IAAc5tB,CAAAA,CAAM,EAAC;QAIzB,IAAA,IAASxgB,IAAI,GAAGA,IAAIwgB,EAAM,MAAA,EAAQxgB,IAAK;YACrC,IAAM,GAAGquC,GAASC,EAAM,GAAIF,GACtB,GAAGG,GAASC,EAAM,GAAIhuB,CAAAA,CAAMxgB,EAAC;YAEjC4tC,GAAYC,GAAQxd,GAAO;gBAACge;gBAASC;aAAM,EAAG;gBAACC;gBAASC;aAAO,IAAI,KAAA,CAEnEJ,IAAc5tB,CAAAA,CAAMxgB,EAAC;QAEzB;QAEA,OAAOouC,CAAAA,CAAY,EACrB;IAAA;IAEO,SAASD,CAAAA,EAA4B;QAC1C,KAAA,IAAWM,KAAcN,EAAa;YACpC,IAAM,EAAE,MAAA5rC,CAAAA,EAAM,MAAAgsB,CAAAA,EAAM,MAAAie,CAAK,EAAA,GAAIiC;YAC7B,IAAIjC,KAAQ,CAACH,GAAcG,IACzB,MAAM,IAAI,MACR,CAAA,mCAAA,EAAsCA,EAAI,2CAAA,EAA8CJ,GAAQ,IAAA,CAC9F,MACD,CAAA,CACH;YAEF,IAAMsC,IAAQlC,KAAQmB,IAChBvT,IAAOuU,2KAAAA,CAAAA,UAAAA,CAAS,KAAA,CAEpB,YAAYpgB,IACRA,EAAK,MAAA,CAAO,KAAA,CACVA,EAAK,UAAA,EACLA,EAAK,UAAA,GAAaA,EAAK,UACzB,IACAA,GAEJ;gBAAE,WAAW,CAAA;YAAK,IAKdqgB,IAA2BxU,EAAK,gBAAA;YACtCA,EAAK,gBAAA,GAAoB+E,CAAAA;gBACvB,IAAM98B,IAAQusC,EAAyB,IAAA,CAAKxU,GAAM+E;gBAClD,OAAI98B,MAAU,KAEP+3B,EAAa,iBAAA,IACdA,EAAa,iBAAA,CAAkB,IAAA,CAAK+E,IAGnC98B;YACT,GAGK,IAAA,CAAK,WAAA,IAAA,CAAa,IAAA,CAAK,WAAA,GAAc+3B,CAAAA;YAE1C,IAAMyU,IAAQ,CAAA,EAAGtsC,EAAK,WAAA,GAAa,CAAA,EAAImsC,EAAK,CAAA;YAEvC,IAAA,CAAK,KAAA,CAAM,GAAA,CAAIG,MAClB,IAAA,CAAK,KAAA,CAAM,GAAA,CAAIA,GAAO,EAAE,GAE1B,IAAA,CAAK,KAAA,CAAM,GAAA,CAAIA,GAAO,IAAA,CAAK;gBAACzU;gBAAMqU,EAAW,MAAA;gBAAQA,EAAW,KAAK;aAAC;QACxE;IACF;IAEO,UACLlX,IAAW,EAAA,EACXkD,IAAa,GAAA,EACb,EACE,YAAAqU,IAAa,YAAA,EACb,YAAAC,IAAa,GAAA,EACb,WAAAC,IAAY,QACd,EAAA,EAKAhkB,CAAAA,EACY;QACZ,IAAI,CAAC,IAAA,CAAK,KAAA,CAAM,IAAA,EACd,MAAM,IAAI,MACR;QAIJ8jB,IAAAA,CAAc,MAAM,OAAA,CAAQA,KAAcA,IAAa;YAACA;SAAU,EAAG,GAAA,CAClEvsC,CAAAA,IAASA,EAAK,WAAA;QAEjB,IAAMie,IAAQ,EAAC;QACfsuB,EAAW,OAAA,CAASG,CAAAA;YAClB,IAAMC,IAAY,IAAA,CAAK,GAAA,CAAI;gBACzB,MAAMD;gBACN,QAAQF;gBACR,OAAOC;YACT;YACA,IAAIE,GAAW;gBACb1uB,EAAM,IAAA,CAAK0uB;gBACX;YACF;YAEA,IAAMC,IAAa,IAAA,CAAK,GAAA,CAAI;gBAC1B,MAAMF,IAAO;gBACb,QAAQF;gBACR,OAAOC;YACT;YAEA,IAAIG,GAAY;gBACd3uB,EAAM,IAAA,CAAK2uB;gBACX;YACF;QACF;QAGA,IAAMC,IAAO,MAAM,IAAA,CAAK,IAAA,CAAK,KAAA,CAAM,IAAA,KAC7BC,IAAqB,EAAC,EACtBC,IAAwB,EAAC,EACzBC,IAAkB,EAAC;QACzB,KAAA,IAAWhtC,KAAQ6sC,EACjB,IAAI,CAAAN,EAAW,QAAA,CAASvsC,IACxB,IAAIyoB,GAAQ;YACV,IAAMwhB,IAAOgD,GAAoBjtC;YAC7BiqC,IACEA,MAASxhB,IACXqkB,EAAmB,IAAA,CACjB,IAAA,CAAK,GAAA,CAAI;gBACP,MAAA9sC;gBACA,QAAQwsC;gBACR,OAAOC;YACT,MAGFM,EAAsB,IAAA,CACpB,IAAA,CAAK,GAAA,CAAI;gBACP,MAAA/sC;gBACA,QAAQwsC;gBACR,OAAOC;YACT,MAIJO,EAAgB,IAAA,CACd,IAAA,CAAK,GAAA,CAAI;gBACP,MAAAhtC;gBACA,QAAQwsC;gBACR,OAAOC;YACT;QAGN,OACEO,EAAgB,IAAA,CACd,IAAA,CAAK,GAAA,CAAI;YACP,MAAAhtC;YACA,QAAQwsC;YACR,OAAOC;QACT;QAKN,IAAMS,IAAqB,IAAI,KACzBC,IAAc,CAAC7gC,GAAc0b,IAAW,CAAA,CAAA;YAC5C,IAAMolB,IAAS;mBACVnvB;mBACA+uB;mBACAF;mBACC9kB,IAAW+kB,IAAwB,EACzC;aAAA;YAEA,IAAI,OAAOzgC,IAAS,KAClB,OAAI0b,IACKolB,CAAAA,CAAOA,EAAO,MAAA,GAAS,EAAC,GAEjC,KAAA;YAGF,IAAMlwC,IAAOoP,EAAK,UAAA,CAAW;YAC7B,IAAI4gC,EAAmB,GAAA,CAAIhwC,IAAO,OAAOgwC,EAAmB,GAAA,CAAIhwC;YAEhE,IAAM26B,IAAOuV,EAAO,IAAA,CAAK,CAACC,GAAOvtC,IAE7B,CAAC,CAACutC,EAAM,gBAAA,CAAiB/gC,MACxB0b,KAAYloB,MAAUstC,EAAO,MAAA,GAAS;YAI3C,OAAIvV,KACFqV,EAAmB,GAAA,CAAIhwC,GAAM26B,IAGxBA;QACT,GAEMjD,IAAW,CAAC0Y,GAA6BC,IAAc,CAAA,CAAA;YAtTjE,IAAAnP,GAAAC;YA0TM,OAAA,CAAA,CAFGkP,IAAAA,CAAclP,IAAAA,CAAAD,IAAAkP,EAAa,MAAA,KAAb,OAAA,KAAA,IAAAlP,EAAqB,GAAA,KAArB,OAAA,KAAA,IAAAC,EAA0B,aAAA,GAAgB,CAAA,KACzDiP,EAAa,QAAA,IACKA,EAAa,UAAA,GAActY;QACjD,GACMwY,IAAY,CAACF,GAA6BC,IAAc,CAAA,CAAA;YA5TlE,IAAAnP,GAAAC;YAgUM,OAAA,CAAA,CAFGkP,IAAAA,CAAclP,IAAAA,CAAAD,IAAAkP,EAAa,MAAA,KAAb,OAAA,KAAA,IAAAlP,EAAqB,GAAA,KAArB,OAAA,KAAA,IAAAC,EAA0B,cAAA,GAAiB,CAAA,KAC1DiP,EAAa,SAAA,IACMA,EAAa,UAAA,GAActY;QAClD,GAEM1f,IAAWjX,CAAAA,IACR8uC,EAAY9uC,GAAG,CAAA,IAGlBk3B,IAAS;YACb,KAAMl3B,CAAAA;gBACJ,IAAIA,MAAM,CAAA;AAAA,CAAA,EAAM,OAAO,CAAA;gBACvB,IAAMw5B,IAAOviB,EAAQjX;gBACrB,OAAKw5B,IAAAA,CACHA,EAAa,iBAAA,GAAoB,EAAC,EACpCA,EAAK,cAAA,CAAex5B,IACdw5B,EAAa,iBAAA,CAAkB,MAAA,GAAA,CACnCA,EAAa,iBAAA,GAAoB,KAAA,GAC5B,CAAA,CAAA,IAF6C,CAAA,CAAA,IAHlC,CAAA;YAMpB;YACA,UAAU,CACRx5B,GACAivC,IAAe,OAAOjvC,IAAM,MAAc4f,CAAAA,CAAM,EAAC,GAAIkvB,EAAY9uC,EAAC;gBASlE,IAAMovC,IAAI7Y,EAAS0Y,GAAc,CAAA,IAC3BvmB,IAAIymB,EAAUF,GAAc,CAAA,IAC5B/S,IAAchF,EAAO,MAAA,CAAOl3B,GAAGivC,IAC/B,EAAE,MAAAI,CAAAA,EAAM,MAAAC,CAAK,EAAA,GAAIL,EAAa,MAAA,CAAO,IAAA,EAErCM,IAAeH,IAAI1mB,GACnB8mB,KAAAA,CAAkBH,IAAAA,CAAQA,IAAOC,CAAAA,IAAQ,CAAA,IAAKC;gBAEpD,OAAOrT,IAAAA,CAAAA,CAAgB,MAAMrC,IAAa,CAAA,IAAK,CAAA,IAAK2V;YACtD;YACA,QAAQ,CACNxvC,GACAivC,IAAe,OAAOjvC,IAAM,MAAc4f,CAAAA,CAAM,EAAC,GAAIkvB,EAAY9uC,EAAC,GAAA,CAG/Du2B,EAAS0Y,KAAgBE,EAAUF,EAAY,IAAA,CAC/CpV,IAAa,GAAA;YAGlB,SAAS,CACP75B,GACAyvB,IAKO,IAAA,CAAK,OAAA,CAAQqf,GAAa9uC,GAAGyvB;YAEtC,QAAQ,CACNzvB,GACAyvB,IAOO,IAAA,CAAK,MAAA,CAAOqf,GAAa9uC,GAAGyvB;QAEvC;QAEA,OAAOyH;IACT;IAEQ,0BACNsC,CAAAA,EACAsV,CAAAA,EACA;QACA,IAAMW,IAAc,EAAC;QACnBjW,EAAa,iBAAA,GAAoBiW;QAEnC,IAAMC,IAAyBlW,EAAK,cAAA;QACpC,OAAAA,EAAK,cAAA,GAAiB,CAACx5B,GAAAA,GAAcmJ;YACnC,IAAMwmC,IAASD,EAAuB,IAAA,CAAKlW,GAAMx5B,MAAMmJ;YAEvD,IAAA,IAAS/J,IAAI,GAAGA,IAAIuwC,EAAO,MAAA,EAAQvwC,IAIjC,IAAIuwC,CAAAA,CAAOvwC,EAAC,CAAE,OAAA,KAAY,KAAA,GAAW;gBACnC,IAAMm/B,IAAOkR,EAAY,KAAA,IACnBG,IAAcd,EAAYvQ;gBAChC,IAAIqR,MAAgBpW,GAAM;oBACxB,IAAMqW,IAAQD,EAAY,WAAA,CAAYrR,IAEhC9a,IAAQ+V,EAAK,UAAA,GAAaoW,EAAY,UAAA,EACtC3rC,IAAI,IAAI8pC,2KAAAA,CAAAA,UAAAA,CAAS,IAAA;oBACvB9pC,EAAE,UAAA,GAAau1B,EAAK,UAAA,EACpBv1B,EAAE,QAAA,GAAW4rC,EAAM,IAAA,CAAK,QAAA,CAAS,GAAA,CAAKta,CAAAA;wBACpC,IAAMua,IAAgB;4BAAE,GAAGva,CAAQ;wBAAA;wBACnC,IAAA,IAASn6B,KAAK00C,EACR,OAAOA,CAAAA,CAAc10C,EAAC,IAAM,YAAA,CAC9B00C,CAAAA,CAAc10C,EAAC,IAAKqoB,CAAAA;wBAGxB,OAAOqsB;oBACT;oBACA,IAAMn1B,IAAI,IAAIozB,2KAAAA,CAAAA,UAAAA,CAAS,KAAA,CAAM;wBAC3B,GAAG8B,CAAAA;wBACH,cAAcA,EAAM,YAAA,GAAepsB;wBACnC,MAAMosB,EAAM,IAAA,GAAOpsB;wBACnB,MAAMosB,EAAM,IAAA,GAAOpsB;wBACnB,MAAMosB,EAAM,IAAA,GAAOpsB;wBACnB,MAAMosB,EAAM,IAAA,GAAOpsB;wBACnB,MAAMxf;oBACR;oBAEA0rC,CAAAA,CAAOvwC,EAAC,GAAIub;gBACd;YACF;YAGF,OAAOg1B;QACT,GAEO;YACLnW,EAAK,cAAA,GAAiBkW,GACpBlW,EAAa,iBAAA,GAAoB,KAAA;QACrC;IACF;IAEQ,QACNsV,CAAAA,EACApyC,CAAAA,EACA,EACE,UAAAi6B,CAAAA,EACA,eAAAS,IAAgB,CAClB,EAAA,EAIA;QACA,IAAMoC,IAAOsV,EAAYpyC,IACnBqzC,IAAU,IAAA,CAAK,yBAAA,CAA0BvW,GAAMsV;QAErD,IAAI;YACF,OAAOtV,EAAK,eAAA,CAAgB98B,GAASi6B,GAAU;gBAC7C,eAAeS,IAAgBT;YACjC;QACF,SAAE;YACAoZ;QACF;IACF;IAEQ,OACNjB,CAAAA,EACApyC,CAAAA,EACA,EACE,UAAAi6B,CAAAA,EACA,KAAAtC,CAAAA,EACA,MAAAD,CAAAA,EACA,eAAAgD,IAAgB,CAClB,EAAA,EAMA;QACA,IAAMoC,IAAOsV,EAAYpyC,IACnBqzC,IAAU,IAAA,CAAK,yBAAA,CAA0BvW,GAAMsV;QAErD,IAAI;YACF,OAAInY,MAAa,IACR,KAEF6C,EACJ,OAAA,CAAQ98B,EAAQ,OAAA,CAAQ,OAAO,KAAK03B,GAAMC,GAAKsC,GAAU;gBACxD,eAAeS,IAAgBT;YACjC,GACC,UAAA,CAAW;QAChB,SAAE;YACAoZ;QACF;IACF;AACF;AAEA,SAASnB,GAAoBjtC,CAAAA;IAC3B,IAAM+B,IAAM/B,EAAK,KAAA,CAAM,MACjBiqC,IAAOloC,CAAAA,CAAIA,EAAI,MAAA,GAAS,EAAC;IAE/B,OAAOkoC,MAASmB,KAA2B,KAAA,IAAanB;AAC1D;AC7fe,SAARoE,GAAqB,EAC1B,OAAAliB,CAAAA,EACA,QAAAC,CAAAA,EACA,SAAArxB,CACF,EAAA;IAKE,OAAO+tB,EACL,OACA;QACE,OAAAqD;QACA,QAAAC;QACA,SAAS,CAAA,IAAA,EAAOD,EAAK,CAAA,EAAIC,EAAM,CAAA;QAC/B,OAAO;IACT,GACArxB;AAEJ;ACrBA,IAAAuzC,KAA0B,GAAA;ACAnB,IAAMC,KAAY;IAAC;IAAO;IAAW;IAAW;IAAS;CAAK;AAC9D,SAASC,GAAW9nB,CAAAA;IACvB,OAAO6nB,GAAU,QAAA,CAAS7nB;AAC9B;AACO,IAAM+nB,KAAe;IAAC;IAAY;CAAW;AAC7C,SAASC,GAAchoB,CAAAA;IAC1B,OAAO+nB,GAAa,QAAA,CAAS/nB;AACjC;AACO,IAAIioB;AAAAA,CACV,SAAUA,CAAAA;IACPA,EAAW,QAAA,GAAc,YACzBA,EAAW,UAAA,GAAgB;AAC/B,CAAA,EAAGA,MAAAA,CAAeA,KAAa,CAAC,CAAA;AACzB,IAAIC;AAAAA,CACV,SAAUA,CAAAA;IACPA,EAAK,GAAA,GAAS,OACdA,EAAK,EAAA,GAAQ,MACbA,EAAK,EAAA,GAAQ,MACbA,EAAK,OAAA,GAAa,KAClBA,EAAK,EAAA,GAAQ,MACbA,EAAK,EAAA,GAAQ,MACbA,EAAK,IAAA,GAAU;AACnB,CAAA,EAAGA,KAAAA,CAASA,IAAO,CAAC,CAAA;AACb,SAAS13B,GAASvf,CAAAA;IACrB,OAAO,OAAOA,KAAU;AAC5B;AACO,SAAS+pB,GAAS/pB,CAAAA;IACrB,OAAO,OAAOA,KAAU;AAC5B;AC5BA,IAAIymC;AAEG,SAASyQ,EAAS/gB,CAAAA;IACrB,OAAO;QAAE,MAAM;QAAY,OAAAA;IAAM;AACrC;AACO,SAASghB,GAAkBn3C,CAAAA,EAAOggC,IAAU,CAAC,CAAA;IAChD,IAAM,EAAE,WAAAoX,CAAU,EAAA,GAAIpX;IACtB,IAAIoX,KAAap3C,EAAM,QAAA,CAAS,MAAM;QAClC,IAAM,CAACq3C,IAAY,EAAA,EAAIC,IAAc,EAAE,CAAA,GAAIt3C,EAAM,KAAA,CAAM,KAAK,IACtDu3C,IAAkBJ,GAAkBE,IACpCG,IAAoBL,GAAkBG;QAC5C,OAAI,CAACC,KAAmB,CAACC,IACd,OAEJ;YAACD,CAAAA,CAAgB,EAAC,GAAIC,CAAAA,CAAkB,EAAC;YAAGA,CAAAA,CAAkB,EAAE;SAC3E;IAAA;IACA,IAAM1yB,IAAS,WAAW9kB;IAC1B,IAAI,OAAO,KAAA,CAAM8kB,IACb,OAAO;IAEX,IAAMxD,IAAQthB,EAAM,KAAA,CAAM;IAC1B,IAAI,CAACshB,GACD,OAAO;QAACwD;QAAQmyB,EAAK,IAAI;KAAA;IAE7B,OAAQ31B,KAAU,OAA2B,KAAA,IAASA,CAAAA,CAAM,EAAC;QACzD,KAAK;YACD,OAAO;gBAACwD;gBAAQmyB,EAAK,GAAG;aAAA;QAC5B,KAAK;YACD,OAAO;gBAACnyB;gBAAQmyB,EAAK,EAAE;aAAA;QAC3B,KAAK;YACD,OAAO;gBAACnyB;gBAAQmyB,EAAK,EAAE;aAAA;QAC3B,KAAK;YACD,OAAO;gBAACnyB;gBAAQmyB,EAAK,OAAO;aAAA;QAChC,KAAK;YACD,OAAO;gBAACnyB;gBAAQmyB,EAAK,EAAE;aAAA;QAC3B,KAAK;YACD,OAAO;gBAACnyB;gBAAQmyB,EAAK,EAAE;aAAA;QAC3B;YACI,OAAO;IACf;AACJ;AACO,SAASQ,GAAiBpxC,CAAAA,EAAMrG,CAAAA,EAAOggC,IAAU,CAAC,CAAA;IACrD,IAAM0X,IAAWC,GAAc33C,GAAOggC;IACtC,OAAO0X,MAAa,OAAO,OAAOR,EAAS;QAAE,CAAC7wC,EAAI,EAAGqxC;IAAS;AAClE;AACO,SAASE,GAAWvxC,CAAAA,EAAMrG,CAAAA,EAAOm2B,CAAAA;IACpC,IAAMuhB,IAAWC,GAAc33C;IAC/B,OAAI03C,MAAa,QAAA,CACbvhB,CAAAA,CAAM9vB,EAAI,GAAIqxC,CAAAA,GAEXvhB;AACX;AACO,SAAS0hB,GAASxxC,CAAAA,EAAMrG,CAAAA;IAC3B,IAAM03C,IAAWC,GAAc33C;IAC/B,OAAO03C,MAAa,OAAO,OAAO;QAAE,CAACrxC,EAAI,EAAGqxC;IAAS;AACzD;AACO,SAASC,GAAc33C,CAAAA,EAAOggC,IAAU,CAAC,CAAA;IAC5C,IAAIhgC,MAAU,KAAA,GACV,OAAO;IAEX,IAAMkiB,IAASi1B,GAAkB,OAAOn3C,IAAQggC;IAChD,OAAI9d,IACO41B,MAAc51B,GAAQ8d,KAGtB;AAEf;AACO,SAAS8X,GAAWhzB,CAAAA,EAAQizB,CAAAA,EAAM/X,IAAU,CAAC,CAAA;IAChD,IAAM,EAAE,YAAAgY,CAAAA,EAAY,QAAAC,CAAO,EAAA,GAAIjY;IAC/B,OAAQ+X;QACJ,KAAKd,EAAK,GAAA;YACN,OAAOnyB,IAAS,KAAA,CAAMkzB,IAAa,CAAA,IAAK,CAAA;QAC5C,KAAKf,EAAK,EAAA;YACN,OAAOnyB,IAAAA,CAAUkzB,IAAa,CAAA,IAAK,CAAA;QACvC,KAAKf,EAAK,OAAA;YACN,OAAO,CAAA,EAAGe,IAAa,MAAM,GAAE,EAAGlzB,EAAM,CAAA,CAAA;QAC5C,KAAKmyB,EAAK,IAAA;YACN,OAAOnyB,IAAAA,CAAUkzB,IAAa,CAAA,IAAK,CAAA;QACvC,KAAKf,EAAK,EAAA;YACN,OAAMgB,KAAW,QAAqCA,EAAO,gBAAA,GAItDA,EAAO,gBAAA,CAAiB,KAAA,GAAA,CAASnzB,IAAS,GAAA,IAAA,CAH7CzjB,GAAK,mEACE,IAAA;QAGf,KAAK41C,EAAK,EAAA;YACN,OAAMgB,KAAW,QAAqCA,EAAO,gBAAA,GAItDA,EAAO,gBAAA,CAAiB,MAAA,GAAA,CAAUnzB,IAAS,GAAA,IAAA,CAH9CzjB,GAAK,mEACE,IAAA;QAGf;YACI,OAAO;IACf;AACJ;AACO,SAAS62C,GAAKl4C,CAAAA;IACjB,IAAMkiB,IAASi1B,GAAkBn3C;IACjC,IAAI,CAACkiB,GACD,OAAO;IAEX,IAAM,CAAC4C,GAAQizB,EAAI,GAAI71B;IACvB,OAAQ61B;QACJ,KAAKd,EAAK,GAAA;YACN,OAAOnyB,IAAS;QACpB,KAAKmyB,EAAK,EAAA;YACN,OAAOnyB;QACX;YACI,OAAO;IACf;AACJ;AACA,IAAMqzB,KAAU;IACZ,GAAG;IACH,IAAI;IACJ,IAAI;IACJ,GAAG;IACH,IAAI;IACJ,IAAI;IACJ,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACP;AACO,SAASC,GAAazqC,CAAAA;IACzB,OAAOwqC,EAAAA,CAAQxqC,KAAgD,GAAE,IAAK;AAC1E;AACO,SAAS0qC,GAAyBC,CAAAA;IACrC,IAAIvJ,IAAY;IAKhB,OAAO;QAJUuJ,EAAgB,OAAA,CAAQ,gCAAgC,CAACn3B,GAAGuoB,IAAAA,CACzEqF,IAAYqJ,GAAa1O,IAClB,EAAA;QAEOqF;KACtB;AAAA;AACO,SAASwJ,GAAiBv4C,CAAAA,EAAOggC,IAAU,CAAC,CAAA;IAC/C,IAAIhgC,EAAM,QAAA,CAAS,MAAM;QACrB,IAAMm2B,IAAQqiB,GAAoBx4C,GAAO;YAAE,GAAGggC,CAAAA;YAAS,WAAW,CAAA;QAAK;QACvE,IAAI7J,GACA,OAAOA;IACf;IACA,OAAIn2B,CAAAA,CAAM,EAAC,KAAM,OAAA,CACbA,IAAQA,EAAM,KAAA,CAAM,GAAG,CAAA,EAAE,GAEtBw4C,GAAoBx4C,GAAOggC;AACtC;AACO,SAASyY,GAAiBpyC,CAAAA,EAAMrG,CAAAA,EAAOggC,IAAU,CAAC,CAAA;IACrD,IAAM0X,IAAWa,GAAiBv4C,GAAOggC;IACzC,OAAI0X,MAAa,OACN,OAEJR,EAAS;QAAE,CAAC7wC,EAAI,EAAGqxC;IAAS;AACvC;AACA,SAASc,GAAoBx4C,CAAAA,EAAOggC,IAAU,CAAC,CAAA;IAC3C,IAAIhgC,MAAU,MACV,OAAO;IAEX,IAAMkiB,IAASi1B,GAAkBn3C,GAAOggC;IACxC,IAAI,CAAC9d,GACD,OAAO;IAEX,IAAI,CAAC4C,GAAQizB,EAAI,GAAI71B;IACrB,OAAI8d,EAAQ,SAAA,IAAA,CACR+X,IAAOd,EAAK,OAAA,EACZnyB,KAAU,GAAA,GAKVizB,MAASd,EAAK,IAAA,IAAA,CACdnyB,IAASA,IAAS,GAClBizB,IAAOd,EAAK,GAAA,GAETa,GAAWhzB,GAAQizB,GAAM/X;AACpC;AACA,SAAS0Y,GAAAA,GAAe7oC,CAAAA;IACpB,QAAQ,IAAA,IAAQA;AACpB;AACA,SAAS8oC,GAAAA,GAAYx3B,CAAAA,GAErB;AACO,IAAM9f,KAAO,OAAO,UAAY,OAAA,CAAA,CAAiBolC,KAAK,WAAY,OAA6B,KAAA,IAAS,QAAQ,GAAA,MAAS,QAAQA,OAAO,KAAA,IAAS,KAAA,IAASA,GAAG,cAAA,MAAoB,KAAA,IAClLiS,KACAC;ACpLN,IAAMC,KAAgB;IAClB;QAAC;QAAiB1B,EAAS;YAAE,aAAa;QAAE;KAAE;IAC9C;QAAC;QAAgBA,EAAS;YAAE,aAAa,KAAK;QAAE;KAAE;IAClD;QAAC;QAAgBA,EAAS;YAAE,YAAY;QAAS;KAAE;IACnD;QAAC;QAAeA,EAAS;YAAE,YAAY;QAAa;KAAE;IACtD;QAAC;QAAaA,EAAS;YAAE,YAAY;QAAW;KAAE;IAClD;QAAC;QAAkBA,EAAS;YAAE,YAAY;QAAW;KAAE;IACvD;QAAC;QAAiBA,EAAS;YAAE,YAAY;QAAU;KAAE;IACrD;QAAC;QAAiBA,EAAS;YAAE,gBAAgB;QAAa;KAAE;IAC5D;QAAC;QAAeA,EAAS;YAAE,gBAAgB;QAAW;KAAE;IACxD;QAAC;QAAkBA,EAAS;YAAE,gBAAgB;QAAS;KAAE;IACzD;QAAC;QAAmBA,EAAS;YAAE,gBAAgB;QAAgB;KAAE;IACjE;QAAC;QAAkBA,EAAS;YAAE,gBAAgB;QAAe;KAAE;IAC/D;QAAC;QAAkBA,EAAS;YAAE,gBAAgB;QAAe;KAAE;IAC/D;QAAC;QAAiBA,EAAS;YAAE,cAAc;QAAa;KAAE;IAC1D;QAAC;QAAeA,EAAS;YAAE,cAAc;QAAW;KAAE;IACtD;QAAC;QAAmBA,EAAS;YAAE,cAAc;QAAgB;KAAE;IAC/D;QAAC;QAAkBA,EAAS;YAAE,cAAc;QAAe;KAAE;IAC7D;QAAC;QAAmBA,EAAS;YAAE,cAAc;QAAU;KAAE;IACzD;QAAC;QAAkBA,EAAS;YAAE,cAAc;QAAS;KAAE;IACvD;QAAC;QAAaA,EAAS;YAAE,WAAW;QAAO;KAAE;IAC7C;QAAC;QAAcA,EAAS;YAAE,WAAW;QAAa;KAAE;IACpD;QAAC;QAAYA,EAAS;YAAE,WAAW;QAAW;KAAE;IAChD;QAAC;QAAeA,EAAS;YAAE,WAAW;QAAS;KAAE;IACjD;QAAC;QAAgBA,EAAS;YAAE,WAAW;QAAU;KAAE;IACnD;QAAC;QAAiBA,EAAS;YAAE,WAAW;QAAW;KAAE;IACrD;QAAC;QAAqBA,EAAS;YAAE,WAAW;QAAU;KAAE;IACxD;QAAC;QAAiBA,EAAS;YAAE,WAAW;QAAM;KAAE;IAChD;QAAC;QAAiBA,EAAS;YAAE,WAAW;QAAM;KAAE;IAChD;QAAC;QAAUA,EAAS;YAAE,SAAS;QAAO;KAAE;IACxC;QAAC;QAAQA,EAAS;YAAE,SAAS;QAAO;KAAE;IACtC;QAAC;QAAYA,EAAS;YAAE,eAAe;QAAM;KAAE;IAC/C;QAAC;QAAoBA,EAAS;YAAE,eAAe;QAAc;KAAE;IAC/D;QAAC;QAAYA,EAAS;YAAE,eAAe;QAAS;KAAE;IAClD;QAAC;QAAoBA,EAAS;YAAE,eAAe;QAAiB;KAAE;IAClE;QAAC;QAAaA,EAAS;YAAE,UAAU;QAAO;KAAE;IAC5C;QAAC;QAAqBA,EAAS;YAAE,UAAU;QAAe;KAAE;IAC5D;QAAC;QAAeA,EAAS;YAAE,UAAU;QAAS;KAAE;IAChD;QAAC;QAAaA,EAAS;YAAE,UAAU;YAAG,YAAY;YAAG,WAAW;QAAO;KAAE;IACzE;QAAC;QAAgBA,EAAS;YAAE,UAAU;YAAG,YAAY;YAAG,WAAW;QAAO;KAAE;IAC5E;QAAC;QAAaA,EAAS;YAAE,UAAU;YAAG,YAAY;YAAG,WAAW;QAAO;KAAE;IACzE;QAAC;QAAmBA,EAAS;YAAE,UAAU;QAAS;KAAE;IACpD;QAAC;QAAoBA,EAAS;YAAE,UAAU;QAAU;KAAE;IACtD;QAAC;QAAmBA,EAAS;YAAE,UAAU;QAAS;KAAE;IACpD;QAAC;QAAYA,EAAS;YAAE,UAAU;QAAW;KAAE;IAC/C;QAAC;QAAYA,EAAS;YAAE,UAAU;QAAW;KAAE;IAC/C;QAAC;QAAUA,EAAS;YAAE,WAAW;QAAS;KAAE;IAC5C;QAAC;QAAcA,EAAS;YAAE,WAAW;QAAS;KAAE;IAChD;QAAC;QAAiB2B,GAAY;KAAgB;IAC9C;QAAC;QAAcA,GAAY;KAAa;IACxC;QAAC;QAAeA,GAAY;KAAc;IAC1C;QAAC;QAAgBA,GAAY;KAAe;IAC5C;QAAC;QAAqBA,GAAY;KAAoB;IACtD;QAAC;QAAa3B,EAAS;YAAE,YAAY;QAAM;KAAE;IAC7C;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAmBA,EAAS;YAAE,YAAY;QAAM;KAAE;IACnD;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAcA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC9C;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAeA,EAAS;YAAE,YAAY;QAAS;KAAE;IAClD;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAeA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC/C;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAiBA,EAAS;YAAE,YAAY;QAAM;KAAE;IACjD;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAaA,EAAS;YAAE,YAAY;QAAO;KAAE;IAC9C;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAkBA,EAAS;YAAE,YAAY;QAAM;KAAE;IAClD;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAcA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC9C;QAAC;QAAYA,EAAS;YAAE,YAAY;QAAM;KAAE;IAC5C;QAAC;QAAwBA,EAAS;YAAE,oBAAoB,CAAA;QAAK;KAAE;IAC/D;QAAC;QAAuBA,EAAS;YAAE,oBAAoB,CAAA;QAAM;KAAE;IAE/D;QAAC;QAAcA,EAAS;YAAE,UAAU;QAAS;KAAE;IAC/C;QAAC;QAAaA,EAAS;YAAE,WAAW;QAAO;KAAE;IAC7C;QAAC;QAAeA,EAAS;YAAE,WAAW;QAAS;KAAE;IACjD;QAAC;QAAcA,EAAS;YAAE,WAAW;QAAQ;KAAE;IAC/C;QAAC;QAAgBA,EAAS;YAAE,WAAW;QAAU;KAAE;IACnD;QAAC;QAAaA,EAAS;YAAE,WAAW;QAAO;KAAE;IAC7C;QAAC;QAAaA,EAAS;YAAE,oBAAoB;QAAY;KAAE;IAC3D;QAAC;QAAgBA,EAAS;YAAE,oBAAoB;QAAe;KAAE;IACjE;QAAC;QAAgBA,EAAS;YAAE,oBAAoB;QAAO;KAAE;IACzD;QAAC;QAAaA,EAAS;YAAE,eAAe;QAAY;KAAE;IACtD;QAAC;QAAaA,EAAS;YAAE,eAAe;QAAY;KAAE;IACtD;QAAC;QAAcA,EAAS;YAAE,eAAe;QAAa;KAAE;IACxD;QAAC;QAAeA,EAAS;YAAE,eAAe;QAAO;KAAE;IACnD;QAAC;QAAUA,EAAS;YAAE,OAAO;QAAO;KAAE;IACtC;QAAC;QAAUA,EAAS;YAAE,QAAQ;QAAO;KAAE;IAEvC;QACI;QACAA,EAAS;YACL,cAAc;gBAAE,OAAO;gBAAG,QAAQ;YAAE;YACpC,aAAa;YACb,cAAc;YACd,eAAe;YACf,WAAW;QACf;KACJ;IACA;QACI;QACAA,EAAS;YACL,cAAc;gBAAE,OAAO;gBAAG,QAAQ;YAAE;YACpC,aAAa;YACb,cAAc;YACd,eAAe;YACf,WAAW;QACf;KACJ;IACA;QACI;QACAA,EAAS;YACL,cAAc;gBAAE,OAAO;gBAAG,QAAQ;YAAE;YACpC,aAAa;YACb,cAAc;YACd,eAAe;YACf,WAAW;QACf;KACJ;IACA;QACI;QACAA,EAAS;YACL,cAAc;gBAAE,OAAO;gBAAG,QAAQ;YAAE;YACpC,aAAa;YACb,eAAe;YACf,cAAc;YACd,WAAW;QACf;KACJ;IACA;QACI;QACAA,EAAS;YACL,cAAc;gBAAE,OAAO;gBAAG,QAAQ;YAAE;YACpC,aAAa;YACb,eAAe;YACf,cAAc;YACd,WAAW;QACf;KACJ;IACA;QACI;QACAA,EAAS;YACL,cAAc;gBAAE,OAAO;gBAAG,QAAQ;YAAE;YACpC,aAAa;YACb,eAAe;YACf,cAAc;YACd,WAAW;QACf;KACJ;IACA;QACI;QACAA,EAAS;YACL,cAAc;gBAAE,OAAO;gBAAG,QAAQ;YAAE;YACpC,aAAa;YACb,cAAc;YACd,eAAe;YACf,WAAW;QACf;KAER;CAAA,EACO4B,KAAQF;AACf,SAASC,GAAY/wC,CAAAA;IACjB,OAAO;QACH,MAAM;QACN,UAASquB,CAAAA;YAAO,CACR,CAACA,EAAM,WAAA,IAAe,CAAC,MAAM,OAAA,CAAQA,EAAM,WAAW,CAAA,KAAA,CACtDA,EAAM,WAAA,GAAc,EAAC,GAEzBA,EAAM,WAAA,CAAY,IAAA,CAAKruB;QAC3B;IACJ;AACJ;AC5KA,IAAqBixC,KAArB;IACI,YAAYC,CAAAA,CAAc;QACtB,IAAA,CAAK,EAAA,GAAK,IAAI,IAAIF,KAClB,IAAA,CAAK,MAAA,GAAS,IAAI,KAClB,IAAA,CAAK,QAAA,GAAW,IAAI,KACpB,IAAA,CAAK,EAAA,GAAK,IAAI,IAAI;eAAIA;eAAmBE,KAAkE,EAAG;SAAC;IACnH;IACA,SAASj4C,CAAAA,EAAK;QACV,OAAO,IAAA,CAAK,MAAA,CAAO,GAAA,CAAIA;IAC3B;IACA,SAASA,CAAAA,EAAKo1B,CAAAA,EAAO;QACjB,IAAA,CAAK,MAAA,CAAO,GAAA,CAAIp1B,GAAKo1B;IACzB;IACA,MAAMp1B,CAAAA,EAAK;QACP,OAAO,IAAA,CAAK,EAAA,CAAG,GAAA,CAAIA;IACvB;IACA,MAAMA,CAAAA,EAAKk4C,CAAAA,EAAI;QACX,IAAA,CAAK,EAAA,CAAG,GAAA,CAAIl4C,GAAKk4C;IACrB;IACA,eAAel4C,CAAAA,EAAK;QAChB,OAAO,IAAA,CAAK,QAAA,CAAS,GAAA,CAAIA;IAC7B;IACA,eAAeA,CAAAA,EAAKf,CAAAA,EAAO;QACvB,IAAA,CAAK,QAAA,CAAS,GAAA,CAAIe,GAAKf;IAC3B;AACJ;ACxBe,SAARq9B,GAA0Br9B,CAAAA,EAAOkD,CAAAA,EAAQ88B,IAAU,CAAC,CAAA;IACvD,IAAMkZ,IAAch2C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK;IAChF,IAAI,CAACk5C,GACD,OAAOT,GAAiB,YAAYz4C,GAAOggC;IAE/C,IAAI,OAAOkZ,KAAgB,UACvB,OAAOzB,GAAiB,YAAYyB;IAExC,IAAI/iB,IAAQ,CAAC,GACP,CAACkH,GAAUwT,EAAI,GAAIqI,GACnBC,IAAgBtB,GAAS,YAAYxa;IAI3C,IAHI8b,KAAAA,CACAhjB,IAAQgjB,CAAAA,GAER,OAAOtI,KAAS,UAChB,OAAOqG,EAASU,GAAW,cAAcwB,GAAoBvI,GAAM1a,IAAQA;IAE/E,IAAM,EAAE,YAAAoK,CAAAA,EAAY,eAAAzC,CAAc,EAAA,GAAI+S;IACtC,OAAItQ,KACAqX,GAAW,cAAcwB,GAAoB7Y,GAAYpK,IAAQA,IAEjE2H,KACA8Z,GAAW,iBAAiB9Z,GAAe3H,IAExC+gB,EAAS/gB;AACpB;AAEA,SAASijB,GAAoB7Y,CAAAA,EAAYpK,CAAAA;IACrC,IAAMjU,IAASi1B,GAAkB5W;IACjC,IAAIre,GAAQ;QACR,IAAM,CAAC4C,GAAQizB,EAAI,GAAI71B;QACvB,IAAA,CAAK61B,MAASd,EAAK,IAAA,IAAQc,MAASd,EAAK,EAAA,KAAO,OAAO9gB,EAAM,QAAA,IAAa,UACtE,OAAOA,EAAM,QAAA,GAAWrR;IAEhC;IACA,OAAOyb;AACX;ACpCe,SAARA,GAA4BvgC,CAAAA,EAAOkD,CAAAA;IACtC,IAAIujC;IACJ,IAAM4S,IAAAA,CAAc5S,IAAKvjC,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK,MAAO,QAAQymC,MAAO,KAAA,IAASA,IAAMzmC,EAAM,UAAA,CAAW,OAAOA,EAAM,KAAA,CAAM,GAAG,CAAA,KAAMA,GACjKkiB,IAASi1B,GAAkBkC;IACjC,IAAI,CAACn3B,GACD,OAAO;IAEX,IAAM,CAAC4C,GAAQizB,EAAI,GAAI71B;IACvB,IAAI61B,MAASd,EAAK,IAAA,EAEd,OAAO;QACH,MAAM;QACN,UAAS9gB,CAAAA;YACL,IAAI,OAAOA,EAAM,QAAA,IAAa,UAC1B,OAAO;YAEXA,EAAM,UAAA,GAAaA,EAAM,QAAA,GAAWrR;QACxC;IACJ;IAEJ,IAAM4yB,IAAWI,GAAWhzB,GAAQizB;IACpC,OAAOL,MAAa,OAAOR,EAAS;QAAE,YAAYQ;IAAS,KAAK;AACpE;ACtBe,SAAR4B,GAAyBxxC,CAAAA,EAAMinC,CAAAA,EAAWiJ,CAAAA,EAAYh4C,CAAAA,EAAOkD,CAAAA;IAChE,IAAIq2C,IAAe;IACnB,IAAIv5C,CAAAA,CAAM,EAAC,KAAM,KACbu5C,IAAev5C,EAAM,KAAA,CAAM,GAAG,CAAA;SAE7B;QACD,IAAMk5C,IAAch2C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK;QAChF,IAAKk5C,GAQDK,IAAeL;aARD;YACd,IAAMM,IAAcjB,GAAiBv4C;YACrC,OAAIw5C,KAAe,OAAOA,KAAgB,WAC/BC,GAAaD,GAAavC,EAAK,EAAA,EAAIlI,GAAWjnC,KAElD;QACX;IAIJ;IACA,IAAIyxC,MAAiB,QACjB,OAAOxgB,GAAOgW,GAAWjnC,GAAM;IAEnC,IAAMoa,IAASi1B,GAAkBoC;IACjC,IAAI,CAACr3B,GACD,OAAO;IAEX,IAAI,CAAC4C,GAAQizB,EAAI,GAAI71B;IACrB,OAAI81B,KAAAA,CACAlzB,IAAS,CAACA,CAAAA,GAEP20B,GAAa30B,GAAQizB,GAAMhJ,GAAWjnC;AACjD;AACA,SAAS2xC,GAAa30B,CAAAA,EAAQizB,CAAAA,EAAMhJ,CAAAA,EAAWjnC,CAAAA;IAC3C,IAAM4xC,IAAS5B,GAAWhzB,GAAQizB;IAClC,OAAI2B,MAAW,OACJ,OAEJ3gB,GAAOgW,GAAWjnC,GAAM4xC;AACnC;AACA,SAAS3gB,GAAOgW,CAAAA,EAAWjnC,CAAAA,EAAM9H,CAAAA;IAC7B,OAAQ+uC;QACJ,KAAK;YACD,OAAO;gBACH,MAAM;gBACN,OAAO;oBACH,CAAC,CAAA,EAAGjnC,EAAI,GAAA,CAAK,CAAA,EAAG9H;oBAChB,CAAC,CAAA,EAAG8H,EAAI,KAAA,CAAO,CAAA,EAAG9H;oBAClB,CAAC,CAAA,EAAG8H,EAAI,MAAA,CAAQ,CAAA,EAAG9H;oBACnB,CAAC,CAAA,EAAG8H,EAAI,IAAA,CAAM,CAAA,EAAG9H;gBACrB;YACJ;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACD,OAAO;gBACH,MAAM;gBACN,OAAO;oBACH,CAAC,CAAA,EAAG8H,EAAI,EAAGinC,EAAS,CAAE,CAAA,EAAG/uC;gBAC7B;YACJ;QACJ,KAAK;YACD,OAAO;gBACH,MAAM;gBACN,OAAO;oBACH,CAAC,CAAA,EAAG8H,EAAI,GAAA,CAAK,CAAA,EAAG9H;oBAChB,CAAC,CAAA,EAAG8H,EAAI,MAAA,CAAQ,CAAA,EAAG9H;gBACvB;YACJ;QACJ,KAAK;YACD,OAAO;gBACH,MAAM;gBACN,OAAO;oBACH,CAAC,CAAA,EAAG8H,EAAI,IAAA,CAAM,CAAA,EAAG9H;oBACjB,CAAC,CAAA,EAAG8H,EAAI,KAAA,CAAO,CAAA,EAAG9H;gBACtB;YACJ;QACJ;YACI,OAAO;IACf;AACJ;AChFe,SAARsqB,GAAyB1U,CAAAA;IAC5B,IAAI,CAACA,GACD,OAAO,CAAC;IAEZ,IAAM+jC,IAAa,OAAO,OAAA,CAAQ/jC,GAAO,MAAA,CAAO,CAACgkC,GAAK,CAACC,GAAQ75C,EAAK;QAChE,IAAMq0B,IAAO;YAAC;YAAG,IAAA;YAAU;SAAC,EACtBylB,IAAS,OAAO95C,KAAU,WAAW;YAAE,KAAKA;QAAM,IAAIA,GACtD+5C,IAAQD,EAAO,GAAA,GAAM5B,GAAK4B,EAAO,GAAG,IAAI;QAC1CC,MAAU,OACV14C,GAAK,CAAA,6BAAA,EAAgCw4C,EAAM,OAAA,EAAUC,EAAO,GAAG,CAAA,CAAE,IAGjEzlB,CAAAA,CAAK,EAAC,GAAI0lB;QAEd,IAAMC,IAAQF,EAAO,GAAA,GAAM5B,GAAK4B,EAAO,GAAG,IAAI,IAAA;QAC9C,OAAIE,MAAU,OACV34C,GAAK,CAAA,6BAAA,EAAgCw4C,EAAM,OAAA,EAAUC,EAAO,GAAG,CAAA,CAAE,IAGjEzlB,CAAAA,CAAK,EAAC,GAAI2lB,GAEdJ,CAAAA,CAAIC,EAAM,GAAIxlB,GACPulB;IACX,GAAG,CAAC,IACEE,IAAS,OAAO,MAAA,CAAOH;IAC7BG,EAAO,IAAA,CAAK,CAAClnC,GAAGC;QACZ,IAAM,CAAConC,GAAMC,EAAI,GAAItnC,GACf,CAACunC,GAAMC,EAAI,GAAIvnC;QACrB,OAAIqnC,MAAS,IAAA,KAAYE,MAAS,IAAA,IACvBH,IAAOE,IAEXD,IAAOE;IAClB;IACA,IAAIC,IAAQ;IACZ,OAAAP,EAAO,OAAA,CAAS95C,CAAAA,IAAWA,CAAAA,CAAM,EAAC,GAAIq6C,MAC/BV;AACX;ACpCe,SAAR/E,GAA4B50C,CAAAA,EAAOkD,CAAAA;IACtC,IAAMg2C,IAAch2C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK;IAChF,IAAI,CAACk5C,GACD,OAAO;IAEX,IAAI,OAAOA,KAAgB,UACvB,OAAOhC,EAAS;QAAE,YAAYgC;IAAY;IAE9C,IAAMoB,IAAcpB,CAAAA,CAAY,EAAC;IACjC,OAAKoB,IAGEpD,EAAS;QAAE,YAAYoD;IAAY,KAF/B;AAGf;ACZO,SAAS/4B,GAAMzZ,CAAAA,EAAM9H,CAAAA,EAAOkD,CAAAA;IAC/B,IAAI,CAACA,GACD,OAAO;IAGX,IAAIq3C;IACAv6C,EAAM,QAAA,CAAS,QAAG,CAClB,CAACA,IAAQ,EAAA,EAAIu6C,EAAgB,GAAIv6C,EAAM,KAAA,CAAM,KAAK,EAAC;IAEvD,IAAIuhB,IAAQ;IASZ,IAPIvhB,EAAM,UAAA,CAAW,SAASA,EAAM,UAAA,CAAW,UAC3CuhB,IAAQvhB,EAAM,KAAA,CAAM,GAAG,CAAA,KAIvBuhB,IAAQi5B,GAA2Bx6C,GAAOkD,IAE1C,CAACqe,GACD,OAAO;IAEX,IAAIg5B,GAAkB;QAClB,IAAMlf,IAAU,OAAOkf;QACvB,IAAI,CAAC,OAAO,KAAA,CAAMlf,IACd,OAAA9Z,IAAQk5B,GAAWl5B,GAAO8Z,IAAU,MAC7B6b,EAAS;YAAE,CAACwD,EAAAA,CAAY5yC,EAAI,CAAE,KAAK,CAAA,EAAGyZ;QAAM;IAE3D;IAGA,OAAO;QACH,MAAM;QACN,UAAS4U,CAAAA;YACL,IAAMwkB,IAAcD,EAAAA,CAAY5yC,EAAI,CAAE,OAAA,EAChCuzB,IAAUlF,CAAAA,CAAMwkB,EAAW;YAC7B,OAAOtf,KAAY,YAAA,CACnB9Z,IAAQk5B,GAAWl5B,GAAO8Z,EAAO,GAErClF,CAAAA,CAAMukB,EAAAA,CAAY5yC,EAAI,CAAE,KAAK,CAAA,GAAIyZ;QACrC;IACJ;AACJ;AACO,SAASq5B,GAAa9yC,CAAAA,EAAM9H,CAAAA;IAC/B,IAAM+kB,IAAa,SAAS/kB,GAAO;IACnC,IAAI,OAAO,KAAA,CAAM+kB,IACb,OAAO;IAEX,IAAMsW,IAAUtW,IAAa;IAE7B,OAAO;QAAE,MAAM;QAAY,OADb;YAAE,CAAC21B,EAAAA,CAAY5yC,EAAI,CAAE,OAAO,CAAA,EAAGuzB;QAAQ;IACpB;AACrC;AACA,SAASof,GAAWl5B,CAAAA,EAAO8Z,CAAAA;IACvB,OAAI9Z,EAAM,UAAA,CAAW,OACjBA,IAAQs5B,GAAUt5B,KAEbA,EAAM,UAAA,CAAW,WAAM,CAC5BA,IAAQA,EAAM,OAAA,CAAQ,UAAU,SAAS,OAAA,CAAQ,OAAO,OAAM,GAG3DA,EAAM,OAAA,CAAQ,qBAAqB,CAAA,EAAA,EAAK8Z,EAAO,CAAA,CAAG;AAC7D;AACO,SAASyf,GAAqB3kB,CAAAA;IACjC,IAAA,IAAWp1B,KAAOo1B,EACVp1B,EAAI,UAAA,CAAW,iBACf,OAAOo1B,CAAAA,CAAMp1B,EAGzB;AAAA;AACA,IAAM25C,KAAc;IAChB,IAAI;QAAE,SAAS;QAAgB,OAAO;IAAkB;IACxD,MAAM;QAAE,SAAS;QAAkB,OAAO;IAAQ;IAClD,QAAQ;QAAE,SAAS;QAAoB,OAAO;IAAc;IAC5D,WAAW;QAAE,SAAS;QAAoB,OAAO;IAAiB;IAClE,cAAc;QAAE,SAAS;QAAoB,OAAO;IAAoB;IACxE,YAAY;QAAE,SAAS;QAAoB,OAAO;IAAkB;IACpE,aAAa;QAAE,SAAS;QAAoB,OAAO;IAAmB;IACtE,QAAQ;QAAE,SAAS;QAAoB,OAAO;IAAc;IAC5D,MAAM;QAAE,SAAS;QAAkB,OAAO;IAAY;AAC1D;AACA,SAASG,GAAUx1C,CAAAA;IACf,IAAM01C,IAAO11C;IACbA,IAAMA,EAAI,OAAA,CAAQ21C,IAAiB,CAAC75B,GAAGC,GAAGC,GAAGxO,IAAMuO,IAAIA,IAAIC,IAAIA,IAAIxO,IAAIA;IACvE,IAAMlH,IAASsvC,GAAe,IAAA,CAAK51C;IACnC,IAAI,CAACsG,GACD,OAAAtK,GAAK,CAAA,gCAAA,EAAmC05C,EAAI,CAAE,GACvC;IAEX,IAAM,IAAI,SAASpvC,CAAAA,CAAO,EAAC,EAAG,KACxB0V,IAAI,SAAS1V,CAAAA,CAAO,EAAC,EAAG,KACxBkH,IAAI,SAASlH,CAAAA,CAAO,EAAC,EAAG;IAC9B,OAAO,CAAA,KAAA,EAAQ,EAAC,EAAA,EAAK0V,EAAC,EAAA,EAAKxO,EAAC,IAAA,CAChC;AAAA;AACA,SAAS2nC,GAA2BU,CAAAA,EAAWh4C,CAAAA;IAC3C,IAAMi4C,IAAcj4C,CAAAA,CAAOg4C,EAAS;IAEpC,IAAI37B,GAAS47B,IACT,OAAOA;IAEN,IAAIpxB,GAASoxB,MAAgB57B,GAAS47B,EAAY,OAAO,GAC1D,OAAOA,EAAY,OAAA;IAGvB,IAAI,CAACC,IAAiB,EAAA,EAAI,GAAGC,EAAa,GAAIH,EAAU,KAAA,CAAM;IAC9D,MAAOE,MAAmBF,GAAW;QACjC,IAAMI,IAAYp4C,CAAAA,CAAOk4C,EAAc;QACvC,IAAIrxB,GAASuxB,IACT,OAAOd,GAA2Ba,EAAc,IAAA,CAAK,MAAMC;QAE1D,IAAID,EAAc,MAAA,KAAW,GAC9B,OAAO;QAEXD,IAAiB,CAAA,EAAGA,EAAc,CAAA,EAAIC,EAAc,KAAA,GAAO,CAC/D;IAAA;IACA,OAAO;AACX;AACA,IAAML,KAAkB,oCAClBC,KAAiB;ACpHhB,SAAStM,GAAO3uC,CAAAA,EAAOU,CAAAA;IAC1B,IAAI,CAACmwC,GAAM9B,EAAS,GAAIsJ,GAAyBr4C;IAEjD,IAD0B6wC,EAAK,KAAA,CAAM,iBAEjC,OAAO0K,GAAY1K,GAAM9B,GAAWruC,KAAU,OAA2B,KAAA,IAASA,EAAM,WAAW;IAGvG,IADAmwC,IAAOA,EAAK,OAAA,CAAQ,MAAM,KACtB;QAAC;QAAU;QAAS;KAAQ,CAAE,QAAA,CAASA,IACvC,OAAOqG,EAAS;QAAE,aAAarG;IAAK;IAExC,IAAI2K,IAAY;IAChB,OAAQzM;QACJ,KAAK;YACDyM,IAAY;YACZ;QACJ,KAAK;YACDA,IAAY;YACZ;QACJ,KAAK;YACDA,IAAY;YACZ;QACJ,KAAK;YACDA,IAAY;YACZ;IACR;IACA,IAAMC,IAAal6B,GAAMi6B,GAAW3K,GAAMnwC,KAAU,OAA2B,KAAA,IAASA,EAAM,WAAW;IACzG,IAAI+6C,GACA,OAAOA;IAIX,IAAMp1C,IAAO,CAAA,MAAA,EAAS0oC,MAAc,QAAQ,KAAKA,EAAS,KAAA,CAAA;IAC1D8B,IAAOA,EAAK,OAAA,CAAQ,MAAM;IAC1B,IAAM0I,IAAe1I,EAAK,KAAA,CAAM,GAAG,CAAA,IAC7B6K,IAAiBjD,GAAiBpyC,GAAMkzC;IAE9C,OAAI,OAAA,CAAQmC,KAAmB,OAAoC,KAAA,IAASA,EAAe,KAAA,CAAMr1C,EAAI,KAAO,WACjG,OAEJq1C;AACX;AACA,SAASH,GAAYv7C,CAAAA,EAAO+uC,CAAAA,EAAW7rC,CAAAA;IACnC,IAAI,CAACA,GACD,OAAO;IAEXlD,IAAQA,EAAM,OAAA,CAAQ,MAAM;IAE5B,IAAMk5C,IAAch2C,CAAAA,CADRlD,MAAU,KAAK,YAAYA,EACT;IAC9B,IAAIk5C,MAAgB,KAAA,GAChB,OAAO;IAEX,IAAM7yC,IAAO,CAAA,MAAA,EAAS0oC,MAAc,QAAQ,KAAKA,EAAS,KAAA,CAAA;IAC1D,OAAO0I,GAAiBpxC,GAAM6yC;AAClC;AACO,SAASyC,GAAa37C,CAAAA,EAAOkD,CAAAA;IAChC,IAAI,CAACA,GACD,OAAO;IAEX,IAAI,CAAC2tC,GAAM9B,EAAS,GAAIsJ,GAAyBr4C;IACjD6wC,IAAOA,EAAK,OAAA,CAAQ,MAAM,KACtBA,MAAS,MAAA,CACTA,IAAO,SAAA;IAEX,IAAMxqC,IAAO,CAAA,MAAA,EAAS0oC,MAAc,QAAQ,KAAKA,EAAS,MAAA,CAAA,EACpDmK,IAAch2C,CAAAA,CAAO2tC,EAAI;IAC/B,IAAIqI,GACA,OAAOngB,GAAO0e,GAAiBpxC,GAAM6yC;IAEzC,IAAM0C,IAAYnD,GAAiBpyC,GAAMwqC;IAEzC,OAAI,OAAA,CAAQ+K,KAAc,OAA+B,KAAA,IAASA,EAAU,KAAA,CAAMv1C,EAAI,KAAO,WAClF,OAEJ0yB,GAAO6iB;AAClB;AAEA,SAAS7iB,GAAOkgB,CAAAA;IACZ,IAAA,CAAKA,KAAO,OAAwB,KAAA,IAASA,EAAG,IAAA,MAAU,YACtD,OAAOA;IACX,IAAMle,IAAMke,EAAG,KAAA,CAAM,eAAA;IACjBle,MAAQ,KAAA,KAAA,CACRke,EAAG,KAAA,CAAM,mBAAA,GAAsBle,GAC/Bke,EAAG,KAAA,CAAM,oBAAA,GAAuBle,GAChC,OAAOke,EAAG,KAAA,CAAM,eAAA;IAEpB,IAAM1c,IAAS0c,EAAG,KAAA,CAAM,kBAAA;IACpB1c,MAAW,KAAA,KAAA,CACX0c,EAAG,KAAA,CAAM,sBAAA,GAAyB1c,GAClC0c,EAAG,KAAA,CAAM,uBAAA,GAA0B1c,GACnC,OAAO0c,EAAG,KAAA,CAAM,kBAAA;IAEpB,IAAMne,IAAOme,EAAG,KAAA,CAAM,gBAAA;IAClBne,MAAS,KAAA,KAAA,CACTme,EAAG,KAAA,CAAM,sBAAA,GAAyBne,GAClCme,EAAG,KAAA,CAAM,mBAAA,GAAsBne,GAC/B,OAAOme,EAAG,KAAA,CAAM,gBAAA;IAEpB,IAAM3c,IAAQ2c,EAAG,KAAA,CAAM,iBAAA;IACvB,OAAI3c,MAAU,KAAA,KAAA,CACV2c,EAAG,KAAA,CAAM,uBAAA,GAA0B3c,GACnC2c,EAAG,KAAA,CAAM,oBAAA,GAAuB3c,GAChC,OAAO2c,EAAG,KAAA,CAAM,iBAAA,GAEbA;AACX;ACzGO,SAAS1I,GAAMzoC,CAAAA,EAAM9H,CAAAA,EAAOg4C,CAAAA,EAAY90C,CAAAA;IAC3C,IAAI24C,IAAW;IACX/zC,MAAS,WAAA,CACT9H,IAAQA,EAAM,OAAA,CAAQ,WAAW,CAACmhB,GAAGuoB,IAAAA,CACjCmS,IAAWnS,MAAQ,MAAM,MAAM,KACxB,EAAA,EACV;IAEL,IAAMwP,IAAch2C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK;IAChF,IAAIk5C,GAAa;QACb,IAAMxB,IAAWC,GAAcuB,GAAa;YAAE,YAAAlB;QAAW;QACzD,IAAIN,MAAa,MACb,OAAOoE,GAAWh0C,GAAM+zC,GAAUnE;IAE1C;IACA,IAAM8B,IAAcjB,GAAiBv4C,GAAO;QAAE,YAAAg4C;IAAW;IACzD,OAAIwB,MAAgB,OACTsC,GAAWh0C,GAAM+zC,GAAUrC,KAE/B;AACX;AACA,SAASsC,GAAWh0C,CAAAA,EAAM4hC,CAAAA,EAAKgO,CAAAA;IAC3B,IAAI5vC,MAAS,SACT,OAAOovC,EAAS;QAAE,CAACpvC,EAAI,EAAG4vC;IAAS;IAEvC,OAAQhO;QACJ,KAAK;YACD,OAAOwN,EAAS;gBACZ,KAAKQ;gBACL,MAAMA;gBACN,OAAOA;gBACP,QAAQA;YACZ;QACJ,KAAK;YACD,OAAOR,EAAS;gBACZ,KAAKQ;gBACL,QAAQA;YACZ;QACJ,KAAK;YACD,OAAOR,EAAS;gBACZ,MAAMQ;gBACN,OAAOA;YACX;IACR;AACJ;AC5CO,SAASqE,GAAej0C,CAAAA,EAAM9H,CAAAA,EAAOkD,CAAAA;IACxC,IAAIujC;IACJzmC,IAAQA,EAAM,OAAA,CAAQ,MAAM;IAC5B,IAAMg8C,IAAYh8C,MAAU,KAAK,YAAYA,GACvCu5C,IAAe,OAAA,CAAQ9S,IAAKvjC,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAO84C,EAAS,MAAO,QAAQvV,MAAO,KAAA,IAASA,IAAKzmC;IACtI,OAAK,OAAO,KAAA,CAAMu5C,KAGX,OAFIrC,EAAS;QAAE,CAAC,CAAA,IAAA,EAAOpvC,EAAI,CAAE,CAAA,EAAGyxC;IAAa;AAGxD;AACO,SAAS0C,GAAKj8C,CAAAA,EAAOkD,CAAAA;IACxB,IAAIujC,GAAIC;IAER,IADA1mC,IAAAA,CAASkD,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK,KAAMA,GACvE;QAAC;QAAe;QAAU;KAAO,CAAE,QAAA,CAASA,IAE5C,OAAO;IAIX,IAAIA,EAAM,KAAA,CAAM,kBACZ,OAAOk3C,EAAS;QACZ,UAAU,OAAOl3C;QACjB,WAAW;IACf;IAGJ,IAAIshB,IAAQthB,EAAM,KAAA,CAAM;IACxB,IAAIshB,GACA,OAAO41B,EAAS;QACZ,UAAU,OAAO51B,CAAAA,CAAM,EAAE;QACzB,YAAY,OAAOA,CAAAA,CAAM,EAAE;IAC/B;IAIJ,IADAA,IAAQthB,EAAM,KAAA,CAAM,sBAChBshB,GAAO;QACP,IAAM46B,IAAYvE,GAAAA,CAAelR,IAAKnlB,CAAAA,CAAM,EAAC,MAAO,QAAQmlB,MAAO,KAAA,IAASA,IAAK;QACjF,OAAKyV,IAGEhF,EAAS;YACZ,UAAU,OAAO51B,CAAAA,CAAM,EAAE;YACzB,WAAA46B;QACJ,KALW;IAMf;IAGA,IADA56B,IAAQthB,EAAM,KAAA,CAAM,2BAChBshB,GAAO;QACP,IAAM46B,IAAYvE,GAAAA,CAAejR,IAAKplB,CAAAA,CAAM,EAAC,MAAO,QAAQolB,MAAO,KAAA,IAASA,IAAK;QACjF,OAAKwV,IAGEhF,EAAS;YACZ,UAAU,OAAO51B,CAAAA,CAAM,EAAE;YACzB,YAAY,OAAOA,CAAAA,CAAM,EAAE;YAC3B,WAAA46B;QACJ,KANW;IAOf;IACA,OAAO;AACX;AC3DO,SAASC,GAAYr0C,CAAAA,EAAM9H,CAAAA,EAAOggC,IAAU,CAAC,CAAA,EAAG98B,CAAAA;IACnD,IAAMg2C,IAAch2C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK;IAChF,OAAIk5C,MAAgB,KAAA,IACTzB,GAAiB3vC,GAAMoxC,GAAalZ,KAExCyY,GAAiB3wC,GAAM9H,GAAOggC;AACzC;AACO,SAASoc,GAAkBt0C,CAAAA,EAAM9H,CAAAA,EAAOggC,IAAU,CAAC,CAAA,EAAG98B,CAAAA;IACzD,IAAMw0C,IAAWC,GAAcz0C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK,EAAGggC;IAC9F,OAAI0X,IACOR,EAAS;QAAE,CAACpvC,EAAI,EAAG4vC;IAAS,KAAC,CAEpC13C,MAAU,YAAA,CACVA,IAAQ8H,EAAK,QAAA,CAAS,WAAW,UAAU,OAAA,GAExC2wC,GAAiB3wC,GAAM9H,GAAOggC,EAAO;AAChD;ACfO,SAASlC,GAAc99B,CAAAA,EAAOg4C,CAAAA,EAAY90C,CAAAA;IAC7C,IAAMg2C,IAAch2C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK;IAChF,IAAIk5C,GAAa;QACb,IAAMh3B,IAASi1B,GAAkB+B,GAAa;YAAE,YAAAlB;QAAW;QAC3D,IAAI,CAAC91B,GACD,OAAO;QAEX,IAAM,CAAC4C,GAAQizB,EAAI,GAAI71B;QACvB,IAAI61B,MAASd,EAAK,EAAA,EACd,OAAOoF,GAAsBv3B;QAIjC,IAAIizB,MAASd,EAAK,OAAA,EACd,OAAA51C,GAAK,+IACE;QAEX,IAAMq2C,IAAWI,GAAWhzB,GAAQizB,GAAM;YAAE,YAAAC;QAAW;QACvD,OAAIN,MAAa,OACNR,EAAS;YAAE,eAAeQ;QAAS,KAEvC;IACX;IACA,OAAOe,GAAiB,iBAAiBz4C,GAAO;QAAE,YAAAg4C;IAAW;AACjE;AACA,SAASqE,GAAsBC,CAAAA;IAC3B,OAAO;QACH,MAAM;QACN,UAASnmB,CAAAA;YACL,IAAMkH,IAAWlH,EAAM,QAAA;YACvB,IAAI,OAAOkH,KAAa,YAAY,OAAO,KAAA,CAAMA,IAC7C,OAAO;YAEXlH,EAAM,aAAA,GAAgB,KAAK,KAAA,CAAA,CAAOmmB,IAAMjf,IAAW,OAAO,OAAA,IAAW,OAAO;QAChF;IACJ;AACJ;ACrCO,SAAShC,GAAQr7B,CAAAA,EAAOkD,CAAAA;IAC3B,IAAMg2C,IAAch2C,KAAW,OAA4B,KAAA,IAASA,CAAAA,CAAOlD,EAAK;IAChF,IAAIk5C,GAAa;QACb,IAAMqD,IAAepF,GAAkB,OAAO+B;QAC9C,IAAIqD,GACA,OAAOrF,EAAS;YAAE,SAASqF,CAAAA,CAAa,EAAG;QAAA;IAEnD;IACA,IAAMC,IAAkBrF,GAAkBn3C;IAC1C,OAAIw8C,IACOtF,EAAS;QAAE,SAASsF,CAAAA,CAAgB,EAAC,GAAI;IAAI,KAEjD;AACX;ACbO,SAASC,GAAcz8C,CAAAA;IAC1B,IAAM+kB,IAAa,SAAS/kB,GAAO;IACnC,OAAI,OAAO,KAAA,CAAM+kB,KACN,OAEJ;QACH,MAAM;QACN,OAAO;YAAE,eAAeA,IAAa;QAAI;IAC7C;AACJ;AACO,SAAS23B,GAAa18C,CAAAA;IACzB,IAAIA,EAAM,QAAA,CAAS,MAAM;QACrB,IAAM,CAAC28C,IAAW,EAAA,EAAIC,IAAY,EAAE,CAAA,GAAI58C,EAAM,KAAA,CAAM,KAAK,IACnDw0B,IAAQqoB,GAAYF,IACpBloB,IAASooB,GAAYD;QAC3B,OAAIpoB,MAAU,QAAQC,MAAW,OACtB,OAEJ;YACH,MAAM;YACN,OAAO;gBACH,cAAc;oBACV,OAAAD;oBACA,QAAAC;gBACJ;YACJ;QACJ;IACJ;IACA,IAAM3P,IAAS+3B,GAAY78C;IAC3B,OAAI8kB,MAAW,OACJ,OAEJ;QACH,MAAM;QACN,OAAO;YACH,cAAc;gBACV,OAAOA;gBACP,QAAQA;YACZ;QACJ;IACJ;AACJ;AACA,SAAS+3B,GAAY78C,CAAAA;IACjB,IAAMkiB,IAASq2B,GAAiBv4C;IAChC,OAAO,OAAOkiB,KAAW,WAAWA,IAAS;AACjD;AC/BA,IAAqB46B,KAArB;IACI,YAAYlnC,CAAAA,EAAO1S,IAAS,CAAC,CAAA,EAAGJ,CAAAA,EAAOm1C,CAAAA,EAAQ8E,CAAAA,CAAU;QACrD,IAAItW,GAAIC,GAAIC,GAAIC,GAAIoW,GAAIC;QACxB,IAAA,CAAK,MAAA,GAAS/5C,GACd,IAAA,CAAK,KAAA,GAAQJ,GACb,IAAA,CAAK,QAAA,GAAW,GAChB,IAAA,CAAK,MAAA,GAAS,CAAA,GACd,IAAA,CAAK,UAAA,GAAa,CAAA,GAClB,IAAA,CAAK,OAAA,GAAU,CAAC,GAChB,IAAA,CAAK,OAAA,CAAQ,MAAA,GAASm1C;QACtB,IAAMzzB,IAAQ5O,EAAM,IAAA,GAAO,KAAA,CAAM,MAC7BsnC,IAAW,EAAC;QACZ14B,EAAM,MAAA,KAAW,IACjB,IAAA,CAAK,MAAA,GAAS5O,IAAAA,CAGd,IAAA,CAAK,MAAA,GAAA,CAAU6wB,IAAKjiB,EAAM,GAAA,EAAI,MAAO,QAAQiiB,MAAO,KAAA,IAASA,IAAK,IAClEyW,IAAW14B,CAAAA,GAEf,IAAA,CAAK,IAAA,GAAO,IAAA,CAAK,MAAA,CAAO,EAAC;QACzB,IAAM24B,IAAmB7yB,GAAAA,CAASoc,IAAK,IAAA,CAAK,MAAA,CAAO,KAAA,MAAW,QAAQA,MAAO,KAAA,IAAS,KAAA,IAASA,EAAG,OAAO;QAEzG,KAAA,IAAWpb,KAAU4xB,EACjB,IAAIC,CAAAA,CAAiB7xB,EAAM,EAAG;YAC1B,IAAM8xB,IAAAA,CAAmBzW,IAAKwW,CAAAA,CAAiB7xB,EAAM,MAAO,QAAQqb,MAAO,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAG,EAAC;YAC7FyW,MAAoB,KAAA,KAAA,CACpB,IAAA,CAAK,KAAA,GAAA,CAAA,CAAUxW,IAAK,IAAA,CAAK,KAAA,MAAW,QAAQA,MAAO,KAAA,IAASA,IAAK,CAAA,IAAKwW,CAAAA;YAE1E,IAAMC,IAAAA,CAAeL,IAAK/E,EAAO,gBAAA,MAAsB,QAAQ+E,MAAO,KAAA,IAAS,KAAA,IAASA,EAAG,KAAA;YAC3F,IAAIK,GAAa;gBACb,IAAM,CAACC,GAAK/rB,EAAG,GAAA,CAAK0rB,IAAKE,CAAAA,CAAiB7xB,EAAM,MAAO,QAAQ2xB,MAAO,KAAA,IAASA,IAAK;oBAAC;oBAAG;iBAAC;gBAAA,CACrFI,KAAeC,KAAOD,IAAc9rB,CAAAA,KAAAA,CAEpC,IAAA,CAAK,MAAA,GAAS,CAAA,CAAA;YAEtB,OAEI,IAAA,CAAK,MAAA,GAAS,CAAA;QAEtB,OACSslB,GAAWvrB,KAChB,IAAA,CAAK,MAAA,GAASA,MAAWyxB,IAEpBhG,GAAczrB,KACd2sB,EAAO,gBAAA,GAAA,CAIkBA,EAAO,gBAAA,CAAiB,KAAA,GAAQA,EAAO,gBAAA,CAAiB,MAAA,GAC5E,cACA,UAAA,MACoB3sB,IACtB,IAAA,CAAK,MAAA,GAAS,CAAA,IAGd,IAAA,CAAK,cAAA,KAVT,IAAA,CAAK,MAAA,GAAS,CAAA,IAcbA,MAAW,WACZ2sB,EAAO,YAAA,KAAiB,IACxB,IAAA,CAAK,cAAA,KAGL,IAAA,CAAK,MAAA,GAAS,CAAA,IAGb3sB,MAAW,SACZ2sB,EAAO,WAAA,KAAgB,SACvB,IAAA,CAAK,MAAA,GAAS,CAAA,IAGd,IAAA,CAAK,cAAA,KAGH,IAAA,CAAK,uCAAA,CAAwC3sB,MAAM,CACzD,IAAA,CAAK,MAAA,GAAS,CAAA,CAAA;IAG1B;IACA,QAAQ;QACJ,IAAI,IAAA,CAAK,MAAA,EACL,OAAO;YAAE,MAAM;QAAO;QAG1B,IAAMiK,IAAS,IAAA,CAAK,KAAA,CAAM,KAAA,CAAM,IAAA,CAAK,IAAI;QACzC,IAAIA,GACA,OAAOA;QAEX,IAAA,CAAK,eAAA;QACL,IAAM0jB,IAAK,IAAA,CAAK,YAAA;QAChB,OAAKA,IAGD,IAAA,CAAK,KAAA,KAAU,KAAA,IACR;YAAE,MAAM;YAAW,OAAO,IAAA,CAAK,KAAA;YAAO,SAASA;QAAG,IAEtDA,IALI;YAAE,MAAM;QAAO;IAM9B;IACA,eAAe;QACX,IAAIxS,GAAIC,GAAIC,GAAIC,GAAIoW;QACpB,IAAMt8C,IAAQ,IAAA,CAAK,MAAA,CAAO,KAAA,EACtBy1B,IAAQ;QACZ,OAAQ,IAAA,CAAK,IAAA;YACT,KAAK;YACL,KAAK;gBAAK;oBACN,IAAM7U,IAAQ,IAAA,CAAK,SAAA,CAAU,GAAG,GAAG,KAAA,CAAM;oBACzC,IAAIA,GAAO;wBACP,IAAMjb,IAAO,IAAA,CAAK,IAAA,KAAS,MAAM,WAAW;wBAC5C,IAAA,CAAK,OAAA,CAAA,CAAA,CAAUqgC,IAAAA,CAAMD,IAAKnlB,CAAAA,CAAM,EAAC,MAAO,QAAQmlB,MAAO,KAAA,IAAS,KAAA,IAASA,EAAG,MAAA,MAAY,QAAQC,MAAO,KAAA,IAASA,IAAK,CAAA,IAAK;wBAC1H,IAAM6W,IAAmBnF,GAAa92B,CAAAA,CAAM,EAAE,GACxC6U,IAAQmjB,GAAQjzC,GAAMk3C,GAAkB,IAAA,CAAK,UAAA,EAAY,IAAA,CAAK,IAAA,EAAA,CAAO5W,IAAK,IAAA,CAAK,MAAA,CAAO,KAAA,MAAW,QAAQA,MAAO,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAGtgC,EAAK;wBAChJ,IAAI8vB,GACA,OAAOA;oBACf;gBACJ;QACJ;QAgKA,IA/JI,IAAA,CAAK,aAAA,CAAc,SAAI,CACvBA,IAAQgmB,GAAY,UAAU,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,OAAA,EAASz7C,KAAU,OAA2B,KAAA,IAASA,EAAM,MAAM,GAC7Gy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,SAAI,CACvBA,IAAQgmB,GAAY,SAAS,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,OAAA,EAASz7C,KAAU,OAA2B,KAAA,IAASA,EAAM,KAAK,GAC3Gy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQimB,GAAkB,YAAY,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,OAAA,EAAS17C,KAAU,OAA2B,KAAA,IAASA,EAAM,QAAQ,GACvHy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQimB,GAAkB,aAAa,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,OAAA,EAAS17C,KAAU,OAA2B,KAAA,IAASA,EAAM,SAAS,GACzHy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQimB,GAAkB,YAAY,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,OAAA,EAAS17C,KAAU,OAA2B,KAAA,IAASA,EAAM,QAAQ,GACvHy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQimB,GAAkB,aAAa,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,OAAA,EAAS17C,KAAU,OAA2B,KAAA,IAASA,EAAM,SAAS,GACzHy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,eAAU,CAC7BA,IAAQoK,GAAW,IAAA,CAAK,IAAA,EAAM7/B,KAAU,OAA2B,KAAA,IAASA,EAAM,UAAU,GACxFy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,YAAO,CAC1BA,IAAQkH,GAAS,IAAA,CAAK,IAAA,EAAM38B,KAAU,OAA2B,KAAA,IAASA,EAAM,QAAA,EAAU,IAAA,CAAK,OAAO,GAClGy1B,KAAAA,CAEJA,IAAQ5U,GAAM,QAAQ,IAAA,CAAK,IAAA,EAAM7gB,KAAU,OAA2B,KAAA,IAASA,EAAM,SAAS,GAC1Fy1B,CAAAA,KAEA,IAAA,CAAK,aAAA,CAAc,eAAU,CAC7BA,IAAQykB,GAAa,QAAQ,IAAA,CAAK,IAAI,GAClCzkB,CAAAA,CAAAA,KAIR,IAAA,CAAK,aAAA,CAAc,YAAO,CAC1BA,IAAQye,GAAW,IAAA,CAAK,IAAA,EAAMl0C,KAAU,OAA2B,KAAA,IAASA,EAAM,UAAU,GACxFy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,cAAS,CACxB,IAAA,CAAK,aAAA,CAAc,aACnB90B,GAAK,uEAET80B,IAAQshB,GAAiB,eAAe,IAAA,CAAK,IAAA,EAAM;YAAE,WAAW,CAAA;QAAK,IACjEthB,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,YAAO,CAC1BA,IAAQ5U,GAAM,QAAQ,IAAA,CAAK,IAAA,EAAM7gB,KAAU,OAA2B,KAAA,IAASA,EAAM,MAAM,GACvFy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,UAAK,CACxBA,IAAQ5U,GAAM,MAAM,IAAA,CAAK,IAAA,EAAM7gB,KAAU,OAA2B,KAAA,IAASA,EAAM,eAAe,GAC9Fy1B,KAEA,IAAA,CAAK,aAAA,CAAc,eAAU,CAC7BA,IAAQykB,GAAa,MAAM,IAAA,CAAK,IAAI,GAChCzkB,CAAAA,CAAAA,KAIR,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQwY,GAAO,IAAA,CAAK,IAAA,EAAMjuC,IACtBy1B,KAEA,IAAA,CAAK,aAAA,CAAc,gBAAW,CAC9BA,IAAQykB,GAAa,UAAU,IAAA,CAAK,IAAI,GACpCzkB,CAAAA,CAAAA,KAIR,IAAA,CAAK,aAAA,CAAc,cAAS,CAC5BA,IAAQwlB,GAAa,IAAA,CAAK,IAAA,EAAMj7C,KAAU,OAA2B,KAAA,IAASA,EAAM,YAAY,GAC5Fy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,cAAS,CAC5BA,IAAQoa,GAAM,UAAU,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,UAAA,EAAY7vC,KAAU,OAA2B,KAAA,IAASA,EAAM,KAAK,GACzGy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,WAAM,CACzBA,IAAQoa,GAAM,OAAO,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,UAAA,EAAY7vC,KAAU,OAA2B,KAAA,IAASA,EAAM,KAAK,GACtGy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,YAAO,CAC1BA,IAAQoa,GAAM,QAAQ,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,UAAA,EAAY7vC,KAAU,OAA2B,KAAA,IAASA,EAAM,KAAK,GACvGy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQoa,GAAM,SAAS,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,UAAA,EAAY7vC,KAAU,OAA2B,KAAA,IAASA,EAAM,KAAK,GACxGy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQoa,GAAM,SAAS,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,UAAA,EAAY7vC,KAAU,OAA2B,KAAA,IAASA,EAAM,KAAK,GACxGy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,YAAO,CACtB,IAAA,CAAK,aAAA,CAAc,UACnBA,IAAQ4lB,GAAe,QAAQ,IAAA,CAAK,IAAA,EAAMr7C,KAAU,OAA2B,KAAA,IAASA,EAAM,QAAQ,IAEjG,IAAA,CAAK,aAAA,CAAc,YACxBy1B,IAAQ4lB,GAAe,UAAU,IAAA,CAAK,IAAA,EAAMr7C,KAAU,OAA2B,KAAA,IAASA,EAAM,UAAU,IAG1Gy1B,IAAQ8lB,GAAK,IAAA,CAAK,IAAA,EAAMv7C,KAAU,OAA2B,KAAA,IAASA,EAAM,IAAI,GAEhFy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,WAAM,CACzBA,IAAQ4lB,GAAe,QAAQ,IAAA,CAAK,IAAA,EAAMr7C,KAAU,OAA2B,KAAA,IAASA,EAAM,QAAQ,GAClGy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,aAAQ,CAC3BA,IAAQ4lB,GAAe,UAAU,IAAA,CAAK,IAAA,EAAMr7C,KAAU,OAA2B,KAAA,IAASA,EAAM,UAAU,GACtGy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,4BAAuB,CAC1CA,IAAQykB,GAAa,UAAU,IAAA,CAAK,IAAI,GACpCzkB,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,sBAAiB,CACpCA,IAAQsmB,GAAc,IAAA,CAAK,IAAI,GAC3BtmB,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,qBAAgB,CACnCA,IAAQumB,GAAa,IAAA,CAAK,IAAI,GAC1BvmB,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,qBAAgB,CACnCA,IAAQsiB,GAAiB,gBAAgB,IAAA,CAAK,IAAI,GAC9CtiB,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,cAAS,CAC5BA,IAAQ5U,GAAM,UAAU,IAAA,CAAK,IAAA,EAAM7gB,KAAU,OAA2B,KAAA,IAASA,EAAM,MAAM,GACzFy1B,CAAAA,GACA,OAAOA;QAEf,IAAI,IAAA,CAAK,aAAA,CAAc,eAAe;YAClC,IAAMqnB,IAAY,SAAS,IAAA,CAAK,IAAA,EAAM;YACtC,IAAI,CAAC,OAAO,KAAA,CAAMA,IACd,OAAOtG,EAAS;gBAAE,WAAAsG;YAAU;QAEpC;QAMA,IALI,IAAA,CAAK,aAAA,CAAc,eAAU,CAC7BrnB,IAAQkF,GAAQ,IAAA,CAAK,IAAA,EAAM36B,KAAU,OAA2B,KAAA,IAASA,EAAM,OAAO,GAClFy1B,CAAAA,KAGJ,IAAA,CAAK,aAAA,CAAc,gBAAW,CAC9BA,IAAQ2H,GAAc,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,UAAA,EAAYp9B,KAAU,OAA2B,KAAA,IAASA,EAAM,aAAa,GAC/Gy1B,CAAAA,GACA,OAAOA;QAEf,IAAI,IAAA,CAAK,aAAA,CAAc,OAAO;YAC1B,IAAMsnB,IAAS,OAAA,CAAQT,IAAAA,CAAMpW,IAAKlmC,KAAU,OAA2B,KAAA,IAASA,EAAM,MAAA,MAAY,QAAQkmC,MAAO,KAAA,IAAS,KAAA,IAASA,CAAAA,CAAG,IAAA,CAAK,IAAI,CAAA,MAAO,QAAQoW,MAAO,KAAA,IAASA,IAAK,IAAA,CAAK,IAAI;YAC5L,IAAI,CAAC,OAAO,KAAA,CAAMS,IACd,OAAOvG,EAAS;gBAAE,QAAAuG;YAAO;QAEjC;QACA,OAAAp8C,GAAK,CAAA,EAAA,EAAK,IAAA,CAAK,IAAI,CAAA,6BAAA,CAA+B,GAC3C;IACX;IACA,wCAAwCiqB,CAAAA,EAAQ;QAC5C,IAAImb;QAEJ,IAAInb,CAAAA,CAAO,EAAC,KAAM,KACd,OAAO,CAAA;QACX,IAAMhK,IAAQgK,EAAO,KAAA,CAAM;QAC3B,IAAI,CAAChK,GACD,OAAO,CAAA;QACX,IAAI,CAAA,CAAG,CAAA,CAAA,CAAAmlB,IAAK,IAAA,CAAK,OAAA,CAAQ,MAAA,MAAY,QAAQA,MAAO,KAAA,CAAA,KAAkBA,EAAG,gBAAA,GACrE,OAAA,IAAA,CAAK,MAAA,GAAS,CAAA,GACP,CAAA;QAEX,IAAMiX,IAAa,IAAA,CAAK,OAAA,CAAQ,MAAA,CAAO,gBAAA,EACjC,GAAG51C,IAAO,EAAA,EAAI4hC,IAAM,EAAA,EAAIiU,IAAS,EAAE,CAAA,GAAIr8B,GACvCs8B,IAAiBlU,MAAQ,MAAMgU,EAAW,KAAA,GAAQA,EAAW,MAAA,EAC7DG,IAAe1G,GAAkBwG,GAAQ,IAAA,CAAK,OAAO;QAC3D,IAAIE,MAAiB,MACjB,OAAA,IAAA,CAAK,MAAA,GAAS,CAAA,GACP,CAAA;QAEX,IAAM,CAACC,GAAO/F,EAAI,GAAI8F;QACtB,OAAI9F,MAAS,QAAA,CACT,IAAA,CAAK,MAAA,GAAS,CAAA,CAAA,GAAA,CAEdjwC,MAAS,QAAQ81C,KAAkBE,IAAQF,KAAkBE,CAAAA,IAC7D,IAAA,CAAK,cAAA,KAGL,IAAA,CAAK,MAAA,GAAS,CAAA,GAEX,CAAA;IACX;IACA,QAAQH,IAAS,CAAA,EAAG;QAChB,IAAA,CAAK,QAAA,IAAYA,GACjB,IAAA,CAAK,IAAA,GAAO,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,QAAQ,CACzC;IAAA;IACA,IAAI,OAAO;QACP,OAAO,IAAA,CAAK,SAAA,CAAU,GAAG,IAAA,CAAK,MAAA,CAAO,MAAM;IAC/C;IACA,UAAUI,CAAAA,EAAO/nC,CAAAA,EAAK;QAClB,OAAO,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,IAAA,CAAK,QAAA,GAAW+nC,GAAO,IAAA,CAAK,QAAA,GAAW/nC;IACpE;IACA,cAAcrI,CAAAA,EAAQ;QAClB,OAAI,IAAA,CAAK,SAAA,CAAU,GAAGA,EAAO,MAAM,MAAMA,IAAAA,CACrC,IAAA,CAAK,OAAA,CAAQA,EAAO,MAAM,GACnB,CAAA,CAAA,IAEJ,CAAA;IACX;IACA,kBAAkB;QACV,IAAA,CAAK,IAAA,KAAS,OAAA,CACd,IAAA,CAAK,OAAA,IACL,IAAA,CAAK,UAAA,GAAa,CAAA,GAClB,IAAA,CAAK,OAAA,CAAQ,UAAA,GAAa,CAAA,CAAA;IAElC;IACA,iBAAiB;QACb,IAAI84B;QACJ,IAAA,CAAK,KAAA,GAAA,CAAA,CAAUA,IAAK,IAAA,CAAK,KAAA,MAAW,QAAQA,MAAO,KAAA,IAASA,IAAK,CAAA,IAAK;IAC1E;AACJ;AC7XO,SAASuX,GAAYC,CAAAA;IACxB,IAAIC,IAAa,EAAC,EACd5nB,IAAS;IACb,OAAA2nB,EAAO,OAAA,CAASroC,CAAAA;QACZ,IAAI,OAAOA,KAAU,UACjBsoC,IAAa;eAAIA;eAAe1xC,GAAMoJ;SAAM;aAAA,IAEvC,MAAM,OAAA,CAAQA,IACnBsoC,IAAa;eAAIA;eAAetoC,EAAM,OAAA,CAAQpJ;SAAM;aAAA,IAE/C,OAAOoJ,KAAU,YAAYA,MAAU,MAC5C,KAAA,IAAW,CAAC7U,GAAKf,EAAK,IAAK,OAAO,OAAA,CAAQ4V,GAClC,OAAO5V,KAAU,YACjBk+C,IAAa;eAAIA;eAAgBl+C,IAAQwM,GAAMzL,KAAO,EAAG;SAAA,GAEpDu1B,IACLA,CAAAA,CAAOv1B,EAAG,GAAIf,IAGds2B,IAAS;YAAE,CAACv1B,EAAG,EAAGf;QAAM;IAIxC,IACO;QAACk+C,EAAW,MAAA,CAAO,SAAS,MAAA,CAAOC;QAAS7nB;KACvD;AAAA;AACA,SAAS9pB,GAAMrH,CAAAA;IACX,OAAOA,EAAI,IAAA,GAAO,KAAA,CAAM;AAC5B;AACA,SAASg5C,GAAOlgC,CAAAA,EAAW9V,CAAAA,EAAOi2C,CAAAA;IAC9B,OAAOA,EAAQ,OAAA,CAAQngC,OAAe9V;AAC1C;AC3BO,SAASk2C,GAAkBh+C,CAAAA;IAC9B,IAAIomC;IACJ,OAAA,CAASA,IAAKpmC,KAAY,OAA6B,KAAA,IAASA,EAAQ,MAAA,CAAO,CAAC8qB,GAAOY,IAAAA,CAAY;YAAE,GAAGZ,CAAAA;YAAO,GAAGmzB,GAAmBvyB,EAAO,OAAO,CAAE;QAAA,CAAA,GAAI,CAAC,EAAC,MAAO,QAAQ0a,MAAO,KAAA,IAASA,IAAK,CAAC;AACpM;AACA,SAAS6X,GAAmBC,CAAAA;IACxB,IAAIC,IAAQ,CAAC;IACb,OAAAD,EAAS;QACL,cAAeE,CAAAA;YACXD,IAAQC;QACZ;QACA,GAAGC,EACP;IAAA,IACOF;AACX;AACA,SAASG,GAAe/uC,CAAAA;IACpB,MAAM,IAAI,MAAM,CAAA,kDAAA,EAAqDA,EAAE,iBAAA,CAAmB;AAC9F;AACA,IAAM8uC,KAAO;IACT,eAAeC;IACf,SAASA;IACT,YAAYA;IACZ,GAAGA;IACH,QAAQA;IACR,OAAOA;IACP,UAAUA;IACV,QAAQA;IACR,aAAaA;IACb,gBAAgBA;IAChB,SAAS;AACb;ApB1BO,SAASC,GAAOC,CAAAA,EAAc9B,CAAAA;IACjC,IAAM75C,IAAAA,CAAAA,GAAS,GAAAgmB,OAAAA,EAAc41B,GAAYD,KACnC5G,IAAS,CAAC,GACV8G,IAAcV,GAAkBn7C,EAAO,OAAO,GAC9C87C,IAAoB,CAAC,GACrBC,IAAmB,OAAO,OAAA,CAAQF,GACnC,GAAA,CAAI,CAAC,CAACG,GAAM/oB,EAAK,GACd,OAAOA,KAAU,WAAA,CAEjB6oB,CAAAA,CAAkBE,EAAI,GAAI/oB,GACnB;YAAC+oB;YAAM;gBAAE,MAAM;YAAO;SAAC,IAE3B;YAACA;YAAMhI,EAAS/gB;SAC1B,EACI,MAAA,CAAO,CAAC,GAAG8iB,EAAE,GAAMA,EAAG,IAAA,KAAS;IACpC,SAASkG;QACL,OAAQ;YACJlH,EAAO,gBAAA,GAAmB,CAAA,CAAA,EAAIA,EAAO,gBAAA,CAAiB,KAAK,CAAA,CAAA,GAAK,CAAA;YAChEA,EAAO,gBAAA,GAAmB,CAAA,CAAA,EAAIA,EAAO,gBAAA,CAAiB,MAAM,CAAA,CAAA,GAAK,CAAA;YACjEA,EAAO,SAAA,GAAY,CAAA,EAAA,EAAKA,EAAO,SAAS,CAAA,CAAA,GAAK,CAAA;YAC7CA,EAAO,WAAA,KAAgB,SAAS,SAAS,CAAA;YACzCA,EAAO,YAAA,KAAiB,IAAI,WAAW,CAAA;SAC3C,CACK,MAAA,CAAO,SACP,IAAA,CAAK,SAAS;IACvB;IACA,IAAImH,IAAaD,KACXE,IAAgB,CAAC;IACvB,SAASC;QACL,IAAMC,IAAWF,CAAAA,CAAcD,EAAU;QACzC,IAAIG,GACA,OAAOA;QAEX,IAAMz8C,IAAQ,IAAIi2C,GAAMkG;QACxB,OAAAI,CAAAA,CAAcD,EAAU,GAAIt8C,GACrBA;IACX;IACA,SAASqzB,EAAAA,GAAS8nB,CAAAA;QACd,IAAMn7C,IAAQw8C,KACVt3B,IAAW,CAAC,GACVw3B,IAAa,EAAC,EACdC,IAAU,EAAC,EACX,CAAChB,GAAWiB,EAAS,GAAI1B,GAAYC,IAGrC0B,IAASlB,EAAU,IAAA,CAAK,MACxBlpB,IAASzyB,EAAM,QAAA,CAAS68C;QAC9B,IAAIpqB,GACA,OAAO;YAAE,GAAGA,CAAAA;YAAQ,GAAImqB,KAAwB,CAAC,CAAG;QAAA;QAExD,KAAA,IAAWE,KAAWnB,EAAW;YAC7B,IAAIoB,IAAU/8C,EAAM,KAAA,CAAM88C;YAC1B,IAAI,CAACC,KAAWD,KAAWZ,GAAmB;gBAC1C,IAAMc,KAAc3pB,EAAM6oB,CAAAA,CAAkBY,EAAQ;gBACpD98C,EAAM,KAAA,CAAM88C,GAAS1I,EAAS4I,MAC9B93B,IAAW;oBAAE,GAAGA,CAAAA;oBAAU,GAAG83B,EAAY;gBAAA;gBACzC;YACJ;YAGA,OADAD,IADe,IAAI/C,GAAY8C,GAAS18C,GAAQJ,GAAOm1C,GAAQ8E,GAC9C,KAAA,IACT8C,EAAQ,IAAA;gBACZ,KAAK;oBACD73B,IAAW;wBAAE,GAAGA,CAAAA;wBAAU,GAAG63B,EAAQ,KAAM;oBAAA,GAC3C/8C,EAAM,KAAA,CAAM88C,GAASC;oBACrB;gBACJ,KAAK;oBACDL,EAAW,IAAA,CAAKK;oBAChB;gBACJ,KAAK;oBACDJ,EAAQ,IAAA,CAAKI;oBACb;gBACJ,KAAK;oBACD/8C,EAAM,KAAA,CAAM88C,GAASC;oBACrB;YACR;QACJ;QACA,IAAIJ,EAAQ,MAAA,GAAS,GAAG;YACpBA,EAAQ,IAAA,CAAK,CAAC7sC,GAAGC,IAAMD,EAAE,KAAA,GAAQC,EAAE,KAAK;YACxC,KAAA,IAAWktC,KAAgBN,EACvB,OAAQM,EAAa,OAAA,CAAQ,IAAA;gBACzB,KAAK;oBACD/3B,IAAW;wBAAE,GAAGA,CAAAA;wBAAU,GAAG+3B,EAAa,OAAA,CAAQ,KAAM;oBAAA;oBACxD;gBACJ,KAAK;oBACDP,EAAW,IAAA,CAAKO,EAAa,OAAO;oBACpC;YACR;QAER;QACA,IAAIP,EAAW,MAAA,GAAS,GAAG;YACvB,KAAA,IAAWQ,KAAaR,EAAY;gBAChC,IAAM3Z,IAAQma,EAAU,QAAA,CAASh4B;gBAC7B6d,KACAxkC,GAAKwkC;YAEb;YACAiV,GAAqB9yB;QACzB;QAGA,OAAI23B,MAAW,MACX78C,EAAM,QAAA,CAAS68C,GAAQ33B,IAEvB03B,KAAAA,CACA13B,IAAW;YAAE,GAAGA,CAAAA;YAAU,GAAG03B,CAAU;QAAA,CAAA,GAEpC13B;IACX;IACA,SAASzG,EAAM4J,CAAAA;QACX,IAAM80B,IAAW9pB,EAAMhL,EAClB,KAAA,CAAM,QACN,GAAA,CAAK+zB,CAAAA,IAASA,EAAK,OAAA,CAAQ,sBAAsB,KACjD,GAAA,CAAKA,CAAAA,IAAS,CAAA,GAAA,EAAMA,EAAI,CAAE,EAC1B,IAAA,CAAK;QACV,OAAO,OAAOe,EAAS,eAAA,IAAoB,WACrCA,EAAS,eAAA,GACT,KAAA;IACV;IAEA,IAAMC,IAAa,CAACC,GAAAA,GAAYrG;QAC5B,IAAI30C,IAAM;QACV,OAAAg7C,EAAQ,OAAA,CAAQ,CAACxyC,GAAQ7H;YACrB,IAAI2gC;YACJthC,KAAOwI,IAAAA,CAAAA,CAAW84B,IAAKqT,CAAAA,CAAOh0C,EAAC,MAAO,QAAQ2gC,MAAO,KAAA,IAASA,IAAK,EAAA;QACvE,IACOtQ,EAAMhxB;IACjB;IACA,OAAA+6C,EAAW,KAAA,GAAQ/pB,GACnB+pB,EAAW,KAAA,GAAQ3+B,GACnB2+B,EAAW,WAAA,GAAc,CAAA,GAAIhD;QACzB,IAAMyC,IAASzC,EAAS,IAAA,GAAO,IAAA,CAAK,MAC9Bp6C,IAAQw8C,KACR/pB,IAASzyB,EAAM,cAAA,CAAe68C;QACpC,IAAIpqB,MAAW,KAAA,GACX,OAAOA;QAIX,IAAM6qB,IAFS,IAAItD,GAAY,CAAA,EAAG6C,EAAM,KAAA,CAAA,EAASz8C,GAAQJ,GAAOm1C,GAAQ8E,GACtD,KAAA,GACO,IAAA,KAAS;QAClC,OAAAj6C,EAAM,cAAA,CAAe68C,GAAQS,IACtBA;IACX,GACAF,EAAW,mBAAA,GAAuBG,CAAAA;QAC9BpI,EAAO,gBAAA,GAAmBoI,GAC1BjB,IAAaD;IACjB,GACAe,EAAW,YAAA,GAAgBI,CAAAA;QACvBrI,EAAO,SAAA,GAAYqI,GACnBlB,IAAaD;IACjB,GACAe,EAAW,eAAA,GAAmBK,CAAAA;QAC1BtI,EAAO,YAAA,GAAesI,GACtBnB,IAAaD;IACjB,GACAe,EAAW,cAAA,GAAkBM,CAAAA;QACzBvI,EAAO,WAAA,GAAcuI,GACrBpB,IAAaD;IACjB,GACOe;AACX;AAEA,SAASpB,GAAY57C,CAAAA;IACjB,OAAO;QACH,GAAGA,CAAAA;QAIH,SAAS;YAAC;SACd;IAAA;AACJ;AqB1KA,IAAMu9C,KAA2B;IAC/B,SAAS,CAAC,EAAE,cAAAC,CAAa,EAAA;QA4BvBA,EA3BgB;YACd,aAAa;gBAAE,WAAW;YAAgC;YAC1D,QAAQ;gBACN,WACE;YACJ;YACA,aAAa;gBACX,WACE;YACJ;YACA,aAAa;gBACX,WACE;YACJ;YACA,aAAa;gBACX,WACE;YACJ;YACA,cAAc;gBACZ,WAAW;YACb;YACA,gBAAgB;gBACd,WAAW;YACb;YACA,eAAe;gBAAE,WAAW;YAAY;QAC1C;IAGF;AACF;AAEA,SAASC,GAASz9C,CAAAA;IAChB,OAAa07C,GACX;QACE,GAAG17C,CAAAA;QACH,SAAS;eAAC,CAAIA,KAAA,OAAA,KAAA,IAAAA,EAAQ,OAAA,KAAW,EAAC;YAAIu9C;SACxC;IAAA,GACA;AAEJ;AAEA,IAAI9N;AACW,SAARiO,GAAuB,EAC5B,OAAApsB,CAAAA,EACA,QAAAC,CAAAA,EACA,QAAAvxB,CACF,EAAA;IAKE,OAAKyvC,MAAAA,CACHA,KAAKgO,GAASz9C,EAAM,GAEtByvC,GAAG,mBAAA,CAAoB;QAAE,OAAO,CAACne;QAAO,QAAQ,CAACC;IAAO,IACjDke;AACT;ACjDA,IAAMkO,KAAY,IAAI;AA6BtB,eAAOC,GACLtO,CAAAA,EACAzlC,CAAAA;IAEA,IAAMitB,IAAO,MAAM9L;IACnB,IAAI,CAAC8L,KAAQ,CAACA,EAAK,IAAA,EACjB,MAAM,IAAI,MACR,gEAAgEA;IAGpEjtB,EAAQ,KAAA,GAAQA,EAAQ,KAAA,IAAS,EAAC;IAElC,IAAImzB;IACA2gB,GAAU,GAAA,CAAI9zC,EAAQ,KAAK,IAC7BmzB,IAAO2gB,GAAU,GAAA,CAAI9zC,EAAQ,KAAK,IAElC8zC,GAAU,GAAA,CAAI9zC,EAAQ,KAAA,EAAQmzB,IAAO,IAAI8T,GAAWjnC,EAAQ,KAAK;IAGnE,IAAMg0C,IAAe,WAAWh0C,IAAUA,EAAQ,KAAA,GAAQ,KAAA,GACpDi0C,IAAgB,YAAYj0C,IAAUA,EAAQ,MAAA,GAAS,KAAA,GAEvD8Q,IAAOmc,EAAK,IAAA,CAAK,MAAA;IACnB+mB,KAAcljC,EAAK,QAAA,CAASkjC,IAC5BC,KAAenjC,EAAK,SAAA,CAAUmjC,IAClCnjC,EAAK,gBAAA,CAAiBmc,EAAK,kBAAkB,GAC7Cnc,EAAK,WAAA,CAAYmc,EAAK,SAAS,GAC/Bnc,EAAK,eAAA,CAAgBmc,EAAK,UAAU,GACpCnc,EAAK,aAAA,CAAcmc,EAAK,gBAAgB,GACxCnc,EAAK,iBAAA,CAAkBmc,EAAK,kBAAkB,GAC9Cnc,EAAK,WAAA,CAAYmc,EAAK,eAAe;IAErC,IAAMoG,IAAiB;QAAE,GAAGrzB,EAAQ,cAAe;IAAA,GAa7Ck0C,IAA6B,IAAI;IAEvCn+C,GAAM,KAAA,IACN,MAAMyzB,GAAeic;IAErB,IAAMxlC,IAAUg3B,GAAOwO,GAAS;QAC9B,IAAI;QACJ,aAAa,CAAC;QACd,gBAAgB;YACd,UAAU;YACV,YAAY;YACZ,YAAY;YACZ,WAAW;YACX,YAAY;YACZ,OAAO;YACP,SAAS;YACT,YAAY;YAGZ,gBAAgBuO;YAChB,iBAAiBC;QACnB;QACA,QAAQnjC;QACR,MAAAqiB;QACA,WAAWnzB,EAAQ,SAAA;QACnB,OAAOA,EAAQ,KAAA;QACf,gBAAAqzB;QACA,yBAAyB,CAAC,CAACrzB,EAAQ,mBAAA;QACnC,gBAAgBA,EAAQ,cAAA;QACxB,aAAa,CAAC4lC,GAAIxc;YAMhB,IAAM2c,IAAW;gBAAE,GALA8N,GAAM;oBACvB,OAAOG;oBACP,QAAQC;oBACR,QAAQj0C,EAAQ,cAClB;gBAAA,GACiC;oBAAC4lC;iBAAU,CAAE;YAAA;YAC9C,OAAI,OAAOG,EAAS,UAAA,IAAe,YAAA,CACjCA,EAAS,UAAA,GACPA,EAAS,UAAA,GAAA,CAAc,CAACA,EAAS,QAAA,IAAY3c,EAAM,QAAA,IAAY,EAAA,CAAA,GAE/D2c,EAAS,WAAA,IAAeA,EAAS,SAAA,IAAA,CACnCA,EAAS,SAAA,GAAaA,EAAS,SAAA,CAAqB,OAAA,CAClD,kBACAA,EAAS,WACX,CAAA,GAEKA;QACT;IACF,IAEMM,IAAAA,CAAuB,MAAMpmC,EAAQ,IAAA,EAAK,EAAG,KAAA;IAKnD,IAAID,EAAQ,mBAAA,IACNqmC,EAAoB,MAAA,EAAQ;QAC9B,IAAM8N,IAAgBC,GAAuB/N,IACvC9sB,IAAuB,EAAC,EACxBJ,IAAiC,CAAC;QAExC,MAAM,QAAQ,GAAA,CACZ,OAAO,OAAA,CAAQg7B,GAAe,OAAA,CAAQ,CAAC,CAAC37C,GAAMg/B,EAAQ,GACpDA,EAAS,GAAA,CAAK6c,CAAAA;gBACZ,IAAMrgD,IAAM,CAAA,EAAGwE,EAAI,CAAA,EAAI67C,EAAQ,CAAA;gBAC/B,OAAIH,EAA2B,GAAA,CAAIlgD,KAC1B,OAAA,CAETkgD,EAA2B,GAAA,CAAIlgD,IAExBgM,EACJ,mBAAA,CAAoBxH,GAAM67C,GAC1B,IAAA,CAAMC,CAAAA;oBACD,OAAOA,KAAU,WACnBn7B,CAAAA,CAAOk7B,EAAQ,GAAIC,IACVA,KAAAA,CACL,MAAM,OAAA,CAAQA,KAChB/6B,EAAM,IAAA,IAAQ+6B,KAEd/6B,EAAM,IAAA,CAAK+6B,EAAK;gBAGtB,EAAC;YACL,MAKJnhB,EAAK,QAAA,CAAS5Z,IACd,OAAO,MAAA,CAAO8Z,GAAgBla;IAChC;IAGF,MAAMlZ,EAAQ,IAAA,IACd6Q,EAAK,eAAA,CAAgBkjC,GAAcC,GAAehnB,EAAK,aAAa;IAEpE,IAAM52B,IAAAA,CAAW,MAAM4J,EAAQ,IAAA,CAAK;QAAC;QAAG;KAAE,CAAA,EAAG,KAAA,EAEvCs0C,IAAgBzjC,EAAK,gBAAA,IACrB0jC,IAAiB1jC,EAAK,iBAAA;IAE5B,OAAAA,EAAK,aAAA,IAEE64B,GAAI;QAAE,OAAO4K;QAAe,QAAQC;QAAgB,SAAAn+C;IAAQ;AACrE;AAEA,SAAS+9C,GACP/N,CAAAA;IAEA,IAAM8N,IAAgB,CAAC,GACnBM,IAAc,CAAC;IAEnB,KAAA,IAAW,EAAE,MAAA7sC,CAAAA,EAAM,QAAAmc,CAAO,EAAA,IAAKsiB,EAAqB;QAClD,IAAM7tC,IAAO6sC,GAAmBz9B,GAAMmc,GAAQ,IAAA,CAAK;QACnD0wB,CAAAA,CAAYj8C,EAAI,GAAIi8C,CAAAA,CAAYj8C,EAAI,IAAK,IACzCi8C,CAAAA,CAAYj8C,EAAI,IAAKoP;IACvB;IAEA,OAAA,OAAO,IAAA,CAAK6sC,GAAa,OAAA,CAASj8C,CAAAA;QAChC27C,CAAAA,CAAc37C,EAAI,GAAI27C,CAAAA,CAAc37C,EAAI,IAAK,EAAC,EAC1CA,MAAS,UACX27C,CAAAA,CAAc37C,EAAI,CAAE,IAAA,IACf44C,GAAOvtB,GAAQ4wB,CAAAA,CAAYj8C,EAAI,EAAG,gBACvC,CAEA27C,CAAAA,CAAc37C,EAAI,CAAE,EAAC,GAAI27C,CAAAA,CAAc37C,EAAI,CAAE,EAAC,IAAK,IACnD27C,CAAAA,CAAc37C,EAAI,CAAE,EAAC,IAAK44C,GACxBvtB,GACE4wB,CAAAA,CAAYj8C,EAAI,EAChB,YACAA,MAAS,YAAY,KAAA,IAAYA,IAEnC,IAAA,CAAK,GAAE;IAEb,IAEO27C;AACT;AAEA,SAAS/C,GAAU/zC,CAAAA;IACjB,OAAO,MAAM,IAAA,CAAK,IAAI,IAAIA;AAC5B"}},
    {"offset": {"line": 10651, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}